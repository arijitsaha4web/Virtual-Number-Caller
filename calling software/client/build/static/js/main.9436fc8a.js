/*! For license information please see main.9436fc8a.js.LICENSE.txt */
(()=>{var e={6114:(e,t,n)=>{"use strict";n(7489).default,n(11).default,n(7493);var r=n(8391);var i=n(4722)},5554:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncQueue=void 0;var o=n(5242),a=function(){function e(){this._operations=[]}return e.prototype.enqueue=function(e){var t=!!this._operations.length,n=new o.default;return this._operations.push({deferred:n,callback:e}),t||this._processQueue(),n.promise},e.prototype._processQueue=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o,a,s;return i(this,(function(i){switch(i.label){case 0:if(!this._operations.length)return[3,5];e=this._operations[0],t=e.deferred,n=e.callback,r=void 0,o=void 0,a=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n()];case 2:return r=i.sent(),a=!0,[3,4];case 3:return s=i.sent(),o=s,[3,4];case 4:return this._operations.shift(),a?t.resolve(r):t.reject(o),[3,0];case 5:return[2]}}))}))},e}();t.AsyncQueue=a},5379:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2428),s=n(11),l=n(7493),u=n(8391),c=n(2302),d=n(9678),p=n(7401),f={audioinput:"Audio Input",audiooutput:"Audio Output"},h=function(e){function t(t,n,r){var i,o=e.call(this)||this;o.availableInputDevices=new Map,o.availableOutputDevices=new Map,o._audioConstraints=null,o._defaultInputDeviceStream=null,o._enabledSounds=((i={})[s.default.SoundName.Disconnect]=!0,i[s.default.SoundName.Incoming]=!0,i[s.default.SoundName.Outgoing]=!0,i),o._inputDevice=null,o._inputDevicePromise=null,o._isPollingInputVolume=!1,o._log=new u.default("AudioHelper"),o._processedStream=null,o._selectedInputDeviceStream=null,o._unknownDeviceIndexes={audioinput:{},audiooutput:{}},o._updateAvailableDevices=function(){return o._mediaDevices&&o._enumerateDevices?o._enumerateDevices().then((function(e){o._updateDevices(e.filter((function(e){return"audiooutput"===e.kind})),o.availableOutputDevices,o._removeLostOutput),o._updateDevices(e.filter((function(e){return"audioinput"===e.kind})),o.availableInputDevices,o._removeLostInput);var t=o.availableOutputDevices.get("default")||Array.from(o.availableOutputDevices.values())[0];[o.speakerDevices,o.ringtoneDevices].forEach((function(e){!e.get().size&&o.availableOutputDevices.size&&o.isOutputSelectionSupported&&e.set(t.deviceId).catch((function(e){o._log.warn("Unable to set audio output devices. "+e)}))}))})):Promise.reject("Enumeration not supported")},o._removeLostInput=function(e){if(!o.inputDevice||o.inputDevice.deviceId!==e.deviceId)return!1;o._destroyProcessedStream(),o._replaceStream(null),o._inputDevice=null,o._maybeStopPollingVolume();var t=o.availableInputDevices.get("default")||Array.from(o.availableInputDevices.values())[0];return t&&o.setInputDevice(t.deviceId),!0},o._removeLostOutput=function(e){var t=o.speakerDevices.delete(e),n=o.ringtoneDevices.delete(e);return t||n},r=Object.assign({AudioContext:"undefined"!==typeof AudioContext&&AudioContext,setSinkId:"undefined"!==typeof HTMLAudioElement&&HTMLAudioElement.prototype.setSinkId},r),o._beforeSetInputDevice=r.beforeSetInputDevice||function(){return Promise.resolve()},o._updateUserOptions(r),o._audioProcessorEventObserver=r.audioProcessorEventObserver,o._mediaDevices=r.mediaDevices||navigator.mediaDevices,o._onActiveInputChanged=n,o._enumerateDevices="function"===typeof r.enumerateDevices?r.enumerateDevices:o._mediaDevices&&o._mediaDevices.enumerateDevices.bind(o._mediaDevices);var a=!(!r.AudioContext&&!r.audioContext),l=!!o._enumerateDevices;r.enabledSounds&&(o._enabledSounds=r.enabledSounds);var d="function"===typeof r.setSinkId;return o.isOutputSelectionSupported=l&&d,o.isVolumeSupported=a,o.isVolumeSupported&&(o._audioContext=r.audioContext||r.AudioContext&&new r.AudioContext,o._audioContext&&(o._inputVolumeAnalyser=o._audioContext.createAnalyser(),o._inputVolumeAnalyser.fftSize=32,o._inputVolumeAnalyser.smoothingTimeConstant=.3)),o.ringtoneDevices=new c.default("ringtone",o.availableOutputDevices,t,o.isOutputSelectionSupported),o.speakerDevices=new c.default("speaker",o.availableOutputDevices,t,o.isOutputSelectionSupported),o.addListener("newListener",(function(e){"inputVolume"===e&&o._maybeStartPollingVolume()})),o.addListener("removeListener",(function(e){"inputVolume"===e&&o._maybeStopPollingVolume()})),o.once("newListener",(function(){o.isOutputSelectionSupported||o._log.warn("Warning: This browser does not support audio output selection."),o.isVolumeSupported||o._log.warn("Warning: This browser does not support Twilio's volume indicator feature.")})),l&&o._initializeEnumeration(),navigator&&navigator.permissions&&"function"===typeof navigator.permissions.query?navigator.permissions.query({name:"microphone"}).then((function(e){if("granted"!==e.state){var t=function(){o._updateAvailableDevices(),o._stopMicrophonePermissionListener()};e.addEventListener("change",t),o._microphonePermissionStatus=e,o._onMicrophonePermissionStatusChanged=t}})).catch((function(e){return o._log.warn("Warning: unable to listen for microphone permission changes. "+e)})):o._log.warn("Warning: current browser does not support permissions API."),o}return r(t,e),Object.defineProperty(t.prototype,"audioConstraints",{get:function(){return this._audioConstraints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputDevice",{get:function(){return this._inputDevice},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputStream",{get:function(){return this._processedStream||this._selectedInputDeviceStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedStream",{get:function(){return this._processedStream},enumerable:!1,configurable:!0}),t.prototype._destroy=function(){this._stopDefaultInputDeviceStream(),this._stopSelectedInputDeviceStream(),this._destroyProcessedStream(),this._maybeStopPollingVolume(),this.removeAllListeners(),this._stopMicrophonePermissionListener(),this._unbind()},t.prototype._getInputDevicePromise=function(){return this._inputDevicePromise},t.prototype._maybeStartPollingVolume=function(){var e=this;if(this.isVolumeSupported&&this.inputStream&&(this._updateVolumeSource(),!this._isPollingInputVolume&&this._inputVolumeAnalyser)){var t=this._inputVolumeAnalyser.frequencyBinCount,n=new Uint8Array(t);this._isPollingInputVolume=!0;var r=function(){if(e._isPollingInputVolume){if(e._inputVolumeAnalyser){e._inputVolumeAnalyser.getByteFrequencyData(n);var t=p.average(n);e.emit("inputVolume",t/255)}requestAnimationFrame(r)}};requestAnimationFrame(r)}},t.prototype._maybeStopPollingVolume=function(){this.isVolumeSupported&&(!this._isPollingInputVolume||this.inputStream&&this.listenerCount("inputVolume")||(this._inputVolumeSource&&(this._inputVolumeSource.disconnect(),delete this._inputVolumeSource),this._isPollingInputVolume=!1))},t.prototype._openDefaultDeviceWithConstraints=function(e){var t=this;return this._log.info("Opening default device with constraints",e),this._getUserMedia(e).then((function(e){return t._log.info("Opened default device. Updating available devices."),t._updateAvailableDevices().catch((function(e){t._log.warn("Unable to updateAvailableDevices after gUM call",e)})),t._defaultInputDeviceStream=e,t._maybeCreateProcessedStream(e)}))},t.prototype._stopDefaultInputDeviceStream=function(){this._defaultInputDeviceStream&&(this._log.info("stopping default device stream"),this._defaultInputDeviceStream.getTracks().forEach((function(e){return e.stop()})),this._defaultInputDeviceStream=null,this._destroyProcessedStream())},t.prototype._unbind=function(){if(!this._mediaDevices||!this._enumerateDevices)throw new l.NotSupportedError("Enumeration is not supported");this._mediaDevices.removeEventListener&&this._mediaDevices.removeEventListener("devicechange",this._updateAvailableDevices)},t.prototype._updateUserOptions=function(e){"function"===typeof e.enumerateDevices&&(this._enumerateDevices=e.enumerateDevices),"function"===typeof e.getUserMedia&&(this._getUserMedia=e.getUserMedia)},t.prototype.addProcessor=function(e){if(this._log.debug(".addProcessor"),this._processor)throw new l.NotSupportedError("Adding multiple AudioProcessors is not supported at this time.");if("object"!==typeof e||null===e)throw new l.InvalidArgumentError("Missing AudioProcessor argument.");if("function"!==typeof e.createProcessedStream)throw new l.InvalidArgumentError("Missing createProcessedStream() method.");if("function"!==typeof e.destroyProcessedStream)throw new l.InvalidArgumentError("Missing destroyProcessedStream() method.");return this._processor=e,this._audioProcessorEventObserver.emit("add"),this._restartStreams()},t.prototype.disconnect=function(e){return this._log.debug(".disconnect",e),this._maybeEnableSound(s.default.SoundName.Disconnect,e)},t.prototype.incoming=function(e){return this._log.debug(".incoming",e),this._maybeEnableSound(s.default.SoundName.Incoming,e)},t.prototype.outgoing=function(e){return this._log.debug(".outgoing",e),this._maybeEnableSound(s.default.SoundName.Outgoing,e)},t.prototype.removeProcessor=function(e){if(this._log.debug(".removeProcessor"),"object"!==typeof e||null===e)throw new l.InvalidArgumentError("Missing AudioProcessor argument.");if(this._processor!==e)throw new l.InvalidArgumentError("Cannot remove an AudioProcessor that has not been previously added.");return this._destroyProcessedStream(),this._processor=null,this._audioProcessorEventObserver.emit("remove"),this._restartStreams()},t.prototype.setAudioConstraints=function(e){return this._log.debug(".setAudioConstraints",e),this._audioConstraints=Object.assign({},e),delete this._audioConstraints.deviceId,this.inputDevice?this._setInputDevice(this.inputDevice.deviceId,!0):Promise.resolve()},t.prototype.setInputDevice=function(e){return this._log.debug(".setInputDevice",e),this._setInputDevice(e,!1)},t.prototype.unsetAudioConstraints=function(){return this._log.debug(".unsetAudioConstraints"),this._audioConstraints=null,this.inputDevice?this._setInputDevice(this.inputDevice.deviceId,!0):Promise.resolve()},t.prototype.unsetInputDevice=function(){var e=this;return this._log.debug(".unsetInputDevice",this.inputDevice),this.inputDevice?(this._destroyProcessedStream(),this._onActiveInputChanged(null).then((function(){e._replaceStream(null),e._inputDevice=null,e._maybeStopPollingVolume()}))):Promise.resolve()},t.prototype._destroyProcessedStream=function(){if(this._processor&&this._processedStream){this._log.info("destroying processed stream");var e=this._processedStream;this._processedStream.getTracks().forEach((function(e){return e.stop()})),this._processedStream=null,this._processor.destroyProcessedStream(e),this._audioProcessorEventObserver.emit("destroy")}},t.prototype._getUnknownDeviceIndex=function(e){var t=e.deviceId,n=e.kind,r=this._unknownDeviceIndexes[n][t];return r||(r=Object.keys(this._unknownDeviceIndexes[n]).length+1,this._unknownDeviceIndexes[n][t]=r),r},t.prototype._initializeEnumeration=function(){var e=this;if(!this._mediaDevices||!this._enumerateDevices)throw new l.NotSupportedError("Enumeration is not supported");this._mediaDevices.addEventListener&&this._mediaDevices.addEventListener("devicechange",this._updateAvailableDevices),this._updateAvailableDevices().then((function(){e.isOutputSelectionSupported&&Promise.all([e.speakerDevices.set("default"),e.ringtoneDevices.set("default")]).catch((function(t){e._log.warn("Warning: Unable to set audio output devices. "+t)}))}))},t.prototype._maybeCreateProcessedStream=function(e){var t=this;return this._processor?(this._log.info("Creating processed stream"),this._processor.createProcessedStream(e).then((function(e){return t._processedStream=e,t._audioProcessorEventObserver.emit("create"),t._processedStream}))):Promise.resolve(e)},t.prototype._maybeEnableSound=function(e,t){return"undefined"!==typeof t&&(this._enabledSounds[e]=t),this._enabledSounds[e]},t.prototype._replaceStream=function(e){this._log.info("Replacing with new stream."),this._selectedInputDeviceStream&&(this._log.info("Old stream detected. Stopping tracks."),this._stopSelectedInputDeviceStream()),this._selectedInputDeviceStream=e},t.prototype._restartStreams=function(){if(this.inputDevice&&this._selectedInputDeviceStream)return this._log.info("Restarting selected input device"),this._setInputDevice(this.inputDevice.deviceId,!0);if(this._defaultInputDeviceStream){var e=this.availableInputDevices.get("default")||Array.from(this.availableInputDevices.values())[0];return this._log.info("Restarting default input device, now becoming selected."),this._setInputDevice(e.deviceId,!0)}return Promise.resolve()},t.prototype._setInputDevice=function(e,t){return i(this,void 0,void 0,(function(){var n,r=this;return o(this,(function(a){return n=function(){return i(r,void 0,void 0,(function(){var n,r,i=this;return o(this,(function(o){switch(o.label){case 0:return[4,this._beforeSetInputDevice()];case 1:if(o.sent(),"string"!==typeof e)return[2,Promise.reject(new l.InvalidArgumentError("Must specify the device to set"))];if(!(n=this.availableInputDevices.get(e)))return[2,Promise.reject(new l.InvalidArgumentError("Device not found: "+e))];if(this._log.info("Setting input device. ID: "+e),this._inputDevice&&this._inputDevice.deviceId===e&&this._selectedInputDeviceStream){if(!t)return[2,Promise.resolve()];this._log.info("Same track detected on setInputDevice, stopping old tracks."),this._stopSelectedInputDeviceStream()}return this._stopDefaultInputDeviceStream(),r={audio:Object.assign({deviceId:{exact:e}},this.audioConstraints)},this._log.info("setInputDevice: getting new tracks."),[2,this._getUserMedia(r).then((function(e){return i._destroyProcessedStream(),i._maybeCreateProcessedStream(e).then((function(t){return i._log.info("setInputDevice: invoking _onActiveInputChanged."),i._onActiveInputChanged(t).then((function(){i._replaceStream(e),i._inputDevice=n,i._maybeStartPollingVolume()}))}))}))]}}))}))},[2,this._inputDevicePromise=n().finally((function(){r._inputDevicePromise=null}))]}))}))},t.prototype._stopMicrophonePermissionListener=function(){var e;(null===(e=this._microphonePermissionStatus)||void 0===e?void 0:e.removeEventListener)&&this._microphonePermissionStatus.removeEventListener("change",this._onMicrophonePermissionStatusChanged)},t.prototype._stopSelectedInputDeviceStream=function(){this._selectedInputDeviceStream&&(this._log.info("Stopping selected device stream"),this._selectedInputDeviceStream.getTracks().forEach((function(e){return e.stop()})))},t.prototype._updateDevices=function(e,t,n){var r=this,i=e.map((function(e){return e.deviceId})),o=Array.from(t.values()).map((function(e){return e.deviceId})),a=[],s=p.difference(o,i);s.forEach((function(e){var r=t.get(e);r&&(t.delete(e),n(r)&&a.push(r))}));var l=!1;if(e.forEach((function(e){var n=t.get(e.deviceId),i=r._wrapMediaDeviceInfo(e);n&&n.label===i.label||(t.set(e.deviceId,i),l=!0)})),l||s.length){var u="default",c=this.inputDevice&&this.inputDevice.deviceId===u,d=this._defaultInputDeviceStream&&this.availableInputDevices.get(u);(c||d)&&(this._log.warn("Calling getUserMedia after device change to ensure that the           tracks of the active device (default) have not gone stale."),setTimeout((function(){r._setInputDevice(u,!0)}),0)),this._log.debug("#deviceChange",a),this.emit("deviceChange",a)}},t.prototype._updateVolumeSource=function(){if(this.inputStream&&this._audioContext&&this._inputVolumeAnalyser){this._inputVolumeSource&&this._inputVolumeSource.disconnect();try{this._inputVolumeSource=this._audioContext.createMediaStreamSource(this.inputStream),this._inputVolumeSource.connect(this._inputVolumeAnalyser)}catch(e){this._log.warn("Unable to update volume source",e),delete this._inputVolumeSource}}},t.prototype._wrapMediaDeviceInfo=function(e){var t={deviceId:e.deviceId,groupId:e.groupId,kind:e.kind,label:e.label};if(!t.label)if("default"===t.deviceId)t.label="Default";else{var n=this._getUnknownDeviceIndex(e);t.label="Unknown "+f[t.kind]+" Device "+n}return new d.default(t)},t}(a.EventEmitter);h||(h={}),t.default=h},2034:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6274),s=function(e){function t(t,n,r){void 0===n&&(n={}),void 0===r&&(r={});var i=e.call(this)||this;return i._audioNode=null,i._loop=!1,i._pendingPlayDeferreds=[],i._sinkId="default",i._src="","string"!==typeof n&&(r=n),i._audioContext=t,i._audioElement=new(r.AudioFactory||Audio),i._bufferPromise=i._createPlayDeferred().promise,i._destination=i._audioContext.destination,i._gainNode=i._audioContext.createGain(),i._gainNode.connect(i._destination),i._XMLHttpRequest=r.XMLHttpRequestFactory||XMLHttpRequest,i.addEventListener("canplaythrough",(function(){i._resolvePlayDeferreds()})),"string"===typeof n&&(i.src=n),i}return r(t,e),Object.defineProperty(t.prototype,"destination",{get:function(){return this._destination},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(e){var t=this;e||!this.loop||this.paused||this._audioNode.addEventListener("ended",(function e(){t._audioNode.removeEventListener("ended",e),t.pause()})),this._loop=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return 0===this._gainNode.gain.value},set:function(e){this._gainNode.gain.value=e?0:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return null===this._audioNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(e){this._load(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"srcObject",{get:function(){return this._audioElement.srcObject},set:function(e){this._audioElement.srcObject=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sinkId",{get:function(){return this._sinkId},enumerable:!1,configurable:!0}),t.prototype.load=function(){this._load(this._src)},t.prototype.pause=function(){this.paused||(this._audioElement.pause(),this._audioNode.stop(),this._audioNode.disconnect(this._gainNode),this._audioNode=null,this._rejectPlayDeferreds(new Error("The play() request was interrupted by a call to pause().")))},t.prototype.play=function(){return i(this,void 0,void 0,(function(){var e,t=this;return o(this,(function(n){switch(n.label){case 0:return this.paused?[3,2]:[4,this._bufferPromise];case 1:if(n.sent(),!this.paused)return[2];throw new Error("The play() request was interrupted by a call to pause().");case 2:return this._audioNode=this._audioContext.createBufferSource(),this._audioNode.loop=this.loop,this._audioNode.addEventListener("ended",(function(){t._audioNode&&t._audioNode.loop||t.dispatchEvent("ended")})),[4,this._bufferPromise];case 3:if(e=n.sent(),this.paused)throw new Error("The play() request was interrupted by a call to pause().");return this._audioNode.buffer=e,this._audioNode.connect(this._gainNode),this._audioNode.start(),this._audioElement.srcObject?[2,this._audioElement.play()]:[2]}}))}))},t.prototype.setSinkId=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:if("function"!==typeof this._audioElement.setSinkId)throw new Error("This browser does not support setSinkId.");return e===this.sinkId?[2]:"default"===e?(this.paused||this._gainNode.disconnect(this._destination),this._audioElement.srcObject=null,this._destination=this._audioContext.destination,this._gainNode.connect(this._destination),this._sinkId=e,[2]):[4,this._audioElement.setSinkId(e)];case 1:return t.sent(),this._audioElement.srcObject?[2]:(this._gainNode.disconnect(this._audioContext.destination),this._destination=this._audioContext.createMediaStreamDestination(),this._audioElement.srcObject=this._destination.stream,this._sinkId=e,this._gainNode.connect(this._destination),[2])}}))}))},t.prototype._createPlayDeferred=function(){var e=new a.default;return this._pendingPlayDeferreds.push(e),e},t.prototype._load=function(e){var t=this;this._src&&this._src!==e&&this.pause(),this._src=e,this._bufferPromise=new Promise((function(n,r){return i(t,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return e?[4,l(this._audioContext,this._XMLHttpRequest,e)]:[2,this._createPlayDeferred().promise];case 1:return t=r.sent(),this.dispatchEvent("canplaythrough"),n(t),[2]}}))}))}))},t.prototype._rejectPlayDeferreds=function(e){var t=this._pendingPlayDeferreds;t.splice(0,t.length).forEach((function(t){return(0,t.reject)(e)}))},t.prototype._resolvePlayDeferreds=function(e){var t=this._pendingPlayDeferreds;t.splice(0,t.length).forEach((function(t){return(0,t.resolve)(e)}))},t}(n(4516).default);function l(e,t,n){return i(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return(r=new t).open("GET",n,!0),r.responseType="arraybuffer",[4,new Promise((function(e){r.addEventListener("load",e),r.send()}))];case 1:i=o.sent();try{return[2,e.decodeAudioData(i.target.response)]}catch(a){return[2,new Promise((function(t){e.decodeAudioData(i.target.response,t)}))]}return[2]}}))}))}t.default=s},6274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return Object.defineProperty(e.prototype,"reject",{get:function(){return this._reject},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolve",{get:function(){return this._resolve},enumerable:!1,configurable:!0}),e}();t.default=n},4516:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2428),o=function(){function e(){this._eventEmitter=new i.EventEmitter}return e.prototype.addEventListener=function(e,t){return this._eventEmitter.addListener(e,t)},e.prototype.dispatchEvent=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(t=this._eventEmitter).emit.apply(t,r([e],n))},e.prototype.removeEventListener=function(e,t){return this._eventEmitter.removeListener(e,t)},e}();t.default=o},7837:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AudioProcessorEventObserver=void 0;var i=n(2428),o=n(8391),a=function(e){function t(){var t=e.call(this)||this;return t._log=new o.default("AudioProcessorEventObserver"),t._log.info("Creating AudioProcessorEventObserver instance"),t.on("enabled",(function(){return t._reEmitEvent("enabled")})),t.on("add",(function(){return t._reEmitEvent("add")})),t.on("remove",(function(){return t._reEmitEvent("remove")})),t.on("create",(function(){return t._reEmitEvent("create-processed-stream")})),t.on("destroy",(function(){return t._reEmitEvent("destroy-processed-stream")})),t}return r(t,e),t.prototype.destroy=function(){this.removeAllListeners()},t.prototype._reEmitEvent=function(e){this._log.info("AudioProcessor:"+e),this.emit("event",{name:e,group:"audio-processor"})},t}(i.EventEmitter);t.AudioProcessorEventObserver=a},3937:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get:function(){var e=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){var t=Math.random(),n=Math.floor(t*this._jitter*e);e=0===(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this._max)}},_factor:{value:t.factor||2},_jitter:{value:t.jitter>0&&t.jitter<=1?t.jitter:0},_max:{value:t.max||1e4},_min:{value:t.min||100},_timeoutID:{value:null,writable:!0}}),n}return r(t,e),t.prototype.backoff=function(){var e=this,t=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this.emit("backoff",this._attempts,t),this._timeoutID=setTimeout((function(){e.emit("ready",e._attempts,t),e._attempts++}),t)},t.prototype.reset=function(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},t}(n(2428).EventEmitter);t.default=i},7489:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2428),a=n(3937),s=n(11),l=n(7493),u=n(8391),c=n(1309),d=n(1781),p=n(1800),f=n(4574),h=n(7401),m=n(4390),g=n(4856),v={factor:1.1,jitter:.5,max:3e4,min:1},y={disconnect:!0,info:{code:31003,message:"Connection with Twilio was interrupted.",twilioError:new l.MediaErrors.ConnectionError}},_={packetsLostFraction:{max:"packet-loss",maxAverage:"packets-lost-fraction"}},b={audioInputLevel:"audio-input-level",audioOutputLevel:"audio-output-level",bytesReceived:"bytes-received",bytesSent:"bytes-sent",jitter:"jitter",mos:"mos",rtt:"rtt"},S={max:"high-",maxAverage:"high-",maxDuration:"constant-",min:"low-",minStandardDeviation:"constant-"},w=function(e){function t(n,r){var o=e.call(this)||this;o.parameters={},o._inputVolumeStreak=0,o._isAnswered=!1,o._isCancelled=!1,o._isRejected=!1,o._latestInputVolume=0,o._latestOutputVolume=0,o._log=new u.default("Call"),o._mediaStatus=t.State.Pending,o._messages=new Map,o._metricsSamples=[],o._options={MediaHandler:c.PeerConnection,enableImprovedSignalingErrorPrecision:!1,offerSdp:null,shouldPlayDisconnect:function(){return!0},voiceEventSidGenerator:m.generateVoiceEventSid},o._outputVolumeStreak=0,o._shouldSendHangup=!0,o._signalingStatus=t.State.Pending,o._soundcache=new Map,o._status=t.State.Pending,o._wasConnected=!1,o.toString=function(){return"[Twilio.Call instance]"},o._emitWarning=function(e,t,n,r,i,a){var s=e+"warning"+(i?"-cleared":"-raised");if("constant-audio-input-level"!==t||!o.isMuted()){var l=i?"info":"warning";"constant-audio-output-level"===t&&(l="info");var u={threshold:n};if(r&&(r instanceof Array?u.values=r.map((function(e){return"number"===typeof e?Math.round(100*e)/100:r})):u.value=r),o._publisher.post(l,s,t,{data:u},o),"constant-audio-output-level"!==t){var c=i?"warning-cleared":"warning";o._log.debug("#"+c,t),o.emit(c,t,a&&!i?a:null)}}},o._onAck=function(e){var t=e.acktype,n=e.callsid,r=e.voiceeventsid;o.parameters.CallSid===n?"message"===t&&o._onMessageSent(r):o._log.warn("Received ack from a different callsid: "+n)},o._onAnswer=function(e){"string"===typeof e.reconnect&&(o._signalingReconnectToken=e.reconnect),o._isAnswered&&o._status!==t.State.Reconnecting||(o._setCallSid(e),o._isAnswered=!0,o._maybeTransitionToOpen())},o._onCancel=function(e){var n=e.callsid;o.parameters.CallSid===n&&(o._isCancelled=!0,o._publisher.info("connection","cancel",null,o),o._cleanupEventListeners(),o._mediaHandler.close(),o._status=t.State.Closed,o._log.debug("#cancel"),o.emit("cancel"),o._pstream.removeListener("cancel",o._onCancel))},o._onConnected=function(){o._log.info("Received connected from pstream"),o._signalingReconnectToken&&o._mediaHandler.version&&o._pstream.reconnect(o._mediaHandler.version.getSDP(),o.parameters.CallSid,o._signalingReconnectToken)},o._onHangup=function(e){if(o.status()!==t.State.Closed){if(e.callsid&&(o.parameters.CallSid||o.outboundConnectionId)){if(e.callsid!==o.parameters.CallSid&&e.callsid!==o.outboundConnectionId)return}else if(e.callsid)return;if(o._log.info("Received HANGUP from gateway"),e.error){var n=e.error.code,r=l.getPreciseSignalingErrorByCode(o._options.enableImprovedSignalingErrorPrecision,n),i="undefined"!==typeof r?new r(e.error.message):new l.GeneralErrors.ConnectionError("Error sent from gateway in HANGUP");o._log.error("Received an error from the gateway:",i),o._log.debug("#error",i),o.emit("error",i)}o._shouldSendHangup=!1,o._publisher.info("connection","disconnected-by-remote",null,o),o._disconnect(null,!0),o._cleanupEventListeners()}},o._onMediaFailure=function(e){var n=t.MediaFailure,r=n.ConnectionDisconnected,i=n.ConnectionFailed,a=n.IceGatheringFailed,s=n.LowBytes,u=e===i||e===a;if(!h.isChrome(window,window.navigator)&&e===i)return o._mediaHandler.onerror(y);if(o._mediaStatus!==t.State.Reconnecting){var c=o._mediaHandler.version.pc,d=c&&"disconnected"===c.iceConnectionState,p=o._monitor.hasActiveWarning("bytesSent","min")||o._monitor.hasActiveWarning("bytesReceived","min");if(e===s&&d||e===r&&p||u){var f=new l.MediaErrors.ConnectionError("Media connection failed.");o._log.warn("ICE Connection disconnected."),o._publisher.warn("connection","error",f,o),o._publisher.info("connection","reconnecting",null,o),o._mediaReconnectStartTime=Date.now(),o._status=t.State.Reconnecting,o._mediaStatus=t.State.Reconnecting,o._mediaReconnectBackoff.reset(),o._mediaReconnectBackoff.backoff(),o._log.debug("#reconnecting"),o.emit("reconnecting",f)}}else if(u){if(Date.now()-o._mediaReconnectStartTime>v.max)return o._log.warn("Exceeded max ICE retries"),o._mediaHandler.onerror(y);try{o._mediaReconnectBackoff.backoff()}catch(m){if(!m.message||"Backoff in progress."!==m.message)throw m}}},o._onMediaReconnected=function(){o._mediaStatus===t.State.Reconnecting&&(o._log.info("ICE Connection reestablished."),o._mediaStatus=t.State.Open,o._signalingStatus===t.State.Open&&(o._publisher.info("connection","reconnected",null,o),o._log.debug("#reconnected"),o.emit("reconnected"),o._status=t.State.Open))},o._onMessageReceived=function(e){var t=e.callsid,n=e.content,r=e.contenttype,i=e.messagetype,a=e.voiceeventsid;if(o.parameters.CallSid===t){var s={content:n,contentType:r,messageType:i,voiceEventSid:a};o._publisher.info("call-message",i,{content_type:r,event_type:"received",voice_event_sid:a},o),o._log.debug("#messageReceived",JSON.stringify(s)),o.emit("messageReceived",s)}else o._log.warn("Received a message from a different callsid: "+t)},o._onMessageSent=function(e){if(o._messages.has(e)){var t=o._messages.get(e);o._messages.delete(e),o._publisher.info("call-message",null===t||void 0===t?void 0:t.messageType,{content_type:null===t||void 0===t?void 0:t.contentType,event_type:"sent",voice_event_sid:e},o),o._log.debug("#messageSent",JSON.stringify(t)),o.emit("messageSent",t)}else o._log.warn("Received a messageSent with a voiceEventSid that doesn't exists: "+e)},o._onRinging=function(e){if(o._setCallSid(e),o._status===t.State.Connecting||o._status===t.State.Ringing){var n=!!e.sdp;o._status=t.State.Ringing,o._publisher.info("connection","outgoing-ringing",{hasEarlyMedia:n},o),o._log.debug("#ringing"),o.emit("ringing",n)}},o._onRTCSample=function(e){var t=i(i({},e),{inputVolume:o._latestInputVolume,outputVolume:o._latestOutputVolume});o._codec=t.codecName,o._metricsSamples.push(t),o._metricsSamples.length>=10&&o._publishMetrics(),o.emit("sample",e)},o._onSignalingError=function(e){var t=e.callsid,n=e.voiceeventsid,r=e.error;if(o.parameters.CallSid===t){if(n&&o._messages.has(n)){o._messages.delete(n),o._log.warn("Received an error while sending a message.",e),o._publisher.error("call-message","error",{code:r.code,message:r.message,voice_event_sid:n},o);var i=void 0,a=l.getPreciseSignalingErrorByCode(!!o._options.enableImprovedSignalingErrorPrecision,r.code);"undefined"!==typeof a&&(i=new a(r)),i||(o._log.error("Unknown Call Message Error: ",r),i=new l.GeneralErrors.UnknownError(r.message,r)),o._log.debug("#error",r,i),o.emit("error",i)}}else o._log.warn("Received an error from a different callsid: "+t)},o._onSignalingReconnected=function(){o._signalingStatus===t.State.Reconnecting&&(o._log.info("Signaling Connection reestablished."),o._signalingStatus=t.State.Open,o._mediaStatus===t.State.Open&&(o._publisher.info("connection","reconnected",null,o),o._log.debug("#reconnected"),o.emit("reconnected"),o._status=t.State.Open))},o._onTransportClose=function(){o._log.error("Received transportClose from pstream"),o._log.debug("#transportClose"),o.emit("transportClose"),o._signalingReconnectToken?(o._status=t.State.Reconnecting,o._signalingStatus=t.State.Reconnecting,o._log.debug("#reconnecting"),o.emit("reconnecting",new l.SignalingErrors.ConnectionDisconnected)):(o._status=t.State.Closed,o._signalingStatus=t.State.Closed)},o._reemitWarning=function(e,t){var n,r=/^audio/.test(e.name)?"audio-level-":"network-quality-",i=S[e.threshold.name];e.name in _?n=_[e.name][e.threshold.name]:e.name in b&&(n=b[e.name]);var a=i+n;o._emitWarning(r,a,e.threshold.value,e.values||e.value,t,e)},o._reemitWarningCleared=function(e){o._reemitWarning(e,!0)},o._isUnifiedPlanDefault=n.isUnifiedPlanDefault,o._soundcache=n.soundcache,"function"===typeof n.onIgnore&&(o._onIgnore=n.onIgnore);var p=r&&r.twimlParams||{};o.customParameters=new Map(Object.entries(p).map((function(e){var t=e[0],n=e[1];return[t,String(n)]}))),Object.assign(o._options,r),o._options.callParameters&&(o.parameters=o._options.callParameters),o._options.reconnectToken&&(o._signalingReconnectToken=o._options.reconnectToken),o._voiceEventSidGenerator=o._options.voiceEventSidGenerator||m.generateVoiceEventSid,o._direction=o.parameters.CallSid&&!o._options.reconnectCallSid?t.CallDirection.Incoming:t.CallDirection.Outgoing,o.parameters?o.callerInfo=o.parameters.StirStatus?{isVerified:"TN-Validation-Passed-A"===o.parameters.StirStatus}:null:o.callerInfo=null,o._mediaReconnectBackoff=new a.default(v),o._mediaReconnectBackoff.on("ready",(function(){return o._mediaHandler.iceRestart()})),o.outboundConnectionId="TJSxxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));var g=o._publisher=n.publisher;o._direction===t.CallDirection.Incoming?g.info("connection","incoming",null,o):g.info("connection","outgoing",{preflight:o._options.preflight,reconnect:!!o._options.reconnectCallSid},o);var w=o._monitor=new(o._options.StatsMonitor||f.default);return w.on("sample",o._onRTCSample),w.disableWarnings(),setTimeout((function(){return w.enableWarnings()}),5e3),w.on("warning",(function(e,n){"bytesSent"!==e.name&&"bytesReceived"!==e.name||o._onMediaFailure(t.MediaFailure.LowBytes),o._reemitWarning(e,n)})),w.on("warning-cleared",(function(e){o._reemitWarningCleared(e)})),o._mediaHandler=new o._options.MediaHandler(n.audioHelper,n.pstream,{RTCPeerConnection:o._options.RTCPeerConnection,codecPreferences:o._options.codecPreferences,dscp:o._options.dscp,forceAggressiveIceNomination:o._options.forceAggressiveIceNomination,isUnifiedPlan:o._isUnifiedPlanDefault,maxAverageBitrate:o._options.maxAverageBitrate}),o.on("volume",(function(e,t){o._inputVolumeStreak=o._checkVolume(e,o._inputVolumeStreak,o._latestInputVolume,"input"),o._outputVolumeStreak=o._checkVolume(t,o._outputVolumeStreak,o._latestOutputVolume,"output"),o._latestInputVolume=e,o._latestOutputVolume=t})),o._mediaHandler.onaudio=function(e){o._log.debug("#audio"),o.emit("audio",e)},o._mediaHandler.onvolume=function(e,t,n,r){w.addVolumes(n/255*32767,r/255*32767),o.emit("volume",e,t)},o._mediaHandler.ondtlstransportstatechange=function(e){var t="failed"===e?"error":"debug";o._publisher.post(t,"dtls-transport-state",e,null,o)},o._mediaHandler.onpcconnectionstatechange=function(e){var t="debug",n=o._mediaHandler.getRTCDtlsTransport();"failed"===e&&(t=n&&"failed"===n.state?"error":"warning"),o._publisher.post(t,"pc-connection-state",e,null,o)},o._mediaHandler.onicecandidate=function(e){var t=new d.IceCandidate(e).toPayload();o._publisher.debug("ice-candidate","ice-candidate",t,o)},o._mediaHandler.onselectedcandidatepairchange=function(e){var t=new d.IceCandidate(e.local).toPayload(),n=new d.IceCandidate(e.remote,!0).toPayload();o._publisher.debug("ice-candidate","selected-ice-candidate-pair",{local_candidate:t,remote_candidate:n},o)},o._mediaHandler.oniceconnectionstatechange=function(e){var t="failed"===e?"error":"debug";o._publisher.post(t,"ice-connection-state",e,null,o)},o._mediaHandler.onicegatheringfailure=function(e){o._publisher.warn("ice-gathering-state",e,null,o),o._onMediaFailure(t.MediaFailure.IceGatheringFailed)},o._mediaHandler.onicegatheringstatechange=function(e){o._publisher.debug("ice-gathering-state",e,null,o)},o._mediaHandler.onsignalingstatechange=function(e){o._publisher.debug("signaling-state",e,null,o)},o._mediaHandler.ondisconnected=function(e){o._log.warn(e),o._publisher.warn("network-quality-warning-raised","ice-connectivity-lost",{message:e},o),o._log.debug("#warning","ice-connectivity-lost"),o.emit("warning","ice-connectivity-lost"),o._onMediaFailure(t.MediaFailure.ConnectionDisconnected)},o._mediaHandler.onfailed=function(e){o._onMediaFailure(t.MediaFailure.ConnectionFailed)},o._mediaHandler.onconnected=function(){o._status===t.State.Reconnecting&&o._onMediaReconnected()},o._mediaHandler.onreconnected=function(e){o._log.info(e),o._publisher.info("network-quality-warning-cleared","ice-connectivity-lost",{message:e},o),o._log.debug("#warning-cleared","ice-connectivity-lost"),o.emit("warning-cleared","ice-connectivity-lost"),o._onMediaReconnected()},o._mediaHandler.onerror=function(e){!0===e.disconnect&&o._disconnect(e.info&&e.info.message);var t=e.info.twilioError||new l.GeneralErrors.UnknownError(e.info.message);o._log.error("Received an error from MediaStream:",e),o._log.debug("#error",t),o.emit("error",t)},o._mediaHandler.onopen=function(){o._status!==t.State.Open&&o._status!==t.State.Reconnecting&&(o._status===t.State.Ringing||o._status===t.State.Connecting?(o.mute(o._mediaHandler.isMuted),o._mediaStatus=t.State.Open,o._maybeTransitionToOpen()):o._mediaHandler.close())},o._mediaHandler.onclose=function(){o._status=t.State.Closed,o._options.shouldPlayDisconnect&&o._options.shouldPlayDisconnect()&&!o._isCancelled&&!o._isRejected&&o._soundcache.get(s.default.SoundName.Disconnect).play(),w.disable(),o._publishMetrics(),o._isCancelled||o._isRejected||(o._log.debug("#disconnect"),o.emit("disconnect",o))},o._pstream=n.pstream,o._pstream.on("ack",o._onAck),o._pstream.on("cancel",o._onCancel),o._pstream.on("error",o._onSignalingError),o._pstream.on("ringing",o._onRinging),o._pstream.on("transportClose",o._onTransportClose),o._pstream.on("connected",o._onConnected),o._pstream.on("message",o._onMessageReceived),o.on("error",(function(e){o._publisher.error("connection","error",{code:e.code,message:e.message},o),o._pstream&&"disconnected"===o._pstream.status&&o._cleanupEventListeners()})),o.on("disconnect",(function(){o._cleanupEventListeners()})),o}return r(t,e),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"codec",{get:function(){return this._codec},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectToken",{get:function(){var e=this,t=this._signalingReconnectToken,n=this.parameters&&this.parameters.CallSid?this.parameters.CallSid:void 0;if(t&&n){var r=this.customParameters&&"function"===typeof this.customParameters.keys?Array.from(this.customParameters.keys()).reduce((function(t,n){return t[n]=e.customParameters.get(n),t}),{}):{},i=this.parameters||{};return btoa(encodeURIComponent(JSON.stringify({customParameters:r,parameters:i,signalingReconnectToken:t})))}},enumerable:!1,configurable:!0}),t.prototype._setInputTracksFromStream=function(e){return this._mediaHandler.setInputTracksFromStream(e)},t.prototype._setSinkIds=function(e){return this._mediaHandler._setSinkIds(e)},t.prototype.accept=function(e){var n=this;if(this._log.debug(".accept",e),this._status===t.State.Pending){var r=(e=e||{}).rtcConfiguration||this._options.rtcConfiguration,i=e.rtcConstraints||this._options.rtcConstraints||{},o={audio:"undefined"===typeof i.audio||i.audio};this._status=t.State.Connecting;this._options.beforeAccept&&this._options.beforeAccept(this);var a="function"===typeof this._options.getInputStream&&this._options.getInputStream();(a?this._mediaHandler.setInputTracksFromStream(a):this._mediaHandler.openDefaultDeviceWithConstraints(o)).then((function(){n._publisher.info("get-user-media","succeeded",{data:{audioConstraints:o}},n),function(){if(n._status!==t.State.Connecting)return n._cleanupEventListeners(),void n._mediaHandler.close();var e=function(e){var r=n._direction===t.CallDirection.Incoming?"accepted-by-local":"accepted-by-remote";n._publisher.info("connection",r,null,n);var i=p.getPreferredCodecInfo(n._mediaHandler.version.getSDP()),o=i.codecName,a=i.codecParams;n._publisher.info("settings","codec",{codec_params:a,selected_codec:o},n),n._monitor.enable(e)},i="function"===typeof n._options.getSinkIds&&n._options.getSinkIds();if(Array.isArray(i)&&n._mediaHandler._setSinkIds(i).catch((function(){})),n._pstream.addListener("hangup",n._onHangup),n._direction===t.CallDirection.Incoming)n._isAnswered=!0,n._pstream.on("answer",n._onAnswer),n._mediaHandler.answerIncomingCall(n.parameters.CallSid,n._options.offerSdp,r,e);else{var o=Array.from(n.customParameters.entries()).map((function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])})).join("&");n._pstream.on("answer",n._onAnswer),n._mediaHandler.makeOutgoingCall(o,n._signalingReconnectToken,n._options.reconnectCallSid||n.outboundConnectionId,r,e)}}()}),(function(e){var t;31208===e.code||-1!==["PermissionDeniedError","NotAllowedError"].indexOf(e.name)?(t=new l.UserMediaErrors.PermissionDeniedError,n._publisher.error("get-user-media","denied",{data:{audioConstraints:o,error:e}},n)):(t=new l.UserMediaErrors.AcquisitionFailedError,n._publisher.error("get-user-media","failed",{data:{audioConstraints:o,error:e}},n)),n._disconnect(),n._log.debug("#error",e),n.emit("error",t)}))}else this._log.debug(".accept noop. status is '"+this._status+"'")},t.prototype.disconnect=function(){this._log.debug(".disconnect"),this._disconnect()},t.prototype.getLocalStream=function(){return this._mediaHandler&&this._mediaHandler.stream},t.prototype.getRemoteStream=function(){return this._mediaHandler&&this._mediaHandler._remoteStream},t.prototype.ignore=function(){this._log.debug(".ignore"),this._status===t.State.Pending?(this._status=t.State.Closed,this._mediaHandler.ignore(this.parameters.CallSid),this._publisher.info("connection","ignored-by-local",null,this),this._onIgnore&&this._onIgnore()):this._log.debug(".ignore noop. status is '"+this._status+"'")},t.prototype.isMuted=function(){return this._mediaHandler.isMuted},t.prototype.mute=function(e){void 0===e&&(e=!0),this._log.debug(".mute",e);var t=this._mediaHandler.isMuted;this._mediaHandler.mute(e);var n=this._mediaHandler.isMuted;t!==n&&(this._publisher.info("connection",n?"muted":"unmuted",null,this),this._log.debug("#mute",n),this.emit("mute",n,this))},t.prototype.postFeedback=function(e,n){if("undefined"===typeof e||null===e)return this._postFeedbackDeclined();if(!Object.values(t.FeedbackScore).includes(e))throw new l.InvalidArgumentError("Feedback score must be one of: "+Object.values(t.FeedbackScore));if("undefined"!==typeof n&&null!==n&&!Object.values(t.FeedbackIssue).includes(n))throw new l.InvalidArgumentError("Feedback issue must be one of: "+Object.values(t.FeedbackIssue));return this._publisher.info("feedback","received",{issue_name:n,quality_score:e},this,!0)},t.prototype.reject=function(){this._log.debug(".reject"),this._status===t.State.Pending?(this._isRejected=!0,this._pstream.reject(this.parameters.CallSid),this._mediaHandler.reject(this.parameters.CallSid),this._publisher.info("connection","rejected-by-local",null,this),this._cleanupEventListeners(),this._mediaHandler.close(),this._status=t.State.Closed,this._log.debug("#reject"),this.emit("reject")):this._log.debug(".reject noop. status is '"+this._status+"'")},t.prototype.sendDigits=function(e){var t=this;if(this._log.debug(".sendDigits",e),e.match(/[^0-9*#w]/))throw new l.InvalidArgumentError("Illegal character passed into sendDigits");var n=this._options.customSounds||{},r=[];e.split("").forEach((function(e){var t="w"!==e?"dtmf"+e:"";"dtmf*"===t&&(t="dtmfs"),"dtmf#"===t&&(t="dtmfh"),r.push(t)}));var i=function(){var e=r.shift();e&&(t._options.dialtonePlayer&&!n[e]?t._options.dialtonePlayer.play(e):t._soundcache.get(e).play()),r.length&&setTimeout((function(){return i()}),200)};i();var o=this._mediaHandler.getOrCreateDTMFSender();if(o){if(!("canInsertDTMF"in o)||o.canInsertDTMF)return this._log.info("Sending digits using RTCDTMFSender"),void function e(t){if(t.length){var n=t.shift();n&&n.length&&o.insertDTMF(n,160,70),setTimeout(e.bind(null,t),500)}}(e.split("w"));this._log.info("RTCDTMFSender cannot insert DTMF")}if(this._log.info("Sending digits over PStream"),null!==this._pstream&&"disconnected"!==this._pstream.status)this._pstream.dtmf(this.parameters.CallSid,e);else{var a=new l.GeneralErrors.ConnectionError("Could not send DTMF: Signaling channel is disconnected");this._log.debug("#error",a),this.emit("error",a)}},t.prototype.sendMessage=function(e){this._log.debug(".sendMessage",JSON.stringify(e));var t=e.content,n=e.contentType,r=e.messageType;if("undefined"===typeof t||null===t)throw new l.InvalidArgumentError("`content` is empty");if("string"!==typeof r)throw new l.InvalidArgumentError("`messageType` must be a string.");if(0===r.length)throw new l.InvalidArgumentError("`messageType` must be a non-empty string.");if(null===this._pstream)throw new l.InvalidStateError("Could not send CallMessage; Signaling channel is disconnected");var i=this.parameters.CallSid;if("undefined"===typeof this.parameters.CallSid)throw new l.InvalidStateError("Could not send CallMessage; Call has no CallSid");var o=this._voiceEventSidGenerator();return this._messages.set(o,{content:t,contentType:n,messageType:r,voiceEventSid:o}),this._pstream.sendMessage(i,t,n,r,o),o},t.prototype.status=function(){return this._status},t.prototype._checkVolume=function(e,t,n,r){var i=t>=10,o=0;return n===e&&(o=t),o>=10?this._emitWarning("audio-level-","constant-audio-"+r+"-level",10,o,!1):i&&this._emitWarning("audio-level-","constant-audio-"+r+"-level",10,o,!0),o},t.prototype._cleanupEventListeners=function(){var e=this,t=function(){e._pstream&&(e._pstream.removeListener("ack",e._onAck),e._pstream.removeListener("answer",e._onAnswer),e._pstream.removeListener("cancel",e._onCancel),e._pstream.removeListener("error",e._onSignalingError),e._pstream.removeListener("hangup",e._onHangup),e._pstream.removeListener("ringing",e._onRinging),e._pstream.removeListener("transportClose",e._onTransportClose),e._pstream.removeListener("connected",e._onConnected),e._pstream.removeListener("message",e._onMessageReceived))};t(),setTimeout(t,0)},t.prototype._createMetricPayload=function(){var e={call_sid:this.parameters.CallSid,dscp:!!this._options.dscp,sdk_version:g.RELEASE_VERSION};return this._options.gateway&&(e.gateway=this._options.gateway),e.direction=this._direction,e},t.prototype._disconnect=function(e,n){if(e="string"===typeof e?e:null,this._status===t.State.Open||this._status===t.State.Connecting||this._status===t.State.Reconnecting||this._status===t.State.Ringing){if(this._log.info("Disconnecting..."),null!==this._pstream&&"disconnected"!==this._pstream.status&&this._shouldSendHangup){var r=this.parameters.CallSid||this.outboundConnectionId;r&&this._pstream.hangup(r,e)}this._cleanupEventListeners(),this._mediaHandler.close(),n||this._publisher.info("connection","disconnected-by-local",null,this)}},t.prototype._maybeTransitionToOpen=function(){this._wasConnected;this._isAnswered&&(this._onSignalingReconnected(),this._signalingStatus=t.State.Open,this._mediaHandler&&"open"===this._mediaHandler.status&&(this._status=t.State.Open,this._wasConnected||(this._wasConnected=!0,this._log.debug("#accept"),this.emit("accept",this))))},t.prototype._postFeedbackDeclined=function(){return this._publisher.info("feedback","received-none",null,this,!0)},t.prototype._publishMetrics=function(){var e=this;0!==this._metricsSamples.length&&this._publisher.postMetrics("quality-metrics-samples","metrics-sample",this._metricsSamples.splice(0),this._createMetricPayload(),this).catch((function(t){e._log.warn("Unable to post metrics to Insights. Received error:",t)}))},t.prototype._setCallSid=function(e){var t=e.callsid;t&&(this.parameters.CallSid=t,this._mediaHandler.callSid=t)},t.toString=function(){return"[Twilio.Call class]"},t}(o.EventEmitter);!function(e){!function(e){e.Closed="closed",e.Connecting="connecting",e.Open="open",e.Pending="pending",e.Reconnecting="reconnecting",e.Ringing="ringing"}(e.State||(e.State={})),function(e){e.AudioLatency="audio-latency",e.ChoppyAudio="choppy-audio",e.DroppedCall="dropped-call",e.Echo="echo",e.NoisyCall="noisy-call",e.OneWayAudio="one-way-audio"}(e.FeedbackIssue||(e.FeedbackIssue={})),function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five"}(e.FeedbackScore||(e.FeedbackScore={})),function(e){e.Incoming="INCOMING",e.Outgoing="OUTGOING"}(e.CallDirection||(e.CallDirection={})),function(e){e.Opus="opus",e.PCMU="pcmu"}(e.Codec||(e.Codec={})),function(e){e.None="none",e.Timeout="timeout"}(e.IceGatheringFailureReason||(e.IceGatheringFailureReason={})),function(e){e.ConnectionDisconnected="ConnectionDisconnected",e.ConnectionFailed="ConnectionFailed",e.IceGatheringFailed="IceGatheringFailed",e.LowBytes="LowBytes"}(e.MediaFailure||(e.MediaFailure={}))}(w||(w={})),t.default=w},4856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SOUNDS_BASE_URL=t.RELEASE_VERSION=t.PACKAGE_NAME=t.ECHO_TEST_DURATION=t.COWBELL_AUDIO_URL=void 0;t.PACKAGE_NAME="@twilio/voice-sdk";var n="2.12.1";t.RELEASE_VERSION=n;var r="https://sdk.twilio.com/js/client/sounds/releases/1.0.0";t.SOUNDS_BASE_URL=r;var i=r+"/cowbell.mp3?cache="+n;t.COWBELL_AUDIO_URL=i;t.ECHO_TEST_DURATION=2e4},5242:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this._promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.reject=function(e){this._reject(e)},e.prototype.resolve=function(e){this._resolve(e)},e}();t.default=n},11:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2428),l=n(9894),u=n(5379),c=n(7837),d=n(7489),p=n(4856),f=n(5778),h=n(7493),m=n(8169),g=n(8391),v=n(4722),y=n(6641),_=n(7260),b=n(1309),S=n(5784),w=n(6858),E=n(7401),C=n(4390),k=function(e){function t(n,r){var i;void 0===r&&(r={});var s=e.call(this)||this;if(s._activeCall=null,s._audio=null,s._audioProcessorEventObserver=null,s._callInputStream=null,s._calls=[],s._callSinkIds=["default"],s._chunderURIs=[],s._defaultOptions={allowIncomingWhileBusy:!1,closeProtection:!1,codecPreferences:[d.default.Codec.PCMU,d.default.Codec.Opus],dscp:!0,enableImprovedSignalingErrorPrecision:!1,forceAggressiveIceNomination:!1,logLevel:l.levels.ERROR,maxCallSignalingTimeoutMs:0,preflight:!1,sounds:{},tokenRefreshMs:1e4,voiceEventSidGenerator:C.generateVoiceEventSid},s._edge=null,s._home=null,s._identity=null,s._log=new g.default("Device"),s._makeCallPromise=null,s._options={},s._preferredURI=null,s._publisher=null,s._region=null,s._regTimer=null,s._shouldReRegister=!1,s._soundcache=new Map,s._state=t.State.Unregistered,s._stateEventMapping=((i={})[t.State.Destroyed]=t.EventName.Destroyed,i[t.State.Unregistered]=t.EventName.Unregistered,i[t.State.Registering]=t.EventName.Registering,i[t.State.Registered]=t.EventName.Registered,i),s._stream=null,s._streamConnectedPromise=null,s._tokenWillExpireTimeout=null,s._createDefaultPayload=function(e){var t={aggressive_nomination:s._options.forceAggressiveIceNomination,browser_extension:s._isBrowserExtension,dscp:!!s._options.dscp,ice_restart_enabled:!0,platform:b.getMediaEngine(),sdk_version:p.RELEASE_VERSION};function n(e,n){n&&(t[e]=n)}if(e){var r=e.parameters.CallSid;n("call_sid",/^TJ/.test(r)?void 0:r),n("temp_call_sid",e.outboundConnectionId),n("audio_codec",e.codec),t.direction=e.direction}return n("gateway",s._stream&&s._stream.gateway),n("region",s._stream&&s._stream.region),t},s._onSignalingClose=function(){s._stream=null,s._streamConnectedPromise=null},s._onSignalingConnected=function(e){var t,n=_.getRegionShortcode(e.region);if(s._edge=e.edge||_.regionToEdge[n]||e.region,s._region=n||e.region,s._home=e.home,null===(t=s._publisher)||void 0===t||t.setHost(_.createEventGatewayURI(e.home)),e.token&&(s._identity=e.token.identity,"number"===typeof e.token.ttl&&"number"===typeof s._options.tokenRefreshMs)){var r=1e3*e.token.ttl,i=Math.max(0,r-s._options.tokenRefreshMs);s._tokenWillExpireTimeout=setTimeout((function(){s._log.debug("#tokenWillExpire"),s.emit("tokenWillExpire",s),s._tokenWillExpireTimeout&&(clearTimeout(s._tokenWillExpireTimeout),s._tokenWillExpireTimeout=null)}),i)}var o=_.getChunderURIs(s._edge);if(o.length>0){var a=o[0];s._preferredURI=_.createSignalingEndpointURL(a)}else s._log.warn("Could not parse a preferred URI from the stream#connected event.");s._shouldReRegister&&s.register()},s._onSignalingError=function(e){if("object"===typeof e){var n=e.error,r=e.callsid,i=e.voiceeventsid;if("object"!==typeof n||i)s._log.warn("Ignoring signaling error payload",{originalError:n,voiceeventsid:i});else{var o="string"===typeof r&&s._findCall(r)||void 0,a=n.code,l=n.message,u=n.twilioError;if("number"===typeof a)if(31201===a)u=new h.AuthorizationErrors.AuthenticationFailed(n);else if(31204===a)u=new h.AuthorizationErrors.AccessTokenInvalid(n);else if(31205===a)s._stopRegistrationTimer(),u=new h.AuthorizationErrors.AccessTokenExpired(n);else{var c=h.getPreciseSignalingErrorByCode(!!s._options.enableImprovedSignalingErrorPrecision,a);"undefined"!==typeof c&&(u=new c(n))}u||(s._log.error("Unknown signaling error: ",n),u=new h.GeneralErrors.UnknownError(l,n)),s._log.error("Received error: ",u),s._log.debug("#error",n),s.emit(t.EventName.Error,u,o)}}else s._log.warn("Invalid signaling error payload",e)},s._onSignalingInvite=function(e){return o(s,void 0,void 0,(function(){var n,r,i,o,s,l,u=this;return a(this,(function(a){switch(a.label){case 0:if((n=!!this._activeCall)&&!this._options.allowIncomingWhileBusy)return this._log.info("Device busy; ignoring incoming invite"),[2];if(!e.callsid||!e.sdp)return this._log.debug("#error",e),this.emit(t.EventName.Error,new h.ClientErrors.BadRequest("Malformed invite from gateway")),[2];(r=e.parameters||{}).CallSid=r.CallSid||e.callsid,i=Object.assign({},E.queryToJson(r.Params)),this._makeCallPromise=this._makeCall(i,{callParameters:r,enableImprovedSignalingErrorPrecision:!!this._options.enableImprovedSignalingErrorPrecision,offerSdp:e.sdp,reconnectToken:e.reconnect,voiceEventSidGenerator:this._options.voiceEventSidGenerator}),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this._makeCallPromise];case 2:return o=a.sent(),[3,4];case 3:return this._makeCallPromise=null,[7];case 4:return this._calls.push(o),o.once("accept",(function(){u._soundcache.get(t.SoundName.Incoming).stop(),u._publishNetworkChange()})),s=(null===(l=this._audio)||void 0===l?void 0:l.incoming())&&!n?function(){return u._soundcache.get(t.SoundName.Incoming).play()}:function(){return Promise.resolve()},this._showIncomingCall(o,s),[2]}}))}))},s._onSignalingOffline=function(){s._log.info("Stream is offline"),s._edge=null,s._region=null,s._shouldReRegister=s.state!==t.State.Unregistered,s._setState(t.State.Unregistered)},s._onSignalingReady=function(){s._log.info("Stream is ready"),s._setState(t.State.Registered)},s._publishNetworkChange=function(){s._activeCall&&s._networkInformation&&s._publisher.info("network-information","network-change",{connection_type:s._networkInformation.type,downlink:s._networkInformation.downlink,downlinkMax:s._networkInformation.downlinkMax,effective_type:s._networkInformation.effectiveType,rtt:s._networkInformation.rtt},s._activeCall)},s._updateInputStream=function(e){var t=s._activeCall;return t&&!e?Promise.reject(new h.InvalidStateError("Cannot unset input device while a call is in progress.")):(s._callInputStream=e,t?t._setInputTracksFromStream(e):Promise.resolve())},s._updateSinkIds=function(e,t){return("ringtone"===e?s._updateRingtoneSinkIds(t):s._updateSpeakerSinkIds(t)).then((function(){s._publisher.info("audio",e+"-devices-set",{audio_device_ids:t},s._activeCall)}),(function(n){throw s._publisher.error("audio",e+"-devices-set-failed",{audio_device_ids:t,message:n.message},s._activeCall),n}))},s._setupLoglevel(r.logLevel),s._logOptions("constructor",r),s.updateToken(n),E.isLegacyEdge())throw new h.NotSupportedError("Microsoft Edge Legacy (https://support.microsoft.com/en-us/help/4533505/what-is-microsoft-edge-legacy) is deprecated and will not be able to connect to Twilio to make or receive calls after September 1st, 2020. Please see this documentation for a list of supported browsers https://www.twilio.com/docs/voice/client/javascript#supported-browsers");if(!t.isSupported&&r.ignoreBrowserSupport){if(window&&window.location&&"http:"===window.location.protocol)throw new h.NotSupportedError("twilio.js wasn't able to find WebRTC browser support.           This is most likely because this page is served over http rather than https,           which does not support WebRTC in many browsers. Please load this page over https and           try again.");throw new h.NotSupportedError("twilio.js 1.3+ SDKs require WebRTC browser support.         For more information, see <https://www.twilio.com/docs/api/client/twilio-js>.         If you have any questions about this announcement, please contact         Twilio Support at <help@twilio.com>.")}var u=globalThis,c=u.msBrowser||u.browser||u.chrome;if(s._isBrowserExtension=!!c&&!!c.runtime&&!!c.runtime.id||!!u.safari&&!!u.safari.extension,s._isBrowserExtension&&s._log.info("Running as browser extension."),navigator){var m=navigator;s._networkInformation=m.connection||m.mozConnection||m.webkitConnection}return s._networkInformation&&"function"===typeof s._networkInformation.addEventListener&&s._networkInformation.addEventListener("change",s._publishNetworkChange),t._getOrCreateAudioContext(),t._audioContext&&(t._dialtonePlayer||(t._dialtonePlayer=new f.default(t._audioContext))),"undefined"===typeof t._isUnifiedPlanDefault&&(t._isUnifiedPlanDefault="undefined"!==typeof window&&"undefined"!==typeof RTCPeerConnection&&"undefined"!==typeof RTCRtpTransceiver&&E.isUnifiedPlanDefault(window,window.navigator,RTCPeerConnection,RTCRtpTransceiver)),s._boundDestroy=s.destroy.bind(s),s._boundConfirmClose=s._confirmClose.bind(s),"undefined"!==typeof window&&window.addEventListener&&(window.addEventListener("unload",s._boundDestroy),window.addEventListener("pagehide",s._boundDestroy)),s.updateOptions(r),s}return r(t,e),Object.defineProperty(t,"audioContext",{get:function(){return t._audioContext},enumerable:!1,configurable:!0}),Object.defineProperty(t,"extension",{get:function(){var e,t,n="undefined"!==typeof document?document.createElement("audio"):{canPlayType:!1};try{e=n.canPlayType&&!!n.canPlayType("audio/mpeg").replace(/no/,"")}catch(r){e=!1}try{t=n.canPlayType&&!!n.canPlayType("audio/ogg;codecs='vorbis'").replace(/no/,"")}catch(r){t=!1}return t&&!e?"ogg":"mp3"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isSupported",{get:function(){return b.enabled()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"packageName",{get:function(){return p.PACKAGE_NAME},enumerable:!1,configurable:!0}),t.runPreflight=function(e,n){return new v.PreflightTest(e,i({audioContext:t._getOrCreateAudioContext()},n))},t.toString=function(){return"[Twilio.Device class]"},Object.defineProperty(t,"version",{get:function(){return p.RELEASE_VERSION},enumerable:!1,configurable:!0}),t._getOrCreateAudioContext=function(){return t._audioContext||("undefined"!==typeof AudioContext?t._audioContext=new AudioContext:"undefined"!==typeof webkitAudioContext&&(t._audioContext=new webkitAudioContext)),t._audioContext},Object.defineProperty(t.prototype,"audio",{get:function(){return this._audio},enumerable:!1,configurable:!0}),t.prototype.connect=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var n,r,i,o,s,l,u,c,d;return a(this,(function(a){switch(a.label){case 0:if(this._log.debug(".connect",JSON.stringify(e)),this._throwIfDestroyed(),this._activeCall)throw new h.InvalidStateError("A Call is already active");if(e.connectToken){try{o=JSON.parse(decodeURIComponent(atob(e.connectToken))),n=o.customParameters,r=o.parameters,i=o.signalingReconnectToken}catch(p){throw new h.InvalidArgumentError("Cannot parse connectToken")}if(!r||!r.CallSid||!i)throw new h.InvalidArgumentError("Invalid connectToken")}s=!1,l={},u={enableImprovedSignalingErrorPrecision:!!this._options.enableImprovedSignalingErrorPrecision,rtcConfiguration:e.rtcConfiguration,voiceEventSidGenerator:this._options.voiceEventSidGenerator},i&&r?(s=!0,u.callParameters=r,u.reconnectCallSid=r.CallSid,u.reconnectToken=i,l=n||l):l=e.params||l,this._makeCallPromise=this._makeCall(l,u,s),a.label=1;case 1:return a.trys.push([1,,3,4]),d=this,[4,this._makeCallPromise];case 2:return c=d._activeCall=a.sent(),[3,4];case 3:return this._makeCallPromise=null,[7];case 4:return this._calls.splice(0).forEach((function(e){return e.ignore()})),this._soundcache.get(t.SoundName.Incoming).stop(),c.accept({rtcConstraints:e.rtcConstraints}),this._publishNetworkChange(),[2,c]}}))}))},Object.defineProperty(t.prototype,"calls",{get:function(){return this._calls},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){var e;this._log.debug(".destroy"),this._log.debug("Rejecting any incoming calls"),this._calls.slice(0).forEach((function(e){return e.reject()})),this.disconnectAll(),this._stopRegistrationTimer(),this._destroyStream(),this._destroyPublisher(),this._destroyAudioHelper(),null===(e=this._audioProcessorEventObserver)||void 0===e||e.destroy(),this._networkInformation&&"function"===typeof this._networkInformation.removeEventListener&&this._networkInformation.removeEventListener("change",this._publishNetworkChange),"undefined"!==typeof window&&window.removeEventListener&&(window.removeEventListener("beforeunload",this._boundConfirmClose),window.removeEventListener("unload",this._boundDestroy),window.removeEventListener("pagehide",this._boundDestroy)),this._setState(t.State.Destroyed),s.EventEmitter.prototype.removeAllListeners.call(this)},t.prototype.disconnectAll=function(){this._log.debug(".disconnectAll"),this._calls.splice(0).forEach((function(e){return e.disconnect()})),this._activeCall&&this._activeCall.disconnect()},Object.defineProperty(t.prototype,"edge",{get:function(){return this._edge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"home",{get:function(){return this._home},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identity",{get:function(){return this._identity},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBusy",{get:function(){return!!this._activeCall},enumerable:!1,configurable:!0}),t.prototype.register=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:if(this._log.debug(".register"),this.state!==t.State.Unregistered)throw new h.InvalidStateError('Attempt to register when device is in state "'+this.state+'". Must be "'+t.State.Unregistered+'".');return this._shouldReRegister=!1,this._setState(t.State.Registering),[4,this._streamConnectedPromise||this._setupStream()];case 1:return e.sent(),[4,this._sendPresence(!0)];case 2:return e.sent(),[4,E.promisifyEvents(this,t.State.Registered,t.State.Unregistered)];case 3:return e.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"token",{get:function(){return this._token},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Twilio.Device instance]"},t.prototype.unregister=function(){return o(this,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:if(this._log.debug(".unregister"),this.state!==t.State.Registered)throw new h.InvalidStateError('Attempt to unregister when device is in state "'+this.state+'". Must be "'+t.State.Registered+'".');return this._shouldReRegister=!1,[4,this._streamConnectedPromise];case 1:return e=r.sent(),n=new Promise((function(t){e.on("offline",t)})),[4,this._sendPresence(!1)];case 2:return r.sent(),[4,n];case 3:return r.sent(),[2]}}))}))},t.prototype.updateOptions=function(e){if(void 0===e&&(e={}),this._logOptions("updateOptions",e),this.state===t.State.Destroyed)throw new h.InvalidStateError('Attempt to "updateOptions" when device is in state "'+this.state+'".');this._options=i(i(i({},this._defaultOptions),this._options),e);var n=new Set(this._chunderURIs),r="string"===typeof this._options.chunderw?[this._options.chunderw]:Array.isArray(this._options.chunderw)&&this._options.chunderw,o=this._chunderURIs=(r||_.getChunderURIs(this._options.edge)).map(_.createSignalingEndpointURL),a=n.size!==o.length;if(!a)for(var s=0,l=o;s<l.length;s++){var u=l[s];if(!n.has(u)){a=!0;break}}if(this.isBusy&&a)throw new h.InvalidStateError("Cannot change Edge while on an active Call");this._setupLoglevel(this._options.logLevel);for(var c=0,d=Object.keys(t._defaultSounds);c<d.length;c++){var f=d[c],m=t._defaultSounds[f],g=p.SOUNDS_BASE_URL+"/"+m.filename+"."+t.extension+"?cache="+p.RELEASE_VERSION,v=this._options.sounds&&this._options.sounds[f]||g,y=new(this._options.Sound||w.default)(f,v,{audioContext:this._options.disableAudioContextSounds?null:t.audioContext,maxDuration:m.maxDuration,shouldLoop:m.shouldLoop});this._soundcache.set(f,y)}this._setupAudioHelper(),this._setupPublisher(),a&&this._streamConnectedPromise&&this._setupStream(),"undefined"!==typeof window&&"function"===typeof window.addEventListener&&this._options.closeProtection&&(window.removeEventListener("beforeunload",this._boundConfirmClose),window.addEventListener("beforeunload",this._boundConfirmClose))},t.prototype.updateToken=function(e){if(this._log.debug(".updateToken"),this.state===t.State.Destroyed)throw new h.InvalidStateError('Attempt to "updateToken" when device is in state "'+this.state+'".');if("string"!==typeof e)throw new h.InvalidArgumentError('Parameter "token" must be of type "string".');this._token=e,this._stream&&this._stream.setToken(this._token),this._publisher&&this._publisher.setToken(this._token)},t.prototype._confirmClose=function(e){if(!this._activeCall)return"";var t=this._options.closeProtection||!1,n="string"!==typeof t?"A call is currently in-progress. Leaving or reloading this page will end the call.":t;return(e||window.event).returnValue=n,n},t.prototype._destroyAudioHelper=function(){this._audio&&(this._audio._destroy(),this._audio=null)},t.prototype._destroyPublisher=function(){this._publisher&&(this._publisher=null)},t.prototype._destroyStream=function(){this._stream&&(this._stream.removeListener("close",this._onSignalingClose),this._stream.removeListener("connected",this._onSignalingConnected),this._stream.removeListener("error",this._onSignalingError),this._stream.removeListener("invite",this._onSignalingInvite),this._stream.removeListener("offline",this._onSignalingOffline),this._stream.removeListener("ready",this._onSignalingReady),this._stream.destroy(),this._stream=null),this._onSignalingOffline(),this._streamConnectedPromise=null},t.prototype._findCall=function(e){return this._calls.find((function(t){return t.parameters.CallSid===e||t.outboundConnectionId===e}))||null},t.prototype._logOptions=function(e,t){void 0===t&&(t={});var n=["allowIncomingWhileBusy","appName","appVersion","closeProtection","codecPreferences","disableAudioContextSounds","dscp","edge","enableImprovedSignalingErrorPrecision","forceAggressiveIceNomination","logLevel","maxAverageBitrate","maxCallSignalingTimeoutMs","sounds","tokenRefreshMs"],r=["RTCPeerConnection","enumerateDevices","getUserMedia"];if("object"===typeof t){var o=i({},t);Object.keys(o).forEach((function(e){n.includes(e)||r.includes(e)||delete o[e],r.includes(e)&&(o[e]=!0)})),this._log.debug("."+e,JSON.stringify(o))}},t.prototype._makeCall=function(e,n,r){var i;return void 0===r&&(r=!1),o(this,void 0,void 0,(function(){var o,s,l,u,c,p=this;return a(this,(function(a){switch(a.label){case 0:if("undefined"===typeof t._isUnifiedPlanDefault)throw new h.InvalidStateError("Device has not been initialized.");return(o=null===(i=this._audio)||void 0===i?void 0:i._getInputDevicePromise())?(this._log.debug("inputDevicePromise detected, waiting..."),[4,o]):[3,2];case 1:a.sent(),this._log.debug("inputDevicePromise resolved"),a.label=2;case 2:return c={audioHelper:this._audio,isUnifiedPlanDefault:t._isUnifiedPlanDefault,onIgnore:function(){p._soundcache.get(t.SoundName.Incoming).stop()}},[4,this._streamConnectedPromise||this._setupStream()];case 3:return c.pstream=a.sent(),c.publisher=this._publisher,c.soundcache=this._soundcache,s=c,n=Object.assign({MediaStream:this._options.MediaStream||b.PeerConnection,RTCPeerConnection:this._options.RTCPeerConnection,beforeAccept:function(e){p._activeCall&&p._activeCall!==e&&(p._activeCall.disconnect(),p._removeCall(p._activeCall))},codecPreferences:this._options.codecPreferences,customSounds:this._options.sounds,dialtonePlayer:t._dialtonePlayer,dscp:this._options.dscp,forceAggressiveIceNomination:this._options.forceAggressiveIceNomination,getInputStream:function(){return p._options.fileInputStream||p._callInputStream},getSinkIds:function(){return p._callSinkIds},maxAverageBitrate:this._options.maxAverageBitrate,preflight:this._options.preflight,rtcConstraints:this._options.rtcConstraints,shouldPlayDisconnect:function(){var e;return null===(e=p._audio)||void 0===e?void 0:e.disconnect()},twimlParams:e,voiceEventSidGenerator:this._options.voiceEventSidGenerator},n),l=function(){p._stream?null===p._activeCall&&0===p._calls.length&&p._stream.updatePreferredURI(null):p._log.warn("UnsetPreferredUri called without a stream")},u=new(this._options.Call||d.default)(s,n),this._publisher.info("settings","init",{RTCPeerConnection:!!this._options.RTCPeerConnection,enumerateDevices:!!this._options.enumerateDevices,getUserMedia:!!this._options.getUserMedia},u),u.once("accept",(function(){var e,n,i;p._stream.updatePreferredURI(p._preferredURI),p._removeCall(u),p._activeCall=u,p._audio&&p._audio._maybeStartPollingVolume(),u.direction===d.default.CallDirection.Outgoing&&(null===(e=p._audio)||void 0===e?void 0:e.outgoing())&&!r&&p._soundcache.get(t.SoundName.Outgoing).play();var o={edge:p._edge||p._region};p._options.edge&&(o.selected_edge=Array.isArray(p._options.edge)?p._options.edge:[p._options.edge]),p._publisher.info("settings","edge",o,u),(null===(n=p._audio)||void 0===n?void 0:n.processedStream)&&(null===(i=p._audioProcessorEventObserver)||void 0===i||i.emit("enabled"))})),u.addListener("error",(function(e){"closed"===u.status()&&(p._removeCall(u),l()),p._audio&&p._audio._maybeStopPollingVolume(),p._maybeStopIncomingSound()})),u.once("cancel",(function(){p._log.info("Canceled: "+u.parameters.CallSid),p._removeCall(u),l(),p._audio&&p._audio._maybeStopPollingVolume(),p._maybeStopIncomingSound()})),u.once("disconnect",(function(){p._audio&&p._audio._maybeStopPollingVolume(),p._removeCall(u),l(),p._maybeStopIncomingSound()})),u.once("reject",(function(){p._log.info("Rejected: "+u.parameters.CallSid),p._audio&&p._audio._maybeStopPollingVolume(),p._removeCall(u),l(),p._maybeStopIncomingSound()})),u.on("transportClose",(function(){u.status()===d.default.State.Pending&&(p._audio&&p._audio._maybeStopPollingVolume(),p._removeCall(u),p._maybeStopIncomingSound())})),[2,u]}}))}))},t.prototype._maybeStopIncomingSound=function(){this._calls.length||this._soundcache.get(t.SoundName.Incoming).stop()},t.prototype._removeCall=function(e){this._activeCall===e&&(this._activeCall=null,this._makeCallPromise=null);for(var t=this._calls.length-1;t>=0;t--)e===this._calls[t]&&this._calls.splice(t,1)},t.prototype._sendPresence=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this._streamConnectedPromise];case 1:return(t=n.sent())?(t.register({audio:e}),e?this._startRegistrationTimer():this._stopRegistrationTimer(),[2]):[2]}}))}))},t.prototype._setState=function(e){if(e!==this.state){this._state=e;var t=this._stateEventMapping[e];this._log.debug("#"+t),this.emit(t)}},t.prototype._setupAudioHelper=function(){var e=this;this._audioProcessorEventObserver||(this._audioProcessorEventObserver=new c.AudioProcessorEventObserver,this._audioProcessorEventObserver.on("event",(function(t){var n=t.name,r=t.group;e._publisher.info(r,n,{},e._activeCall)})));var n={audioContext:t.audioContext,audioProcessorEventObserver:this._audioProcessorEventObserver,beforeSetInputDevice:function(){return e._makeCallPromise?(e._log.debug("beforeSetInputDevice pause detected"),e._makeCallPromise):(e._log.debug("beforeSetInputDevice pause not detected, setting default"),Promise.resolve())},enumerateDevices:this._options.enumerateDevices,getUserMedia:this._options.getUserMedia||S.default};if(this._audio)return this._log.info("Found existing audio helper; updating options..."),void this._audio._updateUserOptions(n);this._audio=new(this._options.AudioHelper||u.default)(this._updateSinkIds,this._updateInputStream,n),this._audio.on("deviceChange",(function(t){var n=e._activeCall,r=t.map((function(e){return e.deviceId}));e._publisher.info("audio","device-change",{lost_active_device_ids:r},n),n&&n._mediaHandler._onInputDevicesChanged()}))},t.prototype._setupLoglevel=function(e){var t="number"===typeof e||"string"===typeof e?e:l.levels.ERROR;this._log.setDefaultLevel(t),this._log.info("Set logger default level to",t)},t.prototype._setupPublisher=function(){var e=this;this._publisher&&(this._log.info("Found existing publisher; destroying..."),this._destroyPublisher());var t={defaultPayload:this._createDefaultPayload,metadata:{app_name:this._options.appName,app_version:this._options.appVersion}};return this._options.eventgw&&(t.host=this._options.eventgw),this._home&&(t.host=_.createEventGatewayURI(this._home)),this._publisher=new(this._options.Publisher||m.default)("twilio-js-sdk",this.token,t),!1===this._options.publishEvents?this._publisher.disable():this._publisher.on("error",(function(t){e._log.warn("Cannot connect to insights.",t)})),this._publisher},t.prototype._setupStream=function(){var e=this;return this._stream&&(this._log.info("Found existing stream; destroying..."),this._destroyStream()),this._log.info("Setting up VSP"),this._stream=new(this._options.PStream||y.default)(this.token,this._chunderURIs,{backoffMaxMs:this._options.backoffMaxMs,maxPreferredDurationMs:this._options.maxCallSignalingTimeoutMs}),this._stream.addListener("close",this._onSignalingClose),this._stream.addListener("connected",this._onSignalingConnected),this._stream.addListener("error",this._onSignalingError),this._stream.addListener("invite",this._onSignalingInvite),this._stream.addListener("offline",this._onSignalingOffline),this._stream.addListener("ready",this._onSignalingReady),this._streamConnectedPromise=E.promisifyEvents(this._stream,"connected","close").then((function(){return e._stream}))},t.prototype._showIncomingCall=function(e,n){var r,i=this;return Promise.race([n(),new Promise((function(e,t){r=setTimeout((function(){t(new Error("Playing incoming ringtone took too long; it might not play. Continuing execution..."))}),2e3)}))]).catch((function(e){i._log.warn(e.message)})).then((function(){clearTimeout(r),i._log.debug("#incoming",JSON.stringify({customParameters:e.customParameters,parameters:e.parameters})),i.emit(t.EventName.Incoming,e)}))},t.prototype._startRegistrationTimer=function(){var e=this;this._stopRegistrationTimer(),this._regTimer=setTimeout((function(){e._sendPresence(!0)}),3e4)},t.prototype._stopRegistrationTimer=function(){this._regTimer&&clearTimeout(this._regTimer)},t.prototype._throwIfDestroyed=function(){if(this.state===t.State.Destroyed)throw new h.InvalidStateError("Device has been destroyed.")},t.prototype._updateRingtoneSinkIds=function(e){return Promise.resolve(this._soundcache.get(t.SoundName.Incoming).setSinkIds(e))},t.prototype._updateSpeakerSinkIds=function(e){Array.from(this._soundcache.entries()).filter((function(e){return e[0]!==t.SoundName.Incoming})).forEach((function(t){return t[1].setSinkIds(e)})),this._callSinkIds=e;var n=this._activeCall;return n?n._setSinkIds(e):Promise.resolve()},t._defaultSounds={disconnect:{filename:"disconnect",maxDuration:3e3},dtmf0:{filename:"dtmf-0",maxDuration:1e3},dtmf1:{filename:"dtmf-1",maxDuration:1e3},dtmf2:{filename:"dtmf-2",maxDuration:1e3},dtmf3:{filename:"dtmf-3",maxDuration:1e3},dtmf4:{filename:"dtmf-4",maxDuration:1e3},dtmf5:{filename:"dtmf-5",maxDuration:1e3},dtmf6:{filename:"dtmf-6",maxDuration:1e3},dtmf7:{filename:"dtmf-7",maxDuration:1e3},dtmf8:{filename:"dtmf-8",maxDuration:1e3},dtmf9:{filename:"dtmf-9",maxDuration:1e3},dtmfh:{filename:"dtmf-hash",maxDuration:1e3},dtmfs:{filename:"dtmf-star",maxDuration:1e3},incoming:{filename:"incoming",shouldLoop:!0},outgoing:{filename:"outgoing",maxDuration:3e3}},t}(s.EventEmitter);!function(e){!function(e){e.Error="error",e.Incoming="incoming",e.Destroyed="destroyed",e.Unregistered="unregistered",e.Registering="registering",e.Registered="registered",e.TokenWillExpire="tokenWillExpire"}(e.EventName||(e.EventName={})),function(e){e.Destroyed="destroyed",e.Unregistered="unregistered",e.Registering="registering",e.Registered="registered"}(e.State||(e.State={})),function(e){e.Incoming="incoming",e.Outgoing="outgoing",e.Disconnect="disconnect",e.Dtmf0="dtmf0",e.Dtmf1="dtmf1",e.Dtmf2="dtmf2",e.Dtmf3="dtmf3",e.Dtmf4="dtmf4",e.Dtmf5="dtmf5",e.Dtmf6="dtmf6",e.Dtmf7="dtmf7",e.Dtmf8="dtmf8",e.Dtmf9="dtmf9",e.DtmfS="dtmfs",e.DtmfH="dtmfh"}(e.SoundName||(e.SoundName={}))}(k||(k={})),t.default=k},5778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7493),i={dtmf0:[1360,960],dtmf1:[1230,720],dtmf2:[1360,720],dtmf3:[1480,720],dtmf4:[1230,790],dtmf5:[1360,790],dtmf6:[1480,790],dtmf7:[1230,870],dtmf8:[1360,870],dtmf9:[1480,870],dtmfh:[1480,960],dtmfs:[1230,960]},o=function(){function e(e){var t=this;this._context=e,this._gainNodes=[],this._gainNodes=[this._context.createGain(),this._context.createGain()],this._gainNodes.forEach((function(e){e.connect(t._context.destination),e.gain.value=.1,t._gainNodes.push(e)}))}return e.prototype.cleanup=function(){this._gainNodes.forEach((function(e){e.disconnect()}))},e.prototype.play=function(e){var t=this,n=i[e];if(!n)throw new r.InvalidArgumentError("Invalid DTMF sound name");[this._context.createOscillator(),this._context.createOscillator()].forEach((function(e,r){e.type="sine",e.frequency.value=n[r],e.connect(t._gainNodes[r]),e.start(),e.stop(t._context.currentTime+.1),e.addEventListener("ended",(function(){return e.disconnect()}))}))},e}();t.default=o},4940:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.errorsByCode=t.MediaErrors=t.SignalingErrors=t.UserMediaErrors=t.MalformedRequestErrors=t.GeneralErrors=t.SIPServerErrors=t.ClientErrors=t.SignatureValidationErrors=t.AuthorizationErrors=t.TwilioError=void 0;var i,o,a,s,l,u,c,d,p,f=n(6431);t.TwilioError=f.default,function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=20101,i.description="Invalid access token",i.explanation="Twilio was unable to validate your Access Token",i.name="AccessTokenInvalid",i.solutions=[],Object.setPrototypeOf(i,e.AccessTokenInvalid.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.AccessTokenInvalid=t;var n=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=20104,i.description="Access token expired or expiration date invalid",i.explanation="The Access Token provided to the Twilio API has expired, the expiration time specified in the token was invalid, or the expiration time specified was too far in the future",i.name="AccessTokenExpired",i.solutions=[],Object.setPrototypeOf(i,e.AccessTokenExpired.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.AccessTokenExpired=n;var i=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=20151,i.description="Authentication Failed",i.explanation="The Authentication with the provided JWT failed",i.name="AuthenticationFailed",i.solutions=[],Object.setPrototypeOf(i,e.AuthenticationFailed.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.AuthenticationFailed=i}(t.AuthorizationErrors||(t.AuthorizationErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The access token has an invalid Account SID, API Key, or API Key Secret."],i.code=31202,i.description="Signature validation failed.",i.explanation="The provided access token failed signature validation.",i.name="AccessTokenSignatureValidationFailed",i.solutions=["Ensure the Account SID, API Key, and API Key Secret are valid when generating your access token."],Object.setPrototypeOf(i,e.AccessTokenSignatureValidationFailed.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.AccessTokenSignatureValidationFailed=t}(o=t.SignatureValidationErrors||(t.SignatureValidationErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31400,i.description="Bad Request (HTTP/SIP)",i.explanation="The request could not be understood due to malformed syntax.",i.name="BadRequest",i.solutions=[],Object.setPrototypeOf(i,e.BadRequest.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.BadRequest=t;var n=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The outbound call was made to an invalid phone number.","The TwiML application sid is missing a Voice URL."],i.code=31404,i.description="Not Found (HTTP/SIP)",i.explanation="The server has not found anything matching the request.",i.name="NotFound",i.solutions=["Ensure the phone number dialed is valid.","Ensure the TwiML application is configured correctly with a Voice URL link."],Object.setPrototypeOf(i,e.NotFound.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.NotFound=n;var i=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31480,i.description="Temporarily Unavailable (SIP)",i.explanation="The callee is currently unavailable.",i.name="TemporarilyUnavailable",i.solutions=[],Object.setPrototypeOf(i,e.TemporarilyUnavailable.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.TemporarilyUnavailable=i;var o=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31486,i.description="Busy Here (SIP)",i.explanation="The callee is busy.",i.name="BusyHere",i.solutions=[],Object.setPrototypeOf(i,e.BusyHere.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.BusyHere=o}(a=t.ClientErrors||(t.ClientErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31603,i.description="Decline (SIP)",i.explanation="The callee does not wish to participate in the call.",i.name="Decline",i.solutions=[],Object.setPrototypeOf(i,e.Decline.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.Decline=t}(s=t.SIPServerErrors||(t.SIPServerErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31e3,i.description="Unknown Error",i.explanation="An unknown error has occurred. See error details for more information.",i.name="UnknownError",i.solutions=[],Object.setPrototypeOf(i,e.UnknownError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.UnknownError=t;var n=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31001,i.description="Application Not Found",i.explanation="",i.name="ApplicationNotFoundError",i.solutions=[],Object.setPrototypeOf(i,e.ApplicationNotFoundError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ApplicationNotFoundError=n;var i=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31002,i.description="Connection Declined",i.explanation="",i.name="ConnectionDeclinedError",i.solutions=[],Object.setPrototypeOf(i,e.ConnectionDeclinedError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ConnectionDeclinedError=i;var o=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31003,i.description="Connection Timeout",i.explanation="The server could not produce a response within a suitable amount of time.",i.name="ConnectionTimeoutError",i.solutions=[],Object.setPrototypeOf(i,e.ConnectionTimeoutError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ConnectionTimeoutError=o;var a=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31005,i.description="Connection error",i.explanation="A connection error occurred during the call",i.name="ConnectionError",i.solutions=[],Object.setPrototypeOf(i,e.ConnectionError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ConnectionError=a;var s=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The incoming call was cancelled because it was not answered in time or it was accepted/rejected by another application instance registered with the same identity."],i.code=31008,i.description="Call cancelled",i.explanation="Unable to answer because the call has ended",i.name="CallCancelledError",i.solutions=[],Object.setPrototypeOf(i,e.CallCancelledError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.CallCancelledError=s;var l=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31009,i.description="Transport error",i.explanation="No transport available to send or receive messages",i.name="TransportError",i.solutions=[],Object.setPrototypeOf(i,e.TransportError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.TransportError=l}(l=t.GeneralErrors||(t.GeneralErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["Invalid content or MessageType passed to sendMessage method."],i.code=31100,i.description="The request had malformed syntax.",i.explanation="The request could not be understood due to malformed syntax.",i.name="MalformedRequestError",i.solutions=["Ensure content and MessageType passed to sendMessage method are valid."],Object.setPrototypeOf(i,e.MalformedRequestError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.MalformedRequestError=t;var n=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31101,i.description="Missing parameter array in request",i.explanation="",i.name="MissingParameterArrayError",i.solutions=[],Object.setPrototypeOf(i,e.MissingParameterArrayError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.MissingParameterArrayError=n;var i=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31102,i.description="Authorization token missing in request.",i.explanation="",i.name="AuthorizationTokenMissingError",i.solutions=[],Object.setPrototypeOf(i,e.AuthorizationTokenMissingError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.AuthorizationTokenMissingError=i;var o=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31103,i.description="Maximum parameter length has been exceeded.",i.explanation="Length of parameters cannot exceed MAX_PARAM_LENGTH.",i.name="MaxParameterLengthExceededError",i.solutions=[],Object.setPrototypeOf(i,e.MaxParameterLengthExceededError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.MaxParameterLengthExceededError=o;var a=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31104,i.description="Invalid bridge token",i.explanation="",i.name="InvalidBridgeTokenError",i.solutions=[],Object.setPrototypeOf(i,e.InvalidBridgeTokenError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.InvalidBridgeTokenError=a;var s=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["Client name contains invalid characters."],i.code=31105,i.description="Invalid client name",i.explanation="Client name should not contain control, space, delims, or unwise characters.",i.name="InvalidClientNameError",i.solutions=["Make sure that client name does not contain any of the invalid characters."],Object.setPrototypeOf(i,e.InvalidClientNameError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.InvalidClientNameError=s;var l=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31107,i.description="The reconnect parameter is invalid",i.explanation="",i.name="ReconnectParameterInvalidError",i.solutions=[],Object.setPrototypeOf(i,e.ReconnectParameterInvalidError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ReconnectParameterInvalidError=l}(u=t.MalformedRequestErrors||(t.MalformedRequestErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31201,i.description="Authorization error",i.explanation="The request requires user authentication. The server understood the request, but is refusing to fulfill it.",i.name="AuthorizationError",i.solutions=[],Object.setPrototypeOf(i,e.AuthorizationError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.AuthorizationError=t;var n=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31203,i.description="No valid account",i.explanation="",i.name="NoValidAccountError",i.solutions=[],Object.setPrototypeOf(i,e.NoValidAccountError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.NoValidAccountError=n;var i=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31204,i.description="Invalid JWT token",i.explanation="",i.name="InvalidJWTTokenError",i.solutions=[],Object.setPrototypeOf(i,e.InvalidJWTTokenError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.InvalidJWTTokenError=i;var o=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31205,i.description="JWT token expired",i.explanation="",i.name="JWTTokenExpiredError",i.solutions=[],Object.setPrototypeOf(i,e.JWTTokenExpiredError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.JWTTokenExpiredError=o;var a=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["Rate limit exceeded."],i.code=31206,i.description="Rate exceeded authorized limit.",i.explanation="The request performed exceeds the authorized limit.",i.name="RateExceededError",i.solutions=["Ensure message send rate does not exceed authorized limits."],Object.setPrototypeOf(i,e.RateExceededError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.RateExceededError=a;var s=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31207,i.description="JWT token expiration too long",i.explanation="",i.name="JWTTokenExpirationTooLongError",i.solutions=[],Object.setPrototypeOf(i,e.JWTTokenExpirationTooLongError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.JWTTokenExpirationTooLongError=s;var l=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=31209,i.description="Reconnect attempt is not authorized.",i.explanation="",i.name="ReconnectAttemptError",i.solutions=[],Object.setPrototypeOf(i,e.ReconnectAttemptError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ReconnectAttemptError=l;var u=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The Call Message Event Type is invalid and is not understood by Twilio Voice."],i.code=31210,i.description="Call Message Event Type is invalid.",i.explanation="The Call Message Event Type is invalid and is not understood by Twilio Voice.",i.name="CallMessageEventTypeInvalidError",i.solutions=["Ensure the Call Message Event Type is Valid and understood by Twilio Voice and try again."],Object.setPrototypeOf(i,e.CallMessageEventTypeInvalidError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.CallMessageEventTypeInvalidError=u;var c=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The payload size of Call Message Event exceeds the authorized limit."],i.code=31212,i.description="Call Message Event Payload size exceeded authorized limit.",i.explanation="The request performed to send a Call Message Event exceeds the payload size authorized limit",i.name="PayloadSizeExceededError",i.solutions=["Reduce payload size of Call Message Event to be within the authorized limit and try again."],Object.setPrototypeOf(i,e.PayloadSizeExceededError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.PayloadSizeExceededError=c}(i=t.AuthorizationErrors||(t.AuthorizationErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The user denied the getUserMedia request.","The browser denied the getUserMedia request."],i.code=31401,i.description="UserMedia Permission Denied Error",i.explanation="The browser or end-user denied permissions to user media. Therefore we were unable to acquire input audio.",i.name="PermissionDeniedError",i.solutions=["The user should accept the request next time prompted. If the browser saved the deny, the user should change that permission in their browser.","The user should to verify that the browser has permission to access the microphone at this address."],Object.setPrototypeOf(i,e.PermissionDeniedError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.PermissionDeniedError=t;var n=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["NotFoundError - The deviceID specified was not found.","The getUserMedia constraints were overconstrained and no devices matched."],i.code=31402,i.description="UserMedia Acquisition Failed Error",i.explanation="The browser and end-user allowed permissions, however getting the media failed. Usually this is due to bad constraints, but can sometimes fail due to browser, OS or hardware issues.",i.name="AcquisitionFailedError",i.solutions=["Ensure the deviceID being specified exists.","Try acquiring media with fewer constraints."],Object.setPrototypeOf(i,e.AcquisitionFailedError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.AcquisitionFailedError=n}(c=t.UserMediaErrors||(t.UserMediaErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=[],i.code=53e3,i.description="Signaling connection error",i.explanation="Raised whenever a signaling connection error occurs that is not covered by a more specific error code.",i.name="ConnectionError",i.solutions=[],Object.setPrototypeOf(i,e.ConnectionError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ConnectionError=t;var n=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The device running your application lost its Internet connection."],i.code=53001,i.description="Signaling connection disconnected",i.explanation="Raised whenever the signaling connection is unexpectedly disconnected.",i.name="ConnectionDisconnected",i.solutions=["Ensure the device running your application has access to a stable Internet connection."],Object.setPrototypeOf(i,e.ConnectionDisconnected.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ConnectionDisconnected=n}(d=t.SignalingErrors||(t.SignalingErrors={})),function(e){var t=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The Client may not be using a supported WebRTC implementation.","The Client may not have the necessary resources to create or apply a new media description."],i.code=53400,i.description="Client is unable to create or apply a local media description",i.explanation="Raised whenever a Client is unable to create or apply a local media description.",i.name="ClientLocalDescFailed",i.solutions=["If you are experiencing this error using the JavaScript SDK, ensure you are running it with a supported WebRTC implementation."],Object.setPrototypeOf(i,e.ClientLocalDescFailed.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ClientLocalDescFailed=t;var n=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The Client may not be using a supported WebRTC implementation.","The Client may be connecting peer-to-peer with another Participant that is not using a supported WebRTC implementation.","The Client may not have the necessary resources to apply a new media description."],i.code=53402,i.description="Client is unable to apply a remote media description",i.explanation="Raised whenever the Client receives a remote media description but is unable to apply it.",i.name="ClientRemoteDescFailed",i.solutions=["If you are experiencing this error using the JavaScript SDK, ensure you are running it with a supported WebRTC implementation."],Object.setPrototypeOf(i,e.ClientRemoteDescFailed.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ClientRemoteDescFailed=n;var i=function(t){function n(n,r){var i=t.call(this,n,r)||this;i.causes=["The Client was unable to establish a media connection.","A media connection which was active failed liveliness checks."],i.code=53405,i.description="Media connection failed",i.explanation="Raised by the Client or Server whenever a media connection fails.",i.name="ConnectionError",i.solutions=["If the problem persists, try connecting to another region.","Check your Client's network connectivity.","If you've provided custom ICE Servers then ensure that the URLs and credentials are valid."],Object.setPrototypeOf(i,e.ConnectionError.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return r(n,t),n}(f.default);e.ConnectionError=i}(p=t.MediaErrors||(t.MediaErrors={})),t.errorsByCode=new Map([[20101,i.AccessTokenInvalid],[20104,i.AccessTokenExpired],[20151,i.AuthenticationFailed],[31202,o.AccessTokenSignatureValidationFailed],[31400,a.BadRequest],[31404,a.NotFound],[31480,a.TemporarilyUnavailable],[31486,a.BusyHere],[31603,s.Decline],[31e3,l.UnknownError],[31001,l.ApplicationNotFoundError],[31002,l.ConnectionDeclinedError],[31003,l.ConnectionTimeoutError],[31005,l.ConnectionError],[31008,l.CallCancelledError],[31009,l.TransportError],[31100,u.MalformedRequestError],[31101,u.MissingParameterArrayError],[31102,u.AuthorizationTokenMissingError],[31103,u.MaxParameterLengthExceededError],[31104,u.InvalidBridgeTokenError],[31105,u.InvalidClientNameError],[31107,u.ReconnectParameterInvalidError],[31201,i.AuthorizationError],[31203,i.NoValidAccountError],[31204,i.InvalidJWTTokenError],[31205,i.JWTTokenExpiredError],[31206,i.RateExceededError],[31207,i.JWTTokenExpirationTooLongError],[31209,i.ReconnectAttemptError],[31210,i.CallMessageEventTypeInvalidError],[31212,i.PayloadSizeExceededError],[31401,c.PermissionDeniedError],[31402,c.AcquisitionFailedError],[53e3,d.ConnectionError],[53001,d.ConnectionDisconnected],[53400,p.ClientLocalDescFailed],[53402,p.ClientRemoteDescFailed],[53405,p.ConnectionError]]),Object.freeze(t.errorsByCode)},7493:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.UserMediaErrors=t.TwilioError=t.SIPServerErrors=t.SignatureValidationErrors=t.SignalingErrors=t.MediaErrors=t.MalformedRequestErrors=t.GeneralErrors=t.ClientErrors=t.AuthorizationErrors=t.hasErrorByCode=t.getErrorByCode=t.NotSupportedError=t.InvalidStateError=t.InvalidArgumentError=t.getPreciseSignalingErrorByCode=void 0;var i=n(4940);Object.defineProperty(t,"AuthorizationErrors",{enumerable:!0,get:function(){return i.AuthorizationErrors}}),Object.defineProperty(t,"ClientErrors",{enumerable:!0,get:function(){return i.ClientErrors}}),Object.defineProperty(t,"GeneralErrors",{enumerable:!0,get:function(){return i.GeneralErrors}}),Object.defineProperty(t,"MalformedRequestErrors",{enumerable:!0,get:function(){return i.MalformedRequestErrors}}),Object.defineProperty(t,"MediaErrors",{enumerable:!0,get:function(){return i.MediaErrors}}),Object.defineProperty(t,"SignalingErrors",{enumerable:!0,get:function(){return i.SignalingErrors}}),Object.defineProperty(t,"SignatureValidationErrors",{enumerable:!0,get:function(){return i.SignatureValidationErrors}}),Object.defineProperty(t,"SIPServerErrors",{enumerable:!0,get:function(){return i.SIPServerErrors}}),Object.defineProperty(t,"TwilioError",{enumerable:!0,get:function(){return i.TwilioError}}),Object.defineProperty(t,"UserMediaErrors",{enumerable:!0,get:function(){return i.UserMediaErrors}});var o=new Set([31001,31002,31003,31101,31102,31103,31104,31105,31107,31201,31202,31203,31204,31205,31207,31404,31480,31486,31603]);t.getPreciseSignalingErrorByCode=function(e,t){if("number"===typeof t&&c(t)&&(!!e||!o.has(t)))return u(t)};var a=function(e){function t(t){var n=e.call(this,t)||this;return n.name="InvalidArgumentError",n}return r(t,e),t}(Error);t.InvalidArgumentError=a;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.name="InvalidStateError",n}return r(t,e),t}(Error);t.InvalidStateError=s;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.name="NotSupportedError",n}return r(t,e),t}(Error);function u(e){var t=i.errorsByCode.get(e);if(!t)throw new a("Error code "+e+" not found");return t}function c(e){return i.errorsByCode.has(e)}t.NotSupportedError=l,t.getErrorByCode=u,t.hasErrorByCode=c},6431:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(n,r){var i=e.call(this)||this;Object.setPrototypeOf(i,t.prototype);var o="string"===typeof n?n:i.explanation,a="object"===typeof n?n:r;return i.message=i.name+" ("+i.code+"): "+o,i.originalError=a,i}return n(t,e),t}(Error);t.default=r},8169:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2428),o=n(8391),a=n(276),s=function(e){function t(n,r,i){var s=e.call(this)||this;if(!(s instanceof t))return new t(n,r,i);var l=(i=Object.assign({defaultPayload:function(){return{}}},i)).defaultPayload;"function"!==typeof l&&(l=function(){return Object.assign({},i.defaultPayload)});var u=!0,c=Object.assign({app_name:void 0,app_version:void 0},i.metadata);return Object.defineProperties(s,{_defaultPayload:{value:l},_host:{value:i.host,writable:!0},_isEnabled:{get:function(){return u},set:function(e){u=e}},_log:{value:new o.default("EventPublisher")},_request:{value:i.request||a.default,writable:!0},_token:{value:r,writable:!0},isEnabled:{enumerable:!0,get:function(){return u}},metadata:{enumerable:!0,get:function(){return c}},productName:{enumerable:!0,value:n},token:{enumerable:!0,get:function(){return this._token}}}),s}return r(t,e),t}(i.EventEmitter);function l(e){return{audio_codec:e.codecName,audio_level_in:e.audioInputLevel,audio_level_out:e.audioOutputLevel,bytes_received:e.bytesReceived,bytes_sent:e.bytesSent,call_volume_input:e.inputVolume,call_volume_output:e.outputVolume,jitter:e.jitter,mos:e.mos&&Math.round(100*e.mos)/100,packets_lost:e.packetsLost,packets_lost_fraction:e.packetsLostFraction&&Math.round(100*e.packetsLostFraction)/100,packets_received:e.packetsReceived,rtt:e.rtt,timestamp:new Date(e.timestamp).toISOString(),total_bytes_received:e.totals.bytesReceived,total_bytes_sent:e.totals.bytesSent,total_packets_lost:e.totals.packetsLost,total_packets_received:e.totals.packetsReceived,total_packets_sent:e.totals.packetsSent}}s.prototype._post=function(e,t,n,r,i,o,a){var s=this;if(!this.isEnabled&&!a||!this._host)return this._log.debug("Publishing cancelled",JSON.stringify({isEnabled:this.isEnabled,force:a,host:this._host})),Promise.resolve();if(!o||(!o.parameters||!o.parameters.CallSid)&&!o.outboundConnectionId)return o?this._log.debug("Publishing cancelled. Missing connection info",JSON.stringify({outboundConnectionId:o.outboundConnectionId,parameters:o.parameters})):this._log.debug("Publishing cancelled. Missing connection object"),Promise.resolve();var l={group:n,level:t.toUpperCase(),name:r,payload:i&&i.forEach?i.slice(0):Object.assign(this._defaultPayload(o),i),payload_type:"application/json",private:!1,publisher:this.productName,timestamp:(new Date).toISOString()};this.metadata&&(l.publisher_metadata=this.metadata),"EndpointEvents"===e&&this._log.debug("Publishing insights",JSON.stringify({endpointName:e,event:l,force:a,host:this._host}));var u={body:l,headers:{"Content-Type":"application/json","X-Twilio-Token":this.token},url:"https://"+this._host+"/v4/"+e};return new Promise((function(e,t){s._request.post(u,(function(n){n?(s.emit("error",n),t(n)):e()}))})).catch((function(e){s._log.error("Unable to post "+n+" "+r+" event to Insights. Received error: "+e)}))},s.prototype.post=function(e,t,n,r,i,o){return this._post("EndpointEvents",e,t,n,r,i,o)},s.prototype.debug=function(e,t,n,r){return this.post("debug",e,t,n,r)},s.prototype.info=function(e,t,n,r){return this.post("info",e,t,n,r)},s.prototype.warn=function(e,t,n,r){return this.post("warning",e,t,n,r)},s.prototype.error=function(e,t,n,r){return this.post("error",e,t,n,r)},s.prototype.postMetrics=function(e,t,n,r,i){var o=this;return new Promise((function(a){var s=n.map(l).map((function(e){return Object.assign(e,r)}));a(o._post("EndpointMetrics","info",e,t,s,i))}))},s.prototype.setHost=function(e){this._host=e},s.prototype.setToken=function(e){this._token=e},s.prototype.enable=function(){this._isEnabled=!0},s.prototype.disable=function(){this._isEnabled=!1},t.default=s},8391:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var i=n(9894),o=n(4856),a=function(){function e(t,n){this._log=e.getLogLevelInstance(n),this._prefix="[TwilioVoice]["+t+"]"}return e.getLogLevelInstance=function(t){if(!e.loglevelInstance)try{e.loglevelInstance=(t&&t.LogLevelModule?t.LogLevelModule:i).getLogger(o.PACKAGE_NAME)}catch(n){console.warn("Cannot create custom logger"),e.loglevelInstance=console}return e.loglevelInstance},e.prototype.debug=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._log).debug.apply(e,r([this._prefix],t))},e.prototype.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._log).error.apply(e,r([this._prefix],t))},e.prototype.info=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._log).info.apply(e,r([this._prefix],t))},e.prototype.setDefaultLevel=function(e){this._log.setDefaultLevel?this._log.setDefaultLevel(e):console.warn("Logger cannot setDefaultLevel")},e.prototype.warn=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._log).warn.apply(e,r([this._prefix],t))},e.levels=i.levels,e}();t.Logger=a.getLogLevelInstance(),t.default=a},2302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4856),i=n(7493),o=n(8391),a=r.SOUNDS_BASE_URL+"/outgoing.mp3",s=function(){function e(e,t,n,r){this._name=e,this._availableDevices=t,this._beforeChange=n,this._isSupported=r,this._activeDevices=new Set,this._log=new o.default("OutputDeviceCollection")}return e.prototype.delete=function(e){this._log.debug(".delete",e);var t=!!this._activeDevices.delete(e),n=this._availableDevices.get("default")||Array.from(this._availableDevices.values())[0];!this._activeDevices.size&&n&&this._activeDevices.add(n);var r=Array.from(this._activeDevices.values()).map((function(e){return e.deviceId}));return this._beforeChange(this._name,r),!!t},e.prototype.get=function(){return this._activeDevices},e.prototype.set=function(e){var t=this;if(this._log.debug(".set",e),!this._isSupported)return Promise.reject(new i.NotSupportedError("This browser does not support audio output selection"));var n=Array.isArray(e)?e:[e];if(!n.length)return Promise.reject(new i.InvalidArgumentError("Must specify at least one device to set"));var r=[],o=n.map((function(e){var n=t._availableDevices.get(e);return n||r.push(e),n}));return r.length?Promise.reject(new i.InvalidArgumentError("Devices not found: "+r.join(", "))):new Promise((function(e){e(t._beforeChange(t._name,n))})).then((function(){t._activeDevices.clear(),o.forEach(t._activeDevices.add,t._activeDevices)}))},e.prototype.test=function(e){return void 0===e&&(e=a),this._isSupported?this._activeDevices.size?Promise.all(Array.from(this._activeDevices).map((function(t){var n;return new Promise((function(t){(n=new Audio(e)).oncanplay=t})).then((function(){return n.setSinkId(t.deviceId).then((function(){return n.play()}))}))}))):Promise.reject(new i.InvalidStateError("No active output devices to test")):Promise.reject(new i.NotSupportedError("This browser does not support audio output selection"))},e}();t.default=s},4722:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreflightTest=void 0;var s=n(2428),l=n(7489),u=n(11),c=n(7493),d=n(8391),p=n(6758),f=n(4856),h=function(e){function t(n,r){var o=e.call(this)||this;o._hasInsightsErrored=!1,o._log=new d.default("PreflightTest"),o._networkTiming={},o._options={codecPreferences:[l.default.Codec.PCMU,l.default.Codec.Opus],edge:"roaming",fakeMicInput:!1,logLevel:"error",signalingTimeoutMs:1e4},o._status=t.Status.Connecting,Object.assign(o._options,r),o._samples=[],o._warnings=[],o._startTime=Date.now(),o._initDevice(n,i(i({},o._options),{fileInputStream:o._options.fakeMicInput?o._getStreamFromFile():void 0}));var a=["codecPreferences","edge","fakeMicInput","logLevel","signalingTimeoutMs"],s=["audioContext","deviceFactory","fileInputStream","getRTCIceCandidateStatsReport","iceServers","rtcConfiguration"];if("object"===typeof r){var u=i({},r);Object.keys(u).forEach((function(e){a.includes(e)||s.includes(e)||delete u[e],s.includes(e)&&(u[e]=!0)})),o._log.debug(".constructor",JSON.stringify(u))}return o}return r(t,e),t.prototype.stop=function(){var e=this;this._log.debug(".stop");var t=new c.GeneralErrors.CallCancelledError;this._device?(this._device.once(u.default.EventName.Unregistered,(function(){return e._onFailed(t)})),this._device.destroy()):this._onFailed(t)},t.prototype._emitWarning=function(e,n,r){var i={name:e,description:n};r&&(i.rtcWarning=r),this._warnings.push(i),this._log.debug("#"+t.Events.Warning,JSON.stringify(i)),this.emit(t.Events.Warning,i)},t.prototype._getCallQuality=function(e){return e>4.2?t.CallQuality.Excellent:e>=4.1&&e<=4.2?t.CallQuality.Great:e>=3.7&&e<=4?t.CallQuality.Good:e>=3.1&&e<=3.6?t.CallQuality.Fair:t.CallQuality.Degraded},t.prototype._getReport=function(){var e,t,n,r=this._getRTCStats(),i={start:this._startTime};this._endTime&&(i.end=this._endTime,i.duration=this._endTime-this._startTime);var o={callSid:this._callSid,edge:this._edge,iceCandidateStats:null!==(t=null===(e=this._rtcIceCandidateStatsReport)||void 0===e?void 0:e.iceCandidateStats)&&void 0!==t?t:[],networkTiming:this._networkTiming,samples:this._samples,selectedEdge:this._options.edge,stats:r,testTiming:i,totals:this._getRTCSampleTotals(),warnings:this._warnings},a=null===(n=this._rtcIceCandidateStatsReport)||void 0===n?void 0:n.selectedIceCandidatePairStats;return a&&(o.selectedIceCandidatePairStats=a,o.isTurnRequired="relay"===a.localCandidate.candidateType||"relay"===a.remoteCandidate.candidateType),r&&(o.callQuality=this._getCallQuality(r.mos.average)),o},t.prototype._getRTCSampleTotals=function(){if(this._latestSample)return i({},this._latestSample.totals)},t.prototype._getRTCStats=function(){var e=this._samples.findIndex((function(e){return"number"===typeof e.mos&&e.mos>0})),t=e>=0?this._samples.slice(e):[];if(t&&t.length)return["jitter","mos","rtt"].reduce((function(e,n){var r,o=t.map((function(e){return e[n]}));return i(i({},e),((r={})[n]={average:Number((o.reduce((function(e,t){return e+t}))/o.length).toPrecision(5)),max:Math.max.apply(Math,o),min:Math.min.apply(Math,o)},r))}),{})},t.prototype._getStreamFromFile=function(){var e=this._options.audioContext;if(!e)throw new c.NotSupportedError("Cannot fake input audio stream: AudioContext is not supported by this browser.");var t=new Audio(f.COWBELL_AUDIO_URL);t.addEventListener("canplaythrough",(function(){return t.play()})),"function"===typeof t.setAttribute&&t.setAttribute("crossorigin","anonymous");var n=e.createMediaElementSource(t),r=e.createMediaStreamDestination();return n.connect(r),r.stream},t.prototype._initDevice=function(e,t){var n=this;try{this._device=new(t.deviceFactory||u.default)(e,{codecPreferences:t.codecPreferences,edge:t.edge,fileInputStream:t.fileInputStream,logLevel:t.logLevel,preflight:!0}),this._device.once(u.default.EventName.Registered,(function(){n._onDeviceRegistered()})),this._device.once(u.default.EventName.Error,(function(e){n._onDeviceError(e)})),this._device.register()}catch(r){return void setTimeout((function(){n._onFailed(r)}))}this._signalingTimeoutTimer=setTimeout((function(){n._onDeviceError(new c.SignalingErrors.ConnectionError("WebSocket Connection Timeout"))}),t.signalingTimeoutMs)},t.prototype._onDeviceError=function(e){this._device.destroy(),this._onFailed(e)},t.prototype._onDeviceRegistered=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:return clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),e=this,[4,this._device.connect({rtcConfiguration:this._options.rtcConfiguration})];case 1:return e._call=r.sent(),this._networkTiming.signaling={start:Date.now()},this._setupCallHandlers(this._call),this._edge=this._device.edge||void 0,this._options.fakeMicInput&&(this._echoTimer=setTimeout((function(){return n._device.disconnectAll()}),f.ECHO_TEST_DURATION),(t=this._device.audio)&&(t.disconnect(!1),t.outgoing(!1))),this._call.once("disconnect",(function(){n._device.once(u.default.EventName.Unregistered,(function(){return n._onUnregistered()})),n._device.destroy()})),this._call._publisher.on("error",(function(){n._hasInsightsErrored||n._emitWarning("insights-connection-error","Received an error when attempting to connect to Insights gateway"),n._hasInsightsErrored=!0})),[2]}}))}))},t.prototype._onFailed=function(e){clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._releaseHandlers(),this._endTime=Date.now(),this._status=t.Status.Failed,this._log.debug("#"+t.Events.Failed,e),this.emit(t.Events.Failed,e)},t.prototype._onUnregistered=function(){var e=this;setTimeout((function(){e._status!==t.Status.Failed&&(clearTimeout(e._echoTimer),clearTimeout(e._signalingTimeoutTimer),e._releaseHandlers(),e._endTime=Date.now(),e._status=t.Status.Completed,e._report=e._getReport(),e._log.debug("#"+t.Events.Completed,JSON.stringify(e._report)),e.emit(t.Events.Completed,e._report))}),10)},t.prototype._releaseHandlers=function(){[this._device,this._call].forEach((function(e){e&&e.eventNames().forEach((function(t){return e.removeAllListeners(t)}))}))},t.prototype._setupCallHandlers=function(e){var n=this;this._options.fakeMicInput&&e.once("volume",(function(){e._mediaHandler.outputs.forEach((function(e){return e.audio.muted=!0}))})),e.on("warning",(function(e,t){n._emitWarning(e,"Received an RTCWarning. See .rtcWarning for the RTCWarning",t)})),e.once("accept",(function(){n._callSid=e._mediaHandler.callSid,n._status=t.Status.Connected,n._log.debug("#"+t.Events.Connected),n.emit(t.Events.Connected)})),e.on("sample",(function(r){return o(n,void 0,void 0,(function(){var n;return a(this,(function(i){switch(i.label){case 0:return this._latestSample?[3,2]:(n=this,[4,(this._options.getRTCIceCandidateStatsReport||p.getRTCIceCandidateStatsReport)(e._mediaHandler.version.pc)]);case 1:n._rtcIceCandidateStatsReport=i.sent(),i.label=2;case 2:return this._latestSample=r,this._samples.push(r),this._log.debug("#"+t.Events.Sample,JSON.stringify(r)),this.emit(t.Events.Sample,r),[2]}}))}))})),[{reportLabel:"peerConnection",type:"pcconnection"},{reportLabel:"ice",type:"iceconnection"},{reportLabel:"dtls",type:"dtlstransport"},{reportLabel:"signaling",type:"signaling"}].forEach((function(t){var r=t.type,i=t.reportLabel,o="on"+r+"statechange",a=e._mediaHandler[o];e._mediaHandler[o]=function(e){var t=n._networkTiming[i]=n._networkTiming[i]||{start:0};"connecting"===e||"checking"===e?t.start=Date.now():"connected"!==e&&"stable"!==e||t.duration||(t.end=Date.now(),t.duration=t.end-t.start),a(e)}}))},Object.defineProperty(t.prototype,"callSid",{get:function(){return this._callSid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"latestSample",{get:function(){return this._latestSample},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"report",{get:function(){return this._report},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),t}(s.EventEmitter);t.PreflightTest=h,function(e){!function(e){e.Excellent="excellent",e.Great="great",e.Good="good",e.Fair="fair",e.Degraded="degraded"}(e.CallQuality||(e.CallQuality={})),function(e){e.Completed="completed",e.Connected="connected",e.Failed="failed",e.Sample="sample",e.Warning="warning"}(e.Events||(e.Events={})),function(e){e.Connecting="connecting",e.Connected="connected",e.Completed="completed",e.Failed="failed"}(e.Status||(e.Status={}))}(h=t.PreflightTest||(t.PreflightTest={})),t.PreflightTest=h},6641:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2428),o=n(4856),a=n(7493),s=n(8391),l=n(362),u=function(e){function t(n,r,i){var o=e.call(this)||this;if(!(o instanceof t))return new t(n,r,i);var a={TransportFactory:l.default};for(var u in i=i||{},a)u in i||(i[u]=a[u]);o.options=i,o.token=n||"",o.status="disconnected",o.gateway=null,o.region=null,o._messageQueue=[],o._preferredUri=null,o._uris=r,o._handleTransportClose=o._handleTransportClose.bind(o),o._handleTransportError=o._handleTransportError.bind(o),o._handleTransportMessage=o._handleTransportMessage.bind(o),o._handleTransportOpen=o._handleTransportOpen.bind(o),o._log=new s.default("PStream"),o.on("error",(function(){o._log.warn("Unexpected error handled in pstream")}));var c=o;return o.addListener("ready",(function(){c.status="ready"})),o.addListener("offline",(function(){c.status="offline"})),o.addListener("close",(function(){c._log.info('Received "close" from server. Destroying PStream...'),c._destroy()})),o.transport=new o.options.TransportFactory(o._uris,{backoffMaxMs:o.options.backoffMaxMs,maxPreferredDurationMs:o.options.maxPreferredDurationMs}),Object.defineProperties(o,{uri:{enumerable:!0,get:function(){return this.transport.uri}}}),o.transport.on("close",o._handleTransportClose),o.transport.on("error",o._handleTransportError),o.transport.on("message",o._handleTransportMessage),o.transport.on("open",o._handleTransportOpen),o.transport.open(),o}return r(t,e),t}(i.EventEmitter);function c(){var e="undefined"!==typeof navigator?navigator:{};return{browser:{platform:e.platform||"unknown",userAgent:e.userAgent||"unknown"},p:"browser",plugin:"rtc",v:o.RELEASE_VERSION}}u.prototype._handleTransportClose=function(){this.emit("transportClose"),"disconnected"!==this.status&&("offline"!==this.status&&this.emit("offline",this),this.status="disconnected")},u.prototype._handleTransportError=function(e){e?this.emit("error","undefined"!==typeof e.code?{error:e}:e):this.emit("error",{error:{code:31e3,message:"Websocket closed without a provided reason",twilioError:new a.SignalingErrors.ConnectionDisconnected}})},u.prototype._handleTransportMessage=function(e){if(e&&e.data&&"string"===typeof e.data){var t=JSON.parse(e.data),n=t.type,r=t.payload,i=void 0===r?{}:r;this.gateway=i.gateway||this.gateway,this.region=i.region||this.region,"error"===n&&i.error&&(i.error.twilioError=new a.SignalingErrors.ConnectionError),this.emit(n,i)}},u.prototype._handleTransportOpen=function(){var e=this;this.status="connected",this.setToken(this.token),this.emit("transportOpen"),this._messageQueue.splice(0,this._messageQueue.length).forEach((function(t){return e._publish.apply(e,t)}))},u.toString=function(){return"[Twilio.PStream class]"},u.prototype.toString=function(){return"[Twilio.PStream instance]"},u.prototype.setToken=function(e){this._log.info("Setting token and publishing listen"),this.token=e;var t=0,n=this.options.maxPreferredDurationMs;this._log.info("maxPreferredDurationMs:"+n),"number"===typeof n&&n>=0&&(t=Math.min(Math.ceil(n/1e3),30)),this._log.info("reconnectTimeout:"+t);var r={browserinfo:c(),reconnectTimeout:t,token:e};this._publish("listen",r)},u.prototype.sendMessage=function(e,t,n,r,i){void 0===n&&(n="application/json");var o={callsid:e,content:t,contenttype:n,messagetype:r,voiceeventsid:i};this._publish("message",o,!0)},u.prototype.register=function(e){var t={media:e};this._publish("register",t,!0)},u.prototype.invite=function(e,t,n){var r={callsid:t,sdp:e,twilio:n?{params:n}:{}};this._publish("invite",r,!0)},u.prototype.reconnect=function(e,t,n){var r={callsid:t,reconnect:n,sdp:e,twilio:{}};this._publish("invite",r,!0)},u.prototype.answer=function(e,t){this._publish("answer",{sdp:e,callsid:t},!0)},u.prototype.dtmf=function(e,t){this._publish("dtmf",{callsid:e,dtmf:t},!0)},u.prototype.hangup=function(e,t){var n=t?{callsid:e,message:t}:{callsid:e};this._publish("hangup",n,!0)},u.prototype.reject=function(e){this._publish("reject",{callsid:e},!0)},u.prototype.reinvite=function(e,t){this._publish("reinvite",{sdp:e,callsid:t},!1)},u.prototype._destroy=function(){this.transport.removeListener("close",this._handleTransportClose),this.transport.removeListener("error",this._handleTransportError),this.transport.removeListener("message",this._handleTransportMessage),this.transport.removeListener("open",this._handleTransportOpen),this.transport.close(),this.emit("offline",this)},u.prototype.destroy=function(){return this._log.info("PStream.destroy() called..."),this._destroy(),this},u.prototype.updatePreferredURI=function(e){this._preferredUri=e,this.transport.updatePreferredURI(e)},u.prototype.updateURIs=function(e){this._uris=e,this.transport.updateURIs(this._uris)},u.prototype.publish=function(e,t){return this._publish(e,t,!0)},u.prototype._publish=function(e,t,n){var r=JSON.stringify({payload:t,type:e,version:"1.6"});!!this.transport.send(r)||(this.emit("error",{error:{code:31009,message:"No transport available to send or receive messages",twilioError:new a.GeneralErrors.TransportError}}),n&&this._messageQueue.push([e,t,!0]))},t.default=u},7260:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getRegionShortcode=t.getChunderURIs=t.createSignalingEndpointURL=t.createEventGatewayURI=t.defaultEdge=t.regionToEdge=t.regionShortcodes=t.Region=t.Edge=void 0;var i,o,a=n(7493);!function(e){e.Sydney="sydney",e.SaoPaulo="sao-paulo",e.Dublin="dublin",e.Frankfurt="frankfurt",e.Tokyo="tokyo",e.Singapore="singapore",e.Ashburn="ashburn",e.Umatilla="umatilla",e.Roaming="roaming",e.AshburnIx="ashburn-ix",e.SanJoseIx="san-jose-ix",e.LondonIx="london-ix",e.FrankfurtIx="frankfurt-ix",e.SingaporeIx="singapore-ix",e.SydneyIx="sydney-ix",e.TokyoIx="tokyo-ix"}(i=t.Edge||(t.Edge={})),function(e){e.Au1="au1",e.Au1Ix="au1-ix",e.Br1="br1",e.De1="de1",e.De1Ix="de1-ix",e.Gll="gll",e.Ie1="ie1",e.Ie1Ix="ie1-ix",e.Ie1Tnx="ie1-tnx",e.Jp1="jp1",e.Jp1Ix="jp1-ix",e.Sg1="sg1",e.Sg1Ix="sg1-ix",e.Sg1Tnx="sg1-tnx",e.Us1="us1",e.Us1Ix="us1-ix",e.Us1Tnx="us1-tnx",e.Us2="us2",e.Us2Ix="us2-ix",e.Us2Tnx="us2-tnx"}(o=t.Region||(t.Region={})),t.regionShortcodes={ASIAPAC_SINGAPORE:o.Sg1,ASIAPAC_SYDNEY:o.Au1,ASIAPAC_TOKYO:o.Jp1,EU_FRANKFURT:o.De1,EU_IRELAND:o.Ie1,SOUTH_AMERICA_SAO_PAULO:o.Br1,US_EAST_VIRGINIA:o.Us1,US_WEST_OREGON:o.Us2},t.regionToEdge=((r={})[o.Au1]=i.Sydney,r[o.Br1]=i.SaoPaulo,r[o.Ie1]=i.Dublin,r[o.De1]=i.Frankfurt,r[o.Jp1]=i.Tokyo,r[o.Sg1]=i.Singapore,r[o.Us1]=i.Ashburn,r[o.Us2]=i.Umatilla,r[o.Gll]=i.Roaming,r[o.Us1Ix]=i.AshburnIx,r[o.Us2Ix]=i.SanJoseIx,r[o.Ie1Ix]=i.LondonIx,r[o.De1Ix]=i.FrankfurtIx,r[o.Sg1Ix]=i.SingaporeIx,r[o.Au1Ix]=i.SydneyIx,r[o.Jp1Ix]=i.TokyoIx,r[o.Us1Tnx]=i.AshburnIx,r[o.Us2Tnx]=i.AshburnIx,r[o.Ie1Tnx]=i.LondonIx,r[o.Sg1Tnx]=i.SingaporeIx,r),t.defaultEdge=i.Roaming;function s(e){return"voice-js."+e+".twilio.com"}t.createEventGatewayURI=function(e){return e?"eventgw."+e+".twilio.com":"eventgw.twilio.com"},t.createSignalingEndpointURL=function(e){return"wss://"+e+"/signal"},t.getChunderURIs=function(e){if(e&&"string"!==typeof e&&!Array.isArray(e))throw new a.InvalidArgumentError("If `edge` is provided, it must be of type `string` or an array of strings.");return e?(Array.isArray(e)?e:[e]).map((function(e){return s(e)})):[s(t.defaultEdge)]},t.getRegionShortcode=function(e){return t.regionShortcodes[e]||null}},276:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=JSON.stringify(t.body||{}),i=new Headers;t.headers=t.headers||[],Object.entries(t.headers).forEach((function(e){var t=e[0],n=e[1];return i.append(t,n)})),fetch(t.url,{body:r,headers:i,method:e}).then((function(e){return e.text()}),n).then((function(e){return n(null,e)}),n)};n.get=function(e,t){return new this("GET",e,t)},n.post=function(e,t){return new this("POST",e,t)},t.default=n},5784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7493),i=n(7401);t.default=function(e,t){return(t=t||{}).util=t.util||i,t.navigator=t.navigator||("undefined"!==typeof navigator?navigator:null),new Promise((function(n,i){if(!t.navigator)throw new r.NotSupportedError("getUserMedia is not supported");switch("function"){case typeof(t.navigator.mediaDevices&&t.navigator.mediaDevices.getUserMedia):return n(t.navigator.mediaDevices.getUserMedia(e));case typeof t.navigator.webkitGetUserMedia:return t.navigator.webkitGetUserMedia(e,n,i);case typeof t.navigator.mozGetUserMedia:return t.navigator.mozGetUserMedia(e,n,i);case typeof t.navigator.getUserMedia:return t.navigator.getUserMedia(e,n,i);default:throw new r.NotSupportedError("getUserMedia is not supported")}})).catch((function(e){throw t.util.isFirefox()&&"NotReadableError"===e.name?new r.NotSupportedError("Firefox does not currently support opening multiple audio input trackssimultaneously, even across different tabs.\nRelated Bugzilla thread: https://bugzilla.mozilla.org/show_bug.cgi?id=1299324"):e}))}},1781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IceCandidate=void 0;var n=function(){function e(e,t){var n;void 0===t&&(t=!1),this.deleted=!1;var r=e.candidate.split("network-cost ");r[1]&&(n=parseInt(r[1],10)),this.candidateType=e.type,this.ip=e.ip||e.address,this.isRemote=t,this.networkCost=n,this.port=e.port,this.priority=e.priority,this.protocol=e.protocol,this.relatedAddress=e.relatedAddress,this.relatedPort=e.relatedPort,this.tcpType=e.tcpType,this.transportId=e.sdpMid}return e.prototype.toPayload=function(){return{candidate_type:this.candidateType,deleted:this.deleted,ip:this.ip,is_remote:this.isRemote,"network-cost":this.networkCost,port:this.port,priority:this.priority,protocol:this.protocol,related_address:this.relatedAddress,related_port:this.relatedPort,tcp_type:this.tcpType,transport_id:this.transportId}},e}();t.IceCandidate=n},1309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeerConnection=t.getMediaEngine=t.enabled=void 0;var r=n(93);t.PeerConnection=r.default;var i=n(6703);t.enabled=function(){return i.default.test()},t.getMediaEngine=function(){return"undefined"!==typeof RTCIceGatherer?"ORTC":"WebRTC"}},7911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=32767,r="undefined"!==typeof window?window.RTCStatsReport:void 0;function i(e){if(!(this instanceof i))return new i(e);var t=this;Object.defineProperties(this,{_map:{value:e},size:{enumerable:!0,get:function(){return t._map.size}}}),this[Symbol.iterator]=e[Symbol.iterator]}function o(e){return{bytesReceived:void 0,bytesSent:void 0,dtlsState:void 0,id:e.id,localCertificateId:e.stat("localCertificateId"),remoteCertificateId:e.stat("remoteCertificateId"),rtcpTransportStatsId:void 0,selectedCandidatePairId:e.stat("selectedCandidatePairId"),timestamp:Date.parse(e.timestamp),type:"transport"}}function a(e,t){return{associateStatsId:void 0,codecId:"codec-"+e.id,firCount:t?c(e,"googFirsSent"):void 0,id:e.id,isRemote:void 0,mediaType:e.stat("mediaType"),nackCount:c(e,t?"googNacksSent":"googNacksReceived"),pliCount:c(e,t?"googPlisSent":"googPlisReceived"),qpSum:c(e,"qpSum"),sliCount:void 0,ssrc:e.stat("ssrc"),timestamp:Date.parse(e.timestamp),trackId:"track-"+e.id,transportId:e.stat("transportId")}}function s(e,t){return{candidateType:u(e.stat("candidateType")),deleted:void 0,id:e.id,ip:e.stat("ipAddress"),isRemote:t,port:c(e,"portNumber"),priority:d(e,"priority"),protocol:e.stat("transport"),relayProtocol:void 0,timestamp:Date.parse(e.timestamp),transportId:void 0,type:t?"remote-candidate":"local-candidate",url:void 0}}function l(e){return isNaN(e)||""===e?void 0:parseInt(e,10)/1e3}function u(e){switch(e){case"peerreflexive":return"prflx";case"serverreflexive":return"srflx";default:return e}}function c(e,t){var n=e.stat(t);return f(e,t)?parseInt(n,10):void 0}function d(e,t){var n=e.stat(t);return f(e,t)?parseFloat(n):void 0}function p(e,t){var n=e.stat(t);return f(e,t)?"true"===n||!0===n:void 0}function f(e,t){var n=e.stat(t);return"undefined"!==typeof n&&""!==n}r&&(i.prototype=Object.create(r.prototype),i.prototype.constructor=i),["entries","forEach","get","has","keys","values"].forEach((function(e){i.prototype[e]=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=this._map)[e].apply(t,n)}})),i.fromArray=function(e){return new i(e.reduce((function(e,t){return e.set(t.id,t),e}),new Map))},i.fromRTCStatsResponse=function(e){var t,r=new Map,u=e.result().reduce((function(e,i){var u=i.id;switch(i.type){case"googCertificate":e.set(u,function(e){return{base64Certificate:e.stat("googDerBase64"),fingerprint:e.stat("googFingerprint"),fingerprintAlgorithm:e.stat("googFingerprintAlgorithm"),id:e.id,issuerCertificateId:e.stat("googIssuerId"),timestamp:Date.parse(e.timestamp),type:"certificate"}}(i));break;case"datachannel":e.set(u,function(e){return{bytesReceived:void 0,bytesSent:void 0,datachannelid:e.stat("datachannelid"),id:e.id,label:e.stat("label"),messagesReceived:void 0,messagesSent:void 0,protocol:e.stat("protocol"),state:e.stat("state"),timestamp:Date.parse(e.timestamp),transportId:e.stat("transportId"),type:"data-channel"}}(i));break;case"googCandidatePair":p(i,"googActiveConnection")&&(t=u),e.set(u,function(e){return{availableIncomingBitrate:void 0,availableOutgoingBitrate:void 0,bytesReceived:c(e,"bytesReceived"),bytesSent:c(e,"bytesSent"),consentRequestsSent:c(e,"consentRequestsSent"),currentRoundTripTime:l(e.stat("googRtt")),id:e.id,lastPacketReceivedTimestamp:void 0,lastPacketSentTimestamp:void 0,localCandidateId:e.stat("localCandidateId"),nominated:void 0,priority:void 0,readable:void 0,remoteCandidateId:e.stat("remoteCandidateId"),requestsReceived:c(e,"requestsReceived"),requestsSent:c(e,"requestsSent"),responsesReceived:c(e,"responsesReceived"),responsesSent:c(e,"responsesSent"),retransmissionsReceived:void 0,retransmissionsSent:void 0,state:void 0,timestamp:Date.parse(e.timestamp),totalRoundTripTime:void 0,transportId:e.stat("googChannelId"),type:"candidate-pair",writable:p(e,"googWritable")}}(i));break;case"localcandidate":e.set(u,s(i,!1));break;case"remotecandidate":e.set(u,s(i,!0));break;case"ssrc":f(i,"packetsReceived")?e.set("rtp-"+u,function(e){var t=a(e,!0);return Object.assign(t,{burstDiscardCount:void 0,burstDiscardRate:void 0,burstLossCount:void 0,burstLossRate:void 0,burstPacketsDiscarded:void 0,burstPacketsLost:void 0,bytesReceived:c(e,"bytesReceived"),fractionLost:void 0,framesDecoded:c(e,"framesDecoded"),gapDiscardRate:void 0,gapLossRate:void 0,jitter:l(e.stat("googJitterReceived")),packetsDiscarded:void 0,packetsLost:c(e,"packetsLost"),packetsReceived:c(e,"packetsReceived"),packetsRepaired:void 0,roundTripTime:l(e.stat("googRtt")),type:"inbound-rtp"}),t}(i)):e.set("rtp-"+u,function(e){var t=a(e,!1);return Object.assign(t,{bytesSent:c(e,"bytesSent"),framesEncoded:c(e,"framesEncoded"),packetsSent:c(e,"packetsSent"),remoteTimestamp:void 0,targetBitrate:void 0,type:"outbound-rtp"}),t}(i)),e.set("track-"+u,function(e){return{audioLevel:f(e,"audioOutputLevel")?c(e,"audioOutputLevel")/n:(c(e,"audioInputLevel")||0)/n,detached:void 0,echoReturnLoss:d(e,"googEchoCancellationReturnLoss"),echoReturnLossEnhancement:d(e,"googEchoCancellationReturnLossEnhancement"),ended:void 0,frameHeight:f(e,"googFrameHeightReceived")?c(e,"googFrameHeightReceived"):c(e,"googFrameHeightSent"),frameWidth:f(e,"googFrameWidthReceived")?c(e,"googFrameWidthReceived"):c(e,"googFrameWidthSent"),framesCorrupted:void 0,framesDecoded:c(e,"framesDecoded"),framesDropped:void 0,framesPerSecond:void 0,framesReceived:void 0,framesSent:c(e,"framesEncoded"),fullFramesLost:void 0,id:e.id,kind:e.stat("mediaType"),partialFramesLost:void 0,remoteSource:void 0,ssrcIds:void 0,timestamp:Date.parse(e.timestamp),trackIdentifier:e.stat("googTrackId"),type:"track"}}(i)),e.set("codec-"+u,function(e){return{channels:void 0,clockRate:void 0,id:e.id,implementation:void 0,mimeType:e.stat("mediaType")+"/"+e.stat("googCodecName"),payloadType:void 0,sdpFmtpLine:void 0,timestamp:Date.parse(e.timestamp),type:"codec"}}(i));break;case"googComponent":var h=o(i);r.set(h.selectedCandidatePairId,u),e.set(u,o(i))}return e}),new Map);if(t){var h=r.get(t);h&&(u.get(h).dtlsState="connected")}return new i(u)},t.default=i},4632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNonNegativeNumber=t.calculate=void 0;var n=94.768;function r(e,t,r){if("number"!==typeof e||"number"!==typeof t||"number"!==typeof r||!i(e)||!i(t)||!i(r))return null;var o=e+2*t+10,a=0;switch(!0){case o<160:a=n-o/40;break;case o<1e3:a=n-(o-120)/10}if(!0===r<=a/2.5)a=Math.max(a-2.5*r,6.52);else a=0;return 1+.035*a+7e-6*a*(a-60)*(100-a)}function i(e){return"number"===typeof e&&!isNaN(e)&&isFinite(e)&&e>=0}t.calculate=r,t.isNonNegativeNumber=i,t.default={calculate:r,isNonNegativeNumber:i}},93:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7493),i=n(8391),o=n(7401),a=n(6703),s=n(1800);function l(e,t,n){if(!e||!t)throw new r.InvalidArgumentError("Audiohelper, and pstream are required arguments");if(!(this instanceof l))return new l(e,t,n);function a(){this._log.warn("Unexpected noop call in peerconnection")}this._log=new i.default("PeerConnection"),this.onaudio=a,this.onopen=a,this.onerror=a,this.onclose=a,this.ondisconnected=a,this.onfailed=a,this.onconnected=a,this.onreconnected=a,this.onsignalingstatechange=a,this.ondtlstransportstatechange=a,this.onicegatheringfailure=a,this.onicegatheringstatechange=a,this.oniceconnectionstatechange=a,this.onpcconnectionstatechange=a,this.onicecandidate=a,this.onselectedcandidatepairchange=a,this.onvolume=a,this.version=null,this.pstream=t,this.stream=null,this.sinkIds=new Set(["default"]),this.outputs=new Map,this.status="connecting",this.callSid=null,this.isMuted=!1;var s="undefined"!==typeof window&&(window.AudioContext||window.webkitAudioContext);return this._isSinkSupported=!!s&&"undefined"!==typeof HTMLAudioElement&&HTMLAudioElement.prototype.setSinkId,this._audioContext=s&&e._audioContext,this._audioHelper=e,this._hasIceCandidates=!1,this._hasIceGatheringFailures=!1,this._iceGatheringTimeoutId=null,this._masterAudio=null,this._masterAudioDeviceId=null,this._mediaStreamSource=null,this._dtmfSender=null,this._dtmfSenderUnsupported=!1,this._callEvents=[],this._nextTimeToPublish=Date.now(),this._onAnswerOrRinging=a,this._onHangup=a,this._remoteStream=null,this._shouldManageStream=!0,this._iceState="new",this._isUnifiedPlan=n.isUnifiedPlan,this.options=n=n||{},this.navigator=n.navigator||("undefined"!==typeof navigator?navigator:null),this.util=n.util||o,this.codecPreferences=n.codecPreferences,this}function u(e,t){"function"===typeof e.addTrack?t.getAudioTracks().forEach((function(n){e.addTrack(n,t)})):e.addStream(t)}function c(e){var t="undefined"!==typeof MediaStream?new MediaStream:new webkitMediaStream;return e.getAudioTracks().forEach(t.addTrack,t),t}function d(e,t){if("undefined"!==typeof e.srcObject)e.srcObject=t;else if("undefined"!==typeof e.mozSrcObject)e.mozSrcObject=t;else{if("undefined"===typeof e.src)return!1;var n=e.options.window||window;e.src=(n.URL||n.webkitURL).createObjectURL(t)}return!0}l.prototype.uri=function(){return this._uri},l.prototype.openDefaultDeviceWithConstraints=function(e){return this._audioHelper._openDefaultDeviceWithConstraints(e).then(this._setInputTracksFromStream.bind(this,!1))},l.prototype.setInputTracksFromStream=function(e){var t=this;return this._setInputTracksFromStream(!0,e).then((function(){t._shouldManageStream=!1}))},l.prototype._createAnalyser=function(e,t){t=Object.assign({fftSize:32,smoothingTimeConstant:.3},t);var n=e.createAnalyser();for(var r in t)n[r]=t[r];return n},l.prototype._setVolumeHandler=function(e){this.onvolume=e},l.prototype._startPollingVolume=function(){if(this._audioContext&&this.stream&&this._remoteStream){var e=this._audioContext,t=(this._inputAnalyser=this._createAnalyser(e)).frequencyBinCount,n=new Uint8Array(t);this._inputAnalyser2=this._createAnalyser(e,{maxDecibels:0,minDecibels:-127,smoothingTimeConstant:0});var r=(this._outputAnalyser=this._createAnalyser(e)).frequencyBinCount,i=new Uint8Array(r);this._outputAnalyser2=this._createAnalyser(e,{maxDecibels:0,minDecibels:-127,smoothingTimeConstant:0}),this._updateInputStreamSource(this.stream),this._updateOutputStreamSource(this._remoteStream);var o=this;setTimeout((function e(){if(o._audioContext){if("closed"===o.status)return o._inputAnalyser.disconnect(),o._outputAnalyser.disconnect(),o._inputAnalyser2.disconnect(),void o._outputAnalyser2.disconnect();o._inputAnalyser.getByteFrequencyData(n);var t=o.util.average(n);o._inputAnalyser2.getByteFrequencyData(n);var r=o.util.average(n);o._outputAnalyser.getByteFrequencyData(i);var a=o.util.average(i);o._outputAnalyser2.getByteFrequencyData(i);var s=o.util.average(i);o.onvolume(t/255,a/255,r,s),setTimeout(e,50)}}),50)}},l.prototype._stopStream=function(){this._shouldManageStream&&this._audioHelper._stopDefaultInputDeviceStream()},l.prototype._updateInputStreamSource=function(e){this._inputStreamSource&&this._inputStreamSource.disconnect();try{this._inputStreamSource=this._audioContext.createMediaStreamSource(e),this._inputStreamSource.connect(this._inputAnalyser),this._inputStreamSource.connect(this._inputAnalyser2)}catch(t){this._log.warn("Unable to update input MediaStreamSource",t),this._inputStreamSource=null}},l.prototype._updateOutputStreamSource=function(e){this._outputStreamSource&&this._outputStreamSource.disconnect();try{this._outputStreamSource=this._audioContext.createMediaStreamSource(e),this._outputStreamSource.connect(this._outputAnalyser),this._outputStreamSource.connect(this._outputAnalyser2)}catch(t){this._log.warn("Unable to update output MediaStreamSource",t),this._outputStreamSource=null}},l.prototype._setInputTracksFromStream=function(e,t){return this._isUnifiedPlan?this._setInputTracksForUnifiedPlan(e,t):this._setInputTracksForPlanB(e,t)},l.prototype._setInputTracksForPlanB=function(e,t){var n=this;if(!t)return Promise.reject(new r.InvalidArgumentError("Can not set input stream to null while in a call"));if(!t.getAudioTracks().length)return Promise.reject(new r.InvalidArgumentError("Supplied input stream has no audio tracks"));var i,o,a=this.stream;return a?(this._stopStream(),i=this.version.pc,o=a,"function"===typeof i.removeTrack?i.getSenders().forEach((function(e){i.removeTrack(e)})):i.removeStream(o),a.getAudioTracks().forEach(a.removeTrack,a),t.getAudioTracks().forEach(a.addTrack,a),u(this.version.pc,t),this._updateInputStreamSource(this.stream)):this.stream=e?c(t):t,this.mute(this.isMuted),this.version?new Promise((function(e,t){n.version.createOffer(n.options.maxAverageBitrate,n.codecPreferences,{audio:!0},(function(){n.version.processAnswer(n.codecPreferences,n._answerSdp,(function(){e(n.stream)}),t)}),t)})):Promise.resolve(this.stream)},l.prototype._setInputTracksForUnifiedPlan=function(e,t){var n=this;if(!t)return Promise.reject(new r.InvalidArgumentError("Can not set input stream to null while in a call"));if(!t.getAudioTracks().length)return Promise.reject(new r.InvalidArgumentError("Supplied input stream has no audio tracks"));var i=this.stream,o=function(){return n.mute(n.isMuted),Promise.resolve(n.stream)};return i?(this._shouldManageStream&&this._stopStream(),this._sender||(this._sender=this.version.pc.getSenders()[0]),this._sender.replaceTrack(t.getAudioTracks()[0]).then((function(){return n._updateInputStreamSource(t),n.stream=e?c(t):t,o()}))):(this.stream=e?c(t):t,o())},l.prototype._onInputDevicesChanged=function(){this.stream&&(this.stream.getAudioTracks().every((function(e){return"ended"===e.readyState}))&&this._shouldManageStream&&this.openDefaultDeviceWithConstraints({audio:!0}))},l.prototype._onIceGatheringFailure=function(e){this._hasIceGatheringFailures=!0,this.onicegatheringfailure(e)},l.prototype._onMediaConnectionStateChange=function(e){var t,n=this._iceState;if(n!==e&&("connected"===e||"disconnected"===e||"failed"===e))switch(this._iceState=e,e){case"connected":"disconnected"===n||"failed"===n?(t="ICE liveliness check succeeded. Connection with Twilio restored",this._log.info(t),this.onreconnected(t)):(t="Media connection established.",this._log.info(t),this.onconnected(t)),this._stopIceGatheringTimeout(),this._hasIceGatheringFailures=!1;break;case"disconnected":t="ICE liveliness check failed. May be having trouble connecting to Twilio",this._log.warn(t),this.ondisconnected(t);break;case"failed":t="Connection with Twilio was interrupted.",this._log.warn(t),this.onfailed(t)}},l.prototype._setSinkIds=function(e){return this._isSinkSupported?(this.sinkIds=new Set(e.forEach?e:[e]),this.version?this._updateAudioOutputs():Promise.resolve()):Promise.reject(new r.NotSupportedError("Audio output selection is not supported by this browser"))},l.prototype._startIceGatheringTimeout=function(){var e=this;this._stopIceGatheringTimeout(),this._iceGatheringTimeoutId=setTimeout((function(){e._onIceGatheringFailure("timeout")}),15e3)},l.prototype._stopIceGatheringTimeout=function(){clearInterval(this._iceGatheringTimeoutId)},l.prototype._updateAudioOutputs=function(){var e=Array.from(this.sinkIds).filter((function(e){return!this.outputs.has(e)}),this),t=Array.from(this.outputs.keys()).filter((function(e){return!this.sinkIds.has(e)}),this),n=this,r=e.map(this._createAudioOutput,this);return Promise.all(r).then((function(){return Promise.all(t.map(n._removeAudioOutput,n))}))},l.prototype._createAudio=function(e){var t=new Audio(e);return this.onaudio(t),t},l.prototype._createAudioOutput=function(e){var t=null;this._mediaStreamSource&&(t=this._audioContext.createMediaStreamDestination(),this._mediaStreamSource.connect(t));var n=this._createAudio();d(n,t&&t.stream?t.stream:this.pcStream);var r=this;return n.setSinkId(e).then((function(){return n.play()})).then((function(){r.outputs.set(e,{audio:n,dest:t})}))},l.prototype._removeAudioOutputs=function(){return this._masterAudio&&"undefined"!==typeof this._masterAudioDeviceId&&(this._disableOutput(this,this._masterAudioDeviceId),this.outputs.delete(this._masterAudioDeviceId),this._masterAudioDeviceId=null,this._masterAudio.paused||this._masterAudio.pause(),"undefined"!==typeof this._masterAudio.srcObject?this._masterAudio.srcObject=null:this._masterAudio.src="",this._masterAudio=null),Array.from(this.outputs.keys()).map(this._removeAudioOutput,this)},l.prototype._disableOutput=function(e,t){var n=e.outputs.get(t);n&&(n.audio&&(n.audio.pause(),n.audio.src=""),n.dest&&n.dest.disconnect())},l.prototype._reassignMasterOutput=function(e,t){var n=e.outputs.get(t);e.outputs.delete(t);var r=this,i=Array.from(e.outputs.keys())[0],o="string"===typeof i?i:"default";return n.audio.setSinkId(o).then((function(){r._disableOutput(e,o),e.outputs.set(o,n),e._masterAudioDeviceId=o})).catch((function(){e.outputs.set(t,n),r._log.info("Could not reassign master output. Attempted to roll back.")}))},l.prototype._removeAudioOutput=function(e){return this._masterAudioDeviceId===e?this._reassignMasterOutput(this,e):(this._disableOutput(this,e),this.outputs.delete(e),Promise.resolve())},l.prototype._onAddTrack=function(e,t){var n=e._masterAudio=this._createAudio();d(n,t),n.play();var r=Array.from(e.outputs.keys())[0],i="string"===typeof r?r:"default";e._masterAudioDeviceId=i,e.outputs.set(i,{audio:n});try{e._mediaStreamSource=e._audioContext.createMediaStreamSource(t)}catch(o){this._log.warn("Unable to create a MediaStreamSource from onAddTrack",o),this._mediaStreamSource=null}e.pcStream=t,e._updateAudioOutputs()},l.prototype._fallbackOnAddTrack=function(e,t){var n=document&&document.createElement("audio");n.autoplay=!0,d(n,t)||e._log.info("Error attaching stream to element."),e.outputs.set("default",{audio:n})},l.prototype._setEncodingParameters=function(e){if(e&&this._sender&&"function"===typeof this._sender.getParameters&&"function"===typeof this._sender.setParameters){var t=this._sender.getParameters();(t.priority||t.encodings&&t.encodings.length)&&(t.priority="high",t.encodings&&t.encodings.length&&t.encodings.forEach((function(e){e.priority="high",e.networkPriority="high"})),this._sender.setParameters(t))}},l.prototype._setupPeerConnection=function(e){var t=this,n=this,r=new(this.options.rtcpcFactory||a.default)({RTCPeerConnection:this.options.RTCPeerConnection});r.create(e),u(r.pc,this.stream);var i="ontrack"in r.pc?"ontrack":"onaddstream";return r.pc[i]=function(e){var i=n._remoteStream=e.stream||e.streams[0];"function"===typeof r.pc.getSenders&&(t._sender=r.pc.getSenders()[0]),n._isSinkSupported?n._onAddTrack(n,i):n._fallbackOnAddTrack(n,i),n._startPollingVolume()},r},l.prototype._maybeSetIceAggressiveNomination=function(e){return this.options.forceAggressiveIceNomination?s.setIceAggressiveNomination(e):e},l.prototype._setupChannel=function(){var e=this,t=this.version.pc;this.version.pc.onopen=function(){e.status="open",e.onopen()},this.version.pc.onstatechange=function(){e.version.pc&&"stable"===e.version.pc.readyState&&(e.status="open",e.onopen())},this.version.pc.onsignalingstatechange=function(){var n=t.signalingState;e._log.info('signalingState is "'+n+'"'),e.version.pc&&"stable"===e.version.pc.signalingState&&(e.status="open",e.onopen()),e.onsignalingstatechange(t.signalingState)},t.onconnectionstatechange=function(n){var r=t.connectionState;if(!r&&n&&n.target){var i=n.target;r=i.connectionState||i.connectionState_,e._log.info("pc.connectionState not detected. Using target PC. State="+r)}r?e._log.info('pc.connectionState is "'+r+'"'):e._log.warn('onconnectionstatechange detected but state is "'+r+'"'),e.onpcconnectionstatechange(r),e._onMediaConnectionStateChange(r)},t.onicecandidate=function(t){var n=t.candidate;n&&(e._hasIceCandidates=!0,e.onicecandidate(n),e._setupRTCIceTransportListener()),e._log.info("ICE Candidate: "+JSON.stringify(n))},t.onicegatheringstatechange=function(){var n=t.iceGatheringState;"gathering"===n?e._startIceGatheringTimeout():"complete"===n&&(e._stopIceGatheringTimeout(),e._hasIceCandidates||e._onIceGatheringFailure("none"),e._hasIceCandidates&&e._hasIceGatheringFailures&&e._startIceGatheringTimeout()),e._log.info('pc.iceGatheringState is "'+t.iceGatheringState+'"'),e.onicegatheringstatechange(n)},t.oniceconnectionstatechange=function(){e._log.info('pc.iceConnectionState is "'+t.iceConnectionState+'"'),e.oniceconnectionstatechange(t.iceConnectionState),e._onMediaConnectionStateChange(t.iceConnectionState)}},l.prototype._initializeMediaStream=function(e){return"open"!==this.status&&("disconnected"===this.pstream.status?(this.onerror({info:{code:31e3,message:"Cannot establish connection. Client is disconnected",twilioError:new r.SignalingErrors.ConnectionDisconnected}}),this.close(),!1):(this.version=this._setupPeerConnection(e),this._setupChannel(),!0))},l.prototype._removeReconnectionListeners=function(){this.pstream&&(this.pstream.removeListener("answer",this._onAnswerOrRinging),this.pstream.removeListener("hangup",this._onHangup))},l.prototype._setupRTCDtlsTransportListener=function(){var e=this,t=this.getRTCDtlsTransport();if(t&&!t.onstatechange){var n=function(){e._log.info('dtlsTransportState is "'+t.state+'"'),e.ondtlstransportstatechange(t.state)};n(),t.onstatechange=n}},l.prototype._setupRTCIceTransportListener=function(){var e=this,t=this._getRTCIceTransport();t&&!t.onselectedcandidatepairchange&&(t.onselectedcandidatepairchange=function(){return e.onselectedcandidatepairchange(t.getSelectedCandidatePair())})},l.prototype.iceRestart=function(){var e=this;this._log.info("Attempting to restart ICE..."),this._hasIceCandidates=!1,this.version.createOffer(this.options.maxAverageBitrate,this.codecPreferences,{iceRestart:!0}).then((function(){e._removeReconnectionListeners(),e._onAnswerOrRinging=function(t){if(e._removeReconnectionListeners(),t.sdp&&"have-local-offer"===e.version.pc.signalingState){var n=e._maybeSetIceAggressiveNomination(t.sdp);e._answerSdp=n,"closed"!==e.status&&e.version.processAnswer(e.codecPreferences,n,null,(function(t){var n=t&&t.message?t.message:t;e._log.error("Failed to process answer during ICE Restart. Error: "+n)}))}else{var r="Invalid state or param during ICE Restart:hasSdp:"+!!t.sdp+", signalingState:"+e.version.pc.signalingState;e._log.warn(r)}},e._onHangup=function(){e._log.info("Received hangup during ICE Restart"),e._removeReconnectionListeners()},e.pstream.on("answer",e._onAnswerOrRinging),e.pstream.on("hangup",e._onHangup),e.pstream.reinvite(e.version.getSDP(),e.callSid)})).catch((function(t){var n=t&&t.message?t.message:t;e._log.error("Failed to createOffer during ICE Restart. Error: "+n),e.onfailed(n)}))},l.prototype.makeOutgoingCall=function(e,t,n,i,o){var a=this;if(this._initializeMediaStream(i)){var s=this;this.callSid=n,this._onAnswerOrRinging=function(e){if(e.sdp){var t=a._maybeSetIceAggressiveNomination(e.sdp);s._answerSdp=t,"closed"!==s.status&&s.version.processAnswer(a.codecPreferences,t,l,u),s.pstream.removeListener("answer",s._onAnswerOrRinging),s.pstream.removeListener("ringing",s._onAnswerOrRinging)}},this.pstream.on("answer",this._onAnswerOrRinging),this.pstream.on("ringing",this._onAnswerOrRinging),this.version.createOffer(this.options.maxAverageBitrate,this.codecPreferences,{audio:!0},(function(){"closed"!==s.status&&(t?s.pstream.reconnect(s.version.getSDP(),s.callSid,t):s.pstream.invite(s.version.getSDP(),s.callSid,e),s._setupRTCDtlsTransportListener())}),(function(e){var t=e.message||e;s.onerror({info:{code:31e3,message:"Error creating the offer: "+t,twilioError:new r.MediaErrors.ClientLocalDescFailed}})}))}function l(){s.options&&s._setEncodingParameters(s.options.dscp),o(s.version.pc)}function u(e){var t=e.message||e;s.onerror({info:{code:31e3,message:"Error processing answer: "+t,twilioError:new r.MediaErrors.ClientRemoteDescFailed}})}},l.prototype.answerIncomingCall=function(e,t,n,i){if(this._initializeMediaStream(n)){t=this._maybeSetIceAggressiveNomination(t),this._answerSdp=t.replace(/^a=setup:actpass$/gm,"a=setup:passive"),this.callSid=e;var o=this;this.version.processSDP(this.options.maxAverageBitrate,this.codecPreferences,t,{audio:!0},(function(){"closed"!==o.status&&(o.pstream.answer(o.version.getSDP(),e),o.options&&o._setEncodingParameters(o.options.dscp),i(o.version.pc),o._setupRTCDtlsTransportListener())}),(function(e){var t=e.message||e;o.onerror({info:{code:31e3,message:"Error creating the answer: "+t,twilioError:new r.MediaErrors.ClientRemoteDescFailed}})}))}},l.prototype.close=function(){this.version&&this.version.pc&&("closed"!==this.version.pc.signalingState&&this.version.pc.close(),this.version.pc=null),this.stream&&(this.mute(!1),this._stopStream()),this.stream=null,this._removeReconnectionListeners(),this._stopIceGatheringTimeout(),Promise.all(this._removeAudioOutputs()).catch((function(){})),this._mediaStreamSource&&this._mediaStreamSource.disconnect(),this._inputAnalyser&&this._inputAnalyser.disconnect(),this._outputAnalyser&&this._outputAnalyser.disconnect(),this._inputAnalyser2&&this._inputAnalyser2.disconnect(),this._outputAnalyser2&&this._outputAnalyser2.disconnect(),this.status="closed",this.onclose()},l.prototype.reject=function(e){this.callSid=e},l.prototype.ignore=function(e){this.callSid=e},l.prototype.mute=function(e){(this.isMuted=e,this.stream)&&(this._sender&&this._sender.track?this._sender.track.enabled=!e:("function"===typeof this.stream.getAudioTracks?this.stream.getAudioTracks():this.stream.audioTracks).forEach((function(t){t.enabled=!e})))},l.prototype.getOrCreateDTMFSender=function(){if(this._dtmfSender||this._dtmfSenderUnsupported)return this._dtmfSender||null;var e=this,t=this.version.pc;if(!t)return this._log.warn("No RTCPeerConnection available to call createDTMFSender on"),null;if("function"===typeof t.getSenders&&("function"===typeof RTCDTMFSender||"function"===typeof RTCDtmfSender)){var n=t.getSenders().find((function(e){return e.dtmf}));if(n)return this._log.info("Using RTCRtpSender#dtmf"),this._dtmfSender=n.dtmf,this._dtmfSender}if("function"===typeof t.createDTMFSender&&"function"===typeof t.getLocalStreams){var r=t.getLocalStreams().map((function(t){var n=e._getAudioTracks(t);return n&&n[0]}))[0];return r?(this._log.info("Creating RTCDTMFSender"),this._dtmfSender=t.createDTMFSender(r),this._dtmfSender):(this._log.warn("No local audio MediaStreamTrack available on the RTCPeerConnection to pass to createDTMFSender"),null)}return this._log.info("RTCPeerConnection does not support RTCDTMFSender"),this._dtmfSenderUnsupported=!0,null},l.prototype.getRTCDtlsTransport=function(){var e=this.version&&this.version.pc&&"function"===typeof this.version.pc.getSenders&&this.version.pc.getSenders()[0];return e&&e.transport||null},l.prototype._canStopMediaStreamTrack=function(){return"function"===typeof MediaStreamTrack.prototype.stop},l.prototype._getAudioTracks=function(e){return"function"===typeof e.getAudioTracks?e.getAudioTracks():e.audioTracks},l.prototype._getRTCIceTransport=function(){var e=this.getRTCDtlsTransport();return e&&e.iceTransport||null},l.protocol=a.default.test()?new a.default:null,l.enabled=a.default.test(),t.default=l},6703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8391),i=n(7401),o=n(1800),a=n(6640);function s(e){"undefined"!==typeof window?e&&e.RTCPeerConnection?this.RTCPeerConnection=e.RTCPeerConnection:i.isLegacyEdge()?this.RTCPeerConnection=new a("undefined"!==typeof window?window:n.g):"function"===typeof window.RTCPeerConnection?this.RTCPeerConnection=window.RTCPeerConnection:"function"===typeof window.webkitRTCPeerConnection?this.RTCPeerConnection=webkitRTCPeerConnection:"function"===typeof window.mozRTCPeerConnection?(this.RTCPeerConnection=mozRTCPeerConnection,window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate):this.log.info("No RTCPeerConnection implementation available"):this.log.info("No RTCPeerConnection implementation available. The window object was not found.")}function l(e,t,n,r){return function(){var i=Array.prototype.slice.call(arguments);return new Promise((function(n){var o=e.apply(t,i);if(r){if("object"!==typeof o||"function"!==typeof o.then)throw new Error;n(o)}else n(o)})).catch((function(){return new Promise((function(r,o){e.apply(t,n?[r,o].concat(i):i.concat([r,o]))}))}))}}function u(e,t){return l(e,t,!0,!0)}function c(e,t){return l(e,t,!1,!1)}s.prototype.create=function(e){this.log=new r.default("RTCPC"),this.pc=new this.RTCPeerConnection(e)},s.prototype.createModernConstraints=function(e){if("undefined"===typeof e)return null;var t=Object.assign({},e);return"undefined"===typeof webkitRTCPeerConnection||i.isLegacyEdge()?("undefined"!==typeof e.audio&&(t.offerToReceiveAudio=e.audio),"undefined"!==typeof e.video&&(t.offerToReceiveVideo=e.video)):(t.mandatory={},"undefined"!==typeof e.audio&&(t.mandatory.OfferToReceiveAudio=e.audio),"undefined"!==typeof e.video&&(t.mandatory.OfferToReceiveVideo=e.video)),delete t.audio,delete t.video,t},s.prototype.createOffer=function(e,t,n,r,i){var a=this;return n=this.createModernConstraints(n),u(this.pc.createOffer,this.pc)(n).then((function(n){if(!a.pc)return Promise.resolve();var r=o.setMaxAverageBitrate(n.sdp,e);return c(a.pc.setLocalDescription,a.pc)(new RTCSessionDescription({sdp:o.setCodecPreferences(r,t),type:"offer"}))})).then(r,i)},s.prototype.createAnswer=function(e,t,n,r,i){var a=this;return n=this.createModernConstraints(n),u(this.pc.createAnswer,this.pc)(n).then((function(n){if(!a.pc)return Promise.resolve();var r=o.setMaxAverageBitrate(n.sdp,e);return c(a.pc.setLocalDescription,a.pc)(new RTCSessionDescription({sdp:o.setCodecPreferences(r,t),type:"answer"}))})).then(r,i)},s.prototype.processSDP=function(e,t,n,r,i,a){var s=this;n=o.setCodecPreferences(n,t);var l=new RTCSessionDescription({sdp:n,type:"offer"});return c(this.pc.setRemoteDescription,this.pc)(l).then((function(){s.createAnswer(e,t,r,i,a)}))},s.prototype.getSDP=function(){return this.pc.localDescription.sdp},s.prototype.processAnswer=function(e,t,n,r){return this.pc?(t=o.setCodecPreferences(t,e),c(this.pc.setRemoteDescription,this.pc)(new RTCSessionDescription({sdp:t,type:"answer"})).then(n,r)):Promise.resolve()},s.test=function(){if("object"===typeof navigator){var e=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;if(i.isLegacyEdge(navigator))return!1;if(e&&"function"===typeof window.RTCPeerConnection)return!0;if(e&&"function"===typeof window.webkitRTCPeerConnection)return!0;if(e&&"function"===typeof window.mozRTCPeerConnection){try{if("function"!==typeof(new window.mozRTCPeerConnection).getLocalStreams)return!1}catch(t){return!1}return!0}if("undefined"!==typeof RTCIceGatherer)return!0}return!1},t.default=s},1800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMaxAverageBitrate=t.setIceAggressiveNomination=t.setCodecPreferences=t.getPreferredCodecInfo=void 0;var r=n(7401),i={0:"PCMU",8:"PCMA"};t.getPreferredCodecInfo=function(e){var t=/a=rtpmap:(\d+) (\S+)/m.exec(e)||[null,"",""],n=t[1];return{codecName:t[2],codecParams:(new RegExp("a=fmtp:"+n+" (\\S+)","m").exec(e)||[null,""])[1]}},t.setIceAggressiveNomination=function(e){return r.isChrome(window,window.navigator)?e.split("\n").filter((function(e){return-1===e.indexOf("a=ice-lite")})).join("\n"):e},t.setMaxAverageBitrate=function(e,t){if("number"!==typeof t||t<6e3||t>51e4)return e;var n=/a=rtpmap:(\d+) opus/m.exec(e),r=n&&n.length?n[1]:111,i=new RegExp("a=fmtp:"+r);return e.split("\n").map((function(e){return i.test(e)?e+";maxaveragebitrate="+t:e})).join("\n")},t.setCodecPreferences=function(e,t){var n=function(e,t,n){return e.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var r=new RegExp("m="+(t||".*"),"gm"),i=new RegExp("a="+(n||".*"),"gm");return r.test(e)&&i.test(e)}))}(e);return[e.split("\r\nm=")[0]].concat(n.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var n=e.match(/^m=(audio|video)/)[1],o=function(e){return Array.from((t=e,function(e){var t=e.split("\r\n")[0],n=t.match(/([0-9]+)/g);return n?n.slice(1).map((function(e){return parseInt(e,10)})):[]}(t).reduce((function(e,n){var r=new RegExp("a=rtpmap:"+n+" ([^/]+)"),o=t.match(r),a=o?o[1].toLowerCase():i[n]?i[n].toLowerCase():"";return e.set(n,a)}),new Map))).reduce((function(e,t){var n=t[0],r=t[1],i=e.get(r)||[];return e.set(r,i.concat(n))}),new Map);var t}(e),a=function(e,t){t=t.map((function(e){return e.toLowerCase()}));var n=r.flatMap(t,(function(t){return e.get(t)||[]})),i=r.difference(Array.from(e.keys()),t),o=r.flatMap(i,(function(t){return e.get(t)}));return n.concat(o)}(o,t),s=function(e,t){var n=t.split("\r\n"),r=n[0],i=n.slice(1);return r=r.replace(/([0-9]+\s?)+$/,e.join(" ")),[r].concat(i).join("\r\n")}(a,e),l=o.get("pcma")||[],u=o.get("pcmu")||[];return("audio"===n?new Set(l.concat(u)):new Set).has(a[0])?s.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):s}))).join("\r\n")}},6758:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.getRTCIceCandidateStatsReport=t.getRTCStats=void 0;var i=n(7493),o=n(7911),a="PeerConnection is null",s="WebRTC statistics are unsupported";function l(e,t){return"function"===typeof e.get?e.get(t):e.find((function(e){return e.id===t}))}function u(e){if(!e)return Promise.reject(new i.InvalidArgumentError(a));if("function"!==typeof e.getStats)return Promise.reject(new i.NotSupportedError(s));var t;try{t=e.getStats()}catch(n){t=new Promise((function(t){return e.getStats(t)})).then(o.default.fromRTCStatsResponse)}return t}function c(){}function d(e){var t,n=null,r=new c;Array.from(e.values()).forEach((function(i){if(!i.isRemote){var o=i.type.replace("-","");if(t=t||i.timestamp,i.remoteId){var a=l(e,i.remoteId);a&&a.roundTripTime&&(r.rtt=1e3*a.roundTripTime)}switch(o){case"inboundrtp":r.timestamp=r.timestamp||i.timestamp,r.jitter=1e3*i.jitter,r.packetsLost=i.packetsLost,r.packetsReceived=i.packetsReceived,r.bytesReceived=i.bytesReceived;break;case"outboundrtp":if(r.timestamp=i.timestamp,r.packetsSent=i.packetsSent,r.bytesSent=i.bytesSent,i.codecId){var s=l(e,i.codecId);r.codecName=s?s.mimeType&&s.mimeType.match(/(.*\/)?(.*)/)[2]:i.codecId}break;case"transport":n=i.id}}})),r.timestamp||(r.timestamp=t);var i=l(e,n);if(!i)return r;var o=l(e,i.selectedCandidatePairId);if(!o)return r;var a=l(e,o.localCandidateId),s=l(e,o.remoteCandidateId);return r.rtt||(r.rtt=o&&1e3*o.currentRoundTripTime),Object.assign(r,{localAddress:a&&(a.address||a.ip),remoteAddress:s&&(s.address||s.ip)}),r}t.getRTCStats=function(e,t){return t=Object.assign({createRTCSample:d},t),u(e).then(t.createRTCSample)},t.getRTCIceCandidateStatsReport=function(e){return u(e).then((function(e){var t,n=Array.from(e.values()).reduce((function(e,t){switch(["candidatePairs","localCandidates","remoteCandidates"].forEach((function(t){e[t]||(e[t]=[])})),t.type){case"candidate-pair":e.candidatePairs.push(t);break;case"local-candidate":e.localCandidates.push(t);break;case"remote-candidate":e.remoteCandidates.push(t);break;case"transport":t.selectedCandidatePairId&&(e.transport=t)}return e}),{}),i=n.candidatePairs,o=n.localCandidates,a=n.remoteCandidates,s=n.transport,l=i.find((function(e){return e.selected||s&&e.id===s.selectedCandidatePairId}));return l&&(t={localCandidate:o.find((function(e){return e.id===l.localCandidateId})),remoteCandidate:a.find((function(e){return e.id===l.remoteCandidateId}))}),{iceCandidateStats:r(o,a),selectedIceCandidatePairStats:t}}))}},9678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){Object.defineProperties(this,{deviceId:{get:function(){return e.deviceId}},groupId:{get:function(){return e.groupId}},kind:{get:function(){return e.kind}},label:{get:function(){return e.label}}})};t.default=n},6858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5554),i=n(2034),o=n(7493);function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);if(!e||!t)throw new o.InvalidArgumentError("name and url are required arguments");(n=Object.assign({AudioFactory:"undefined"!==typeof Audio?Audio:null,maxDuration:0,shouldLoop:!1},n)).AudioPlayer=n.audioContext?i.default.bind(i.default,n.audioContext):n.AudioFactory,Object.defineProperties(this,{_Audio:{value:n.AudioPlayer},_activeEls:{value:new Map},_isSinkSupported:{value:null!==n.AudioFactory&&"function"===typeof n.AudioFactory.prototype.setSinkId},_maxDuration:{value:n.maxDuration},_maxDurationTimeout:{value:null,writable:!0},_operations:{value:new r.AsyncQueue},_playPromise:{value:null,writable:!0},_shouldLoop:{value:n.shouldLoop},_sinkIds:{value:["default"]},isPlaying:{enumerable:!0,get:function(){return!!this._playPromise}},name:{enumerable:!0,value:e},url:{enumerable:!0,value:t}}),this._Audio&&this._play(!0,!1)}function s(e){e&&(e.pause(),e.src="",e.srcObject=null,e.load())}a.prototype._playAudioElement=function(e,t,n){var r=this,i=this._activeEls.get(e);if(!i)throw new o.InvalidArgumentError('sinkId: "'+e+"\" doesn't have an audio element");return i.muted=!!t,i.loop=!!n,i.play().then((function(){return i})).catch((function(t){throw s(i),r._activeEls.delete(e),t}))},a.prototype._play=function(e,t){this.isPlaying&&this._stop(),this._maxDuration>0&&(this._maxDurationTimeout=setTimeout(this._stop.bind(this),this._maxDuration)),t="boolean"===typeof t?t:this._shouldLoop;var n=this;return this._playPromise=Promise.all(this._sinkIds.map((function(r){if(!n._Audio)return Promise.resolve();var i=n._activeEls.get(r);return i?n._playAudioElement(r,e,t):("function"===typeof(i=new n._Audio(n.url)).setAttribute&&i.setAttribute("crossorigin","anonymous"),new Promise((function(e){i.addEventListener("canplaythrough",e)})).then((function(){return(n._isSinkSupported?i.setSinkId(r):Promise.resolve()).then((function(){return n._activeEls.set(r,i),n._playPromise?n._playAudioElement(r,e,t):Promise.resolve()}))})))})))},a.prototype._stop=function(){var e=this;this._activeEls.forEach((function(t,n){e._sinkIds.includes(n)?(t.pause(),t.currentTime=0):(s(t),e._activeEls.delete(n))})),clearTimeout(this._maxDurationTimeout),this._playPromise=null,this._maxDurationTimeout=null},a.prototype.setSinkIds=function(e){this._isSinkSupported&&(e=e.forEach?e:[e],[].splice.apply(this._sinkIds,[0,this._sinkIds.length].concat(e)))},a.prototype.stop=function(){var e=this;this._operations.enqueue((function(){return e._stop(),Promise.resolve()}))},a.prototype.play=function(){var e=this;return this._operations.enqueue((function(){return e._play()}))},t.default=a},4574:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2428),s=n(7493),l=n(4632),u=n(6758),c=n(7401),d={audioInputLevel:{minStandardDeviation:327.67,sampleCount:10},audioOutputLevel:{minStandardDeviation:327.67,sampleCount:10},bytesReceived:{clearCount:2,min:1,raiseCount:3,sampleCount:3},bytesSent:{clearCount:2,min:1,raiseCount:3,sampleCount:3},jitter:{max:30},mos:{min:3},packetsLostFraction:[{max:1},{clearValue:1,maxAverage:3,sampleCount:7}],rtt:{max:400}};var p=function(e){function t(t){var n=e.call(this)||this;n._activeWarnings=new Map,n._currentStreaks=new Map,n._inputVolumes=[],n._outputVolumes=[],n._sampleBuffer=[],n._supplementalSampleBuffers={audioInputLevel:[],audioOutputLevel:[]},n._warningsEnabled=!0,t=t||{},n._getRTCStats=t.getRTCStats||u.getRTCStats,n._mos=t.Mos||l.default,n._peerConnection=t.peerConnection,n._thresholds=i(i({},d),t.thresholds);var r=Object.values(n._thresholds).map((function(e){return e.sampleCount})).filter((function(e){return!!e}));return n._maxSampleCount=Math.max.apply(Math,o([5],r)),n._peerConnection&&n.enable(n._peerConnection),n}return r(t,e),t.prototype.addVolumes=function(e,t){this._inputVolumes.push(e),this._outputVolumes.push(t)},t.prototype.disable=function(){return this._sampleInterval&&(clearInterval(this._sampleInterval),delete this._sampleInterval),this},t.prototype.disableWarnings=function(){return this._warningsEnabled&&this._activeWarnings.clear(),this._warningsEnabled=!1,this},t.prototype.enable=function(e){if(e){if(this._peerConnection&&e!==this._peerConnection)throw new s.InvalidArgumentError("Attempted to replace an existing PeerConnection in StatsMonitor.enable");this._peerConnection=e}if(!this._peerConnection)throw new s.InvalidArgumentError("Can not enable StatsMonitor without a PeerConnection");return this._sampleInterval=this._sampleInterval||setInterval(this._fetchSample.bind(this),1e3),this},t.prototype.enableWarnings=function(){return this._warningsEnabled=!0,this},t.prototype.hasActiveWarning=function(e,t){var n=e+":"+t;return!!this._activeWarnings.get(n)},t.prototype._addSample=function(e){var t=this._sampleBuffer;t.push(e),t.length>this._maxSampleCount&&t.splice(0,t.length-this._maxSampleCount)},t.prototype._clearWarning=function(e,t,n){var r=e+":"+t,o=this._activeWarnings.get(r);!o||Date.now()-o.timeRaised<5e3||(this._activeWarnings.delete(r),this.emit("warning-cleared",i(i({},n),{name:e,threshold:{name:t,value:this._thresholds[e][t]}})))},t.prototype._createSample=function(e,t){var n=t&&t.totals.bytesSent||0,r=t&&t.totals.bytesReceived||0,i=t&&t.totals.packetsSent||0,o=t&&t.totals.packetsReceived||0,a=t&&t.totals.packetsLost||0,s=e.bytesSent-n,l=e.bytesReceived-r,u=e.packetsSent-i,d=e.packetsReceived-o,p=e.packetsLost-a,f=d+p,h=f>0?p/f*100:0,m=e.packetsReceived+e.packetsLost,g=m>0?e.packetsLost/m*100:100,v="number"!==typeof e.rtt&&t?t.rtt:e.rtt,y=this._inputVolumes.splice(0);this._supplementalSampleBuffers.audioInputLevel.push(y);var _=this._outputVolumes.splice(0);return this._supplementalSampleBuffers.audioOutputLevel.push(_),{audioInputLevel:Math.round(c.average(y)),audioOutputLevel:Math.round(c.average(_)),bytesReceived:l,bytesSent:s,codecName:e.codecName,jitter:e.jitter,mos:this._mos.calculate(v,e.jitter,t&&h),packetsLost:p,packetsLostFraction:h,packetsReceived:d,packetsSent:u,rtt:v,timestamp:e.timestamp,totals:{bytesReceived:e.bytesReceived,bytesSent:e.bytesSent,packetsLost:e.packetsLost,packetsLostFraction:g,packetsReceived:e.packetsReceived,packetsSent:e.packetsSent}}},t.prototype._fetchSample=function(){var e=this;this._getSample().then((function(t){e._addSample(t),e._raiseWarnings(),e.emit("sample",t)})).catch((function(t){e.disable(),e.emit("error",t)}))},t.prototype._getSample=function(){var e=this;return this._getRTCStats(this._peerConnection).then((function(t){var n=null;return e._sampleBuffer.length&&(n=e._sampleBuffer[e._sampleBuffer.length-1]),e._createSample(t,n)}))},t.prototype._raiseWarning=function(e,t,n){var r=e+":"+t;if(!this._activeWarnings.has(r)){this._activeWarnings.set(r,{timeRaised:Date.now()});var o,a=this._thresholds[e];if(Array.isArray(a)){var s=a.find((function(e){return t in e}));s&&(o=s[t])}else o=this._thresholds[e][t];this.emit("warning",i(i({},n),{name:e,threshold:{name:t,value:o}}))}},t.prototype._raiseWarnings=function(){var e=this;this._warningsEnabled&&Object.keys(this._thresholds).forEach((function(t){return e._raiseWarningsForStat(t)}))},t.prototype._raiseWarningsForStat=function(e){var t=this;(Array.isArray(this._thresholds[e])?this._thresholds[e]:[this._thresholds[e]]).forEach((function(n){var r=t._sampleBuffer,i=n.clearCount||0,a=n.raiseCount||3,s=n.sampleCount||t._maxSampleCount,l=r.slice(-s),u=l.map((function(t){return t[e]}));if(!u.some((function(e){return"undefined"===typeof e||null===e}))){var d;if("number"===typeof n.max&&(d=function(e,t){return t.reduce((function(t,n){return t+(n>e?1:0)}),0)}(n.max,u),d>=a?t._raiseWarning(e,"max",{values:u,samples:l}):d<=i&&t._clearWarning(e,"max",{values:u,samples:l})),"number"===typeof n.min&&(d=function(e,t){return t.reduce((function(t,n){return t+(n<e?1:0)}),0)}(n.min,u),d>=a?t._raiseWarning(e,"min",{values:u,samples:l}):d<=i&&t._clearWarning(e,"min",{values:u,samples:l})),"number"===typeof n.maxDuration&&r.length>1){var p=(l=r.slice(-2))[0][e],f=l[1][e],h=t._currentStreaks.get(e)||0,m=p===f?h+1:0;t._currentStreaks.set(e,m),m>=n.maxDuration?t._raiseWarning(e,"maxDuration",{value:m}):0===m&&t._clearWarning(e,"maxDuration",{value:h})}if("number"===typeof n.minStandardDeviation){var g=t._supplementalSampleBuffers[e];if(!g||g.length<n.sampleCount)return;g.length>n.sampleCount&&g.splice(0,g.length-n.sampleCount);var v=function(e){if(e.length<=0)return null;var t=e.reduce((function(e,t){return e+t}),0)/e.length,n=e.map((function(e){return Math.pow(e-t,2)}));return Math.sqrt(n.reduce((function(e,t){return e+t}),0)/n.length)}(function(e){return e.reduce((function(e,t){return o(e,t)}),[])}(g.slice(-s)));if("number"!==typeof v)return;v<n.minStandardDeviation?t._raiseWarning(e,"minStandardDeviation",{value:v}):t._clearWarning(e,"minStandardDeviation",{value:v})}[["maxAverage",function(e,t){return e>t}],["minAverage",function(e,t){return e<t}]].forEach((function(r){var i=r[0],o=r[1];if("number"===typeof n[i]&&u.length>=s){var a=c.average(u);o(a,n[i])?t._raiseWarning(e,i,{values:u,samples:l}):o(a,n.clearValue||n[i])||t._clearWarning(e,i,{values:u,samples:l})}}))}}))},t}(a.EventEmitter);t.default=p},7401:(e,t,n)=>{"use strict";function r(e){if(!(this instanceof r))return new r(e);this.message=e}function i(e){return!!e.userAgent.match("Electron")}function o(e,t){var n=!!t.userAgent.match("CriOS"),r=!!t.userAgent.match("HeadlessChrome"),o="undefined"!==typeof e.chrome&&"Google Inc."===t.vendor&&-1===t.userAgent.indexOf("OPR")&&-1===t.userAgent.indexOf("Edge");return n||i(t)||o||r}function a(e){return!!(e=e||("undefined"===typeof window?n.g.navigator:window.navigator))&&"string"===typeof e.userAgent&&/firefox|fxios/i.test(e.userAgent)}function s(e){return!!e.vendor&&-1!==e.vendor.indexOf("Apple")&&e.userAgent&&-1===e.userAgent.indexOf("CriOS")&&-1===e.userAgent.indexOf("FxiOS")}Object.defineProperty(t,"__esModule",{value:!0}),t.promisifyEvents=t.flatMap=t.queryToJson=t.isUnifiedPlanDefault=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isChrome=t.isElectron=t.difference=t.average=t.Exception=void 0,r.prototype.toString=function(){return"Twilio.Exception: "+this.message},t.average=function(e){return e&&e.length?e.reduce((function(e,t){return e+t}))/e.length:0},t.difference=function(e,t,n){n=n||function(e){return e};var r=new Set(t.map(n));return e.filter((function(e){return!r.has(n(e))}))},t.isElectron=i,t.isChrome=o,t.isFirefox=a,t.isLegacyEdge=function(e){return!!(e=e||("undefined"===typeof window?n.g.navigator:window.navigator))&&"string"===typeof e.userAgent&&/edge\/\d+/i.test(e.userAgent)},t.isSafari=s,t.isUnifiedPlanDefault=function(e,t,n,r){if("undefined"===typeof e||"undefined"===typeof t||"undefined"===typeof n||"undefined"===typeof r||"undefined"===typeof n.prototype||"undefined"===typeof r.prototype)return!1;if(o(e,t)&&n.prototype.addTransceiver){var i=new n,l=!0;try{i.addTransceiver("audio")}catch(u){l=!1}return i.close(),l}return!!a(t)||!!s(t)&&"currentDirection"in r.prototype},t.queryToJson=function(e){return e?e.split("&").reduce((function(e,t){var n=t.split("="),r=n[0],i=decodeURIComponent((n[1]||"").replace(/\+/g,"%20"));return r&&(e[r]=i),e}),{}):""},t.flatMap=function(e,t){var n=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(e){return e},n.reduce((function(e,n){var r=t(n);return e.concat(r)}),[])},t.promisifyEvents=function(e,t,n){return new Promise((function(r,i){function o(){e.removeListener(n,a),r()}function a(){e.removeListener(t,o),i()}e.once(t,o),e.once(n,a)}))};var l=r;t.Exception=l},4390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateVoiceEventSid=void 0;var r=n(9388),i=n(7493),o="function"===typeof r?r:r.default;t.generateVoiceEventSid=function(){return"KX"+function(){if("object"!==typeof window)throw new i.NotSupportedError("This platform is not supported.");var e=window.crypto;if("object"!==typeof e)throw new i.NotSupportedError("The `crypto` module is not available on this platform.");if("undefined"===typeof(e.randomUUID||e.getRandomValues))throw new i.NotSupportedError("Neither `crypto.randomUUID` or `crypto.getRandomValues` are available on this platform.");if("undefined"===typeof window.Uint32Array)throw new i.NotSupportedError("The `Uint32Array` module is not available on this platform.");var t="function"===typeof e.randomUUID?function(){return e.randomUUID()}:function(){return e.getRandomValues(new Uint32Array(32)).toString()};return o(t())}()}},362:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.WSTransportState=void 0;var o,a=n(2428),s=n(3937),l=n(7493),u=n(8391),c=globalThis.WebSocket,d=1/0;!function(e){e.Connecting="connecting",e.Closed="closed",e.Open="open"}(o=t.WSTransportState||(t.WSTransportState={}));var p=function(e){function t(n,r){void 0===r&&(r={});var a=e.call(this)||this;return a.state=o.Closed,a._backoffStartTime={preferred:null,primary:null},a._connectedUri=null,a._log=new u.default("WSTransport"),a._shouldFallback=!1,a._uriIndex=0,a._moveUriIndex=function(){a._uriIndex++,a._uriIndex>=a._uris.length&&(a._uriIndex=0)},a._onSocketClose=function(e){if(a._log.error("Received websocket close event code: "+e.code+". Reason: "+e.reason),1006===e.code||1015===e.code){a.emit("error",{code:31005,message:e.reason||"Websocket connection to Twilio's signaling servers were unexpectedly ended. If this is happening consistently, there may be an issue resolving the hostname provided. If a region or an edge is being specified in Device setup, ensure it is valid.",twilioError:new l.SignalingErrors.ConnectionError});var t=a.state===o.Open||a._previousState===o.Open;!a._shouldFallback&&t||a._moveUriIndex(),a._shouldFallback=!0}a._closeSocket()},a._onSocketError=function(e){a._log.error("WebSocket received error: "+e.message),a.emit("error",{code:31e3,message:e.message||"WSTransport socket error",twilioError:new l.SignalingErrors.ConnectionDisconnected})},a._onSocketMessage=function(e){if(a._setHeartbeatTimeout(),a._socket&&"\n"===e.data)return a._socket.send("\n"),void a._log.debug("heartbeat");e&&"string"===typeof e.data&&a._log.debug("Received: "+e.data),a.emit("message",e)},a._onSocketOpen=function(){a._log.info("WebSocket opened successfully."),a._timeOpened=Date.now(),a._shouldFallback=!1,a._setState(o.Open),clearTimeout(a._connectTimeout),a._resetBackoffs(),a._setHeartbeatTimeout(),a.emit("open")},a._options=i(i({},t.defaultConstructorOptions),r),a._uris=n,a._backoff=a._setupBackoffs(),a}return r(t,e),t.prototype.close=function(){this._log.info("WSTransport.close() called..."),this._close()},t.prototype.open=function(){this._log.info("WSTransport.open() called..."),!this._socket||this._socket.readyState!==c.CONNECTING&&this._socket.readyState!==c.OPEN?this._preferredUri?this._connect(this._preferredUri):this._connect(this._uris[this._uriIndex]):this._log.info("WebSocket already open.")},t.prototype.send=function(e){if(this._log.debug("Sending: "+e),!this._socket||this._socket.readyState!==c.OPEN)return this._log.debug("Cannot send message. WebSocket is not open."),!1;try{this._socket.send(e)}catch(t){return this._log.error("Error while sending message:",t.message),this._closeSocket(),!1}return!0},t.prototype.updatePreferredURI=function(e){this._preferredUri=e},t.prototype.updateURIs=function(e){"string"===typeof e&&(e=[e]),this._uris=e,this._uriIndex=0},t.prototype._close=function(){this._setState(o.Closed),this._closeSocket()},t.prototype._closeSocket=function(){clearTimeout(this._connectTimeout),clearTimeout(this._heartbeatTimeout),this._log.info("Closing and cleaning up WebSocket..."),this._socket?(this._socket.removeEventListener("close",this._onSocketClose),this._socket.removeEventListener("error",this._onSocketError),this._socket.removeEventListener("message",this._onSocketMessage),this._socket.removeEventListener("open",this._onSocketOpen),this._socket.readyState!==c.CONNECTING&&this._socket.readyState!==c.OPEN||this._socket.close(),this._timeOpened&&Date.now()-this._timeOpened>1e4&&this._resetBackoffs(),this.state!==o.Closed&&this._performBackoff(),delete this._socket,this.emit("close")):this._log.info("No WebSocket to clean up.")},t.prototype._connect=function(e,t){var n=this;this._log.info("number"===typeof t?"Attempting to reconnect (retry #"+t+")...":"Attempting to connect..."),this._closeSocket(),this._setState(o.Connecting),this._connectedUri=e;try{this._socket=new this._options.WebSocket(this._connectedUri)}catch(r){return this._log.error("Could not connect to endpoint:",r.message),this._close(),void this.emit("error",{code:31e3,message:r.message||"Could not connect to "+this._connectedUri,twilioError:new l.SignalingErrors.ConnectionDisconnected})}this._socket.addEventListener("close",this._onSocketClose),this._socket.addEventListener("error",this._onSocketError),this._socket.addEventListener("message",this._onSocketMessage),this._socket.addEventListener("open",this._onSocketOpen),delete this._timeOpened,this._connectTimeout=setTimeout((function(){n._log.info("WebSocket connection attempt timed out."),n._moveUriIndex(),n._closeSocket()}),this._options.connectTimeoutMs)},t.prototype._performBackoff=function(){this._preferredUri?(this._log.info("Preferred URI set; backing off."),this._backoff.preferred.backoff()):(this._log.info("Preferred URI not set; backing off."),this._backoff.primary.backoff())},t.prototype._resetBackoffs=function(){this._backoff.preferred.reset(),this._backoff.primary.reset(),this._backoffStartTime.preferred=null,this._backoffStartTime.primary=null},t.prototype._setHeartbeatTimeout=function(){var e=this;clearTimeout(this._heartbeatTimeout),this._heartbeatTimeout=setTimeout((function(){e._log.info("No messages received in 15 seconds. Reconnecting..."),e._shouldFallback=!0,e._closeSocket()}),15e3)},t.prototype._setState=function(e){this._previousState=this.state,this.state=e},t.prototype._setupBackoffs=function(){var e=this,t={factor:2,jitter:.4,max:this._options.maxPreferredDelayMs,min:100};this._log.info("Initializing preferred transport backoff using config: ",t);var n=new s.default(t);n.on("backoff",(function(t,n){e.state!==o.Closed?(e._log.info("Will attempt to reconnect Websocket to preferred URI in "+n+"ms"),0===t&&(e._backoffStartTime.preferred=Date.now(),e._log.info("Preferred backoff start; "+e._backoffStartTime.preferred))):e._log.info("Preferred backoff initiated but transport state is closed; not attempting a connection.")})),n.on("ready",(function(t,n){if(e.state!==o.Closed){if(null!==e._backoffStartTime.preferred)return Date.now()-e._backoffStartTime.preferred>e._options.maxPreferredDurationMs?(e._log.info("Max preferred backoff attempt time exceeded; falling back to primary backoff."),e._preferredUri=null,void e._backoff.primary.backoff()):"string"!==typeof e._preferredUri?(e._log.info("Preferred URI cleared; falling back to primary backoff."),e._preferredUri=null,void e._backoff.primary.backoff()):void e._connect(e._preferredUri,t+1);e._log.info("Preferred backoff start time invalid; not attempting a connection.")}else e._log.info("Preferred backoff ready but transport state is closed; not attempting a connection.")}));var r={factor:2,jitter:.4,max:this._options.maxPrimaryDelayMs,min:this._uris&&this._uris.length>1?Math.floor(4001*Math.random())+1e3:100};this._log.info("Initializing primary transport backoff using config: ",r);var i=new s.default(r);return i.on("backoff",(function(t,n){e.state!==o.Closed?(e._log.info("Will attempt to reconnect WebSocket in "+n+"ms"),0===t&&(e._backoffStartTime.primary=Date.now(),e._log.info("Primary backoff start; "+e._backoffStartTime.primary))):e._log.info("Primary backoff initiated but transport state is closed; not attempting a connection.")})),i.on("ready",(function(t,n){e.state!==o.Closed?null!==e._backoffStartTime.primary?Date.now()-e._backoffStartTime.primary>e._options.maxPrimaryDurationMs?e._log.info("Max primary backoff attempt time exceeded; not attempting a connection."):e._connect(e._uris[e._uriIndex],t+1):e._log.info("Primary backoff start time invalid; not attempting a connection."):e._log.info("Primary backoff ready but transport state is closed; not attempting a connection.")})),{preferred:n,primary:i}},Object.defineProperty(t.prototype,"uri",{get:function(){return this._connectedUri},enumerable:!1,configurable:!0}),t.defaultConstructorOptions={WebSocket:c,connectTimeoutMs:5e3,maxPreferredDelayMs:1e3,maxPreferredDurationMs:15e3,maxPrimaryDelayMs:2e4,maxPrimaryDurationMs:d},t}(a.EventEmitter);t.default=p},5524:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},1040:e=>{!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},2428:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,a,u;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var u=l.length,c=h(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2508:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},8245:e=>{function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},9894:function(e,t,n){var r,i;!function(){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function s(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function u(e,t,n){return a(e)||l.apply(this,arguments)}function c(e,n,i){var o,a=this,l="loglevel";function c(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[l]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(i){}}}function d(){var e;if(typeof window!==t){try{e=window.localStorage[l]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===a.levels[e]&&(e=void 0),e}}e&&(l+=":"+e),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||u,a.getLevel=function(){return o},a.setLevel=function(n,r){if("string"===typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&c(n),s.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){d()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var p=d();null==p&&(p=null==n?"WARN":n),a.setLevel(p,!1)}var d=new c,p={};d.getLogger=function(e){if("string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new c(e,d.getLevel(),d.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return p},d},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},9388:(e,t,n)=>{!function(){var t=n(1040),r=n(5524).utf8,i=n(8245),o=n(5524).bin,a=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var s=t.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,d=-1732584194,p=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[l>>>5]|=128<<l%32,s[14+(l+64>>>9<<4)]=l;var h=a._ff,m=a._gg,g=a._hh,v=a._ii;for(f=0;f<s.length;f+=16){var y=u,_=c,b=d,S=p;u=h(u,c,d,p,s[f+0],7,-680876936),p=h(p,u,c,d,s[f+1],12,-389564586),d=h(d,p,u,c,s[f+2],17,606105819),c=h(c,d,p,u,s[f+3],22,-1044525330),u=h(u,c,d,p,s[f+4],7,-176418897),p=h(p,u,c,d,s[f+5],12,1200080426),d=h(d,p,u,c,s[f+6],17,-1473231341),c=h(c,d,p,u,s[f+7],22,-45705983),u=h(u,c,d,p,s[f+8],7,1770035416),p=h(p,u,c,d,s[f+9],12,-1958414417),d=h(d,p,u,c,s[f+10],17,-42063),c=h(c,d,p,u,s[f+11],22,-1990404162),u=h(u,c,d,p,s[f+12],7,1804603682),p=h(p,u,c,d,s[f+13],12,-40341101),d=h(d,p,u,c,s[f+14],17,-1502002290),u=m(u,c=h(c,d,p,u,s[f+15],22,1236535329),d,p,s[f+1],5,-165796510),p=m(p,u,c,d,s[f+6],9,-1069501632),d=m(d,p,u,c,s[f+11],14,643717713),c=m(c,d,p,u,s[f+0],20,-373897302),u=m(u,c,d,p,s[f+5],5,-701558691),p=m(p,u,c,d,s[f+10],9,38016083),d=m(d,p,u,c,s[f+15],14,-660478335),c=m(c,d,p,u,s[f+4],20,-405537848),u=m(u,c,d,p,s[f+9],5,568446438),p=m(p,u,c,d,s[f+14],9,-1019803690),d=m(d,p,u,c,s[f+3],14,-187363961),c=m(c,d,p,u,s[f+8],20,1163531501),u=m(u,c,d,p,s[f+13],5,-1444681467),p=m(p,u,c,d,s[f+2],9,-51403784),d=m(d,p,u,c,s[f+7],14,1735328473),u=g(u,c=m(c,d,p,u,s[f+12],20,-1926607734),d,p,s[f+5],4,-378558),p=g(p,u,c,d,s[f+8],11,-2022574463),d=g(d,p,u,c,s[f+11],16,1839030562),c=g(c,d,p,u,s[f+14],23,-35309556),u=g(u,c,d,p,s[f+1],4,-1530992060),p=g(p,u,c,d,s[f+4],11,1272893353),d=g(d,p,u,c,s[f+7],16,-155497632),c=g(c,d,p,u,s[f+10],23,-1094730640),u=g(u,c,d,p,s[f+13],4,681279174),p=g(p,u,c,d,s[f+0],11,-358537222),d=g(d,p,u,c,s[f+3],16,-722521979),c=g(c,d,p,u,s[f+6],23,76029189),u=g(u,c,d,p,s[f+9],4,-640364487),p=g(p,u,c,d,s[f+12],11,-421815835),d=g(d,p,u,c,s[f+15],16,530742520),u=v(u,c=g(c,d,p,u,s[f+2],23,-995338651),d,p,s[f+0],6,-198630844),p=v(p,u,c,d,s[f+7],10,1126891415),d=v(d,p,u,c,s[f+14],15,-1416354905),c=v(c,d,p,u,s[f+5],21,-57434055),u=v(u,c,d,p,s[f+12],6,1700485571),p=v(p,u,c,d,s[f+3],10,-1894986606),d=v(d,p,u,c,s[f+10],15,-1051523),c=v(c,d,p,u,s[f+1],21,-2054922799),u=v(u,c,d,p,s[f+8],6,1873313359),p=v(p,u,c,d,s[f+15],10,-30611744),d=v(d,p,u,c,s[f+6],15,-1560198380),c=v(c,d,p,u,s[f+13],21,1309151649),u=v(u,c,d,p,s[f+4],6,-145523070),p=v(p,u,c,d,s[f+11],10,-1120210379),d=v(d,p,u,c,s[f+2],15,718787259),c=v(c,d,p,u,s[f+9],21,-343485551),u=u+y>>>0,c=c+_>>>0,d=d+b>>>0,p=p+S>>>0}return t.endian([u,c,d,p])};a._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):t.bytesToHex(r)}}()},3521:(e,t,n)=>{"use strict";var r=n(2698);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},3837:(e,t,n)=>{e.exports=n(3521)()},2698:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},306:(e,t,n)=>{"use strict";var r=n(9643),i=n(1261);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case k:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Ce=null;function ke(e){if(e=_i(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),we(e.stateNode,e.type,t))}}function xe(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function Pe(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==Ee||null!==Ce)&&(Ie(),Pe())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Ae=!1}function Le(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,je=null,Fe=!1,Ue=null,ze={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,o,a,s,l){Me=!1,je=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,wt,Et,Ct,kt,xt=!1,Pt=[],Tt=null,It=null,Rt=null,Ot=new Map,Dt=new Map,At=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){xt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==Rt&&Ft(Rt)&&(Rt=null),Ot.forEach(Ut),Dt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Pt.length){Vt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==It&&Vt(It,e),null!==Rt&&Vt(Rt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)jt(n),null===n.blockedOn&&At.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=_t,o=Wt.transition;Wt.transition=null;try{_t=1,qt(e,t,n,r)}finally{_t=i,Wt.transition=o}}function $t(e,t,n,r){var i=_t,o=Wt.transition;Wt.transition=null;try{_t=4,qt(e,t,n,r)}finally{_t=i,Wt.transition=o}}function qt(e,t,n,r){if(Ht){var i=Jt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&St(o),null===(o=Jt(e,t,n,r))&&Hr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=Se(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=j({},un,{view:0,detail:0}),pn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(fn),mn=on(j({},fn,{dataTransfer:0})),gn=on(j({},dn,{relatedTarget:0})),vn=on(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(j({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Cn}var xn=j({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(xn),Tn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=on(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(On),An=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,jn=c&&(!Nn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){xe(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,qn=null;function Qn(e){Fr(e,0)}function Jn(e){if(q(bi(e)))return e}function Kn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),qn=$n=null)}function nr(e){if("value"===e.propertyName&&Jn(qn)){var t=[];Gn(t,qn,e,Se(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(qn)}function or(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Er={},Cr={};function kr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var xr=kr("animationend"),Pr=kr("animationiteration"),Tr=kr("animationstart"),Ir=kr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Rr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Nr=Or[Ar];Dr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Dr(xr,"onAnimationEnd"),Dr(Pr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=je;Me=!1,je=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,u),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Kt(t)){case 1:var i=Gt;break;case 4:i=$t;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=Se(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case xr:case Pr:case Tr:l=vn;break;case Ir:l=Rn;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=De(h,p))&&c.push(Gr(h,m,f)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[hi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:bi(l),f=null==u?s:bi(u),(s=new c(m,h+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,yi(i)===r&&((c=new c(p,h+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=qr(f))h++;for(f=0,m=p;m;m=qr(m))f++;for(;0<h-f;)c=qr(c),h--;for(;0<f-h;)p=qr(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=qr(c),p=qr(p)}c=null}else c=null;null!==l&&Qr(a,s,l,c,!1),null!==u&&null!==d&&Qr(a,d,u,c,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Hn(s))if(Yn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=$r(r,_)).length&&(_=new bn(_,e,null,n,i),a.push({event:_,listeners:v}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Nn&&zn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=De(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=De(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=De(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Kr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),pi="__reactFiber$"+di,fi="__reactProps$"+di,hi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[pi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[pi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[fi]||null}var wi=[],Ei=-1;function Ci(e){return{current:e}}function ki(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function xi(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Pi={},Ti=Ci(Pi),Ii=Ci(!1),Ri=Pi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){ki(Ii),ki(Ti)}function Ni(e,t,n){if(Ti.current!==Pi)throw Error(o(168));xi(Ti,t),xi(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ri=Ti.current,xi(Ti,e),xi(Ii,Ii.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ii),ki(Ti),xi(Ti,e)):ki(Ii),xi(Ii,n)}var Fi=null,Ui=!1,zi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe(Ze,Bi),i}finally{_t=t,zi=!1}}return null}var Wi=[],Hi=0,Gi=null,$i=0,qi=[],Qi=0,Ji=null,Ki=1,Yi="";function Xi(e,t){Wi[Hi++]=$i,Wi[Hi++]=Gi,Gi=e,$i=t}function Zi(e,t,n){qi[Qi++]=Ki,qi[Qi++]=Yi,qi[Qi++]=Ji,Ji=e;var r=Ki;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Ki=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Gi;)Gi=Wi[--Hi],Wi[Hi]=null,$i=Wi[--Hi],Wi[Hi]=null;for(;e===Ji;)Ji=qi[--Qi],qi[Qi]=null,Yi=qi[--Qi],qi[Qi]=null,Ki=qi[--Qi],qi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Ki,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function ho(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Au(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&_o(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case D:return p(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(i,d),io&&Xi(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(i,s[m],l))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return io&&Xi(i,m),u}for(d=r(i,d);m<s.length;m++)null!==(g=h(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),u}function g(i,s,l,u){var c=L(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,u);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),s=a(_,s,g),null===d?c=_:d.sibling=_,d=_,m=v}if(y.done)return n(i,m),io&&Xi(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(i,y.value,u))&&(s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return io&&Xi(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===E){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&_o(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=vo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===E?((o=Lu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Nu(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case w:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,l)).return=r,r=o}return s(r);case D:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(L(a))return g(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=ju(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var So=bo(!0),wo=bo(!1),Eo=Ci(null),Co=null,ko=null,xo=null;function Po(){xo=ko=Co=null}function To(e){var t=Eo.current;ki(Eo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){Co=e,xo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===Co)throw Error(o(308));ko=e,Co.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Do=null;function Ao(e){null===Do?Do=[e]:Do.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=j({},d,p);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Go={},$o=Ci(Go),qo=Ci(Go),Qo=Ci(Go);function Jo(e){if(e===Go)throw Error(o(174));return e}function Ko(e,t){switch(xi(Qo,t),xi(qo,e),xi($o,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki($o),xi($o,t)}function Yo(){ki($o),ki(qo),ki(Qo)}function Xo(e){Jo(Qo.current);var t=Jo($o.current),n=le(t,e.type);t!==n&&(xi(qo,e),xi($o,n))}function Zo(e){qo.current===e&&(ki($o),ki(qo))}var ea=Ci(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=b.ReactCurrentDispatcher,oa=b.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,da=!1,pa=0,fa=0;function ha(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,pa=0,25<=a)throw Error(o(301));a+=1,ua=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Xa,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(o(300));return e}function va(){var e=0!==pa;return pa=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function _a(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function ba(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,sa.lanes|=d,Ml|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function Ca(e,t){var n=sa,r=_a(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ma(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Oa(9,xa.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&aa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xa(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Ia(e)}function Pa(e,t,n){return n((function(){Ta(t)&&Ia(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ia(e){var t=Lo(e,1);null!==t&&nu(t,e,1,-1)}function Ra(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return _a().memoizedState}function Aa(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var i=_a();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Oa(t,n,o,r))}sa.flags|=e,i.memoizedState=Oa(1|t,n,o,r)}function La(e,t){return Aa(8390656,8,e,t)}function Ma(e,t){return Na(2048,8,e,t)}function ja(e,t){return Na(4,2,e,t)}function Fa(e,t){return Na(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,Ua.bind(null,t,e),n)}function Va(){}function Ba(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ga(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{_t=n,oa.transition=r}}function $a(){return _a().memoizedState}function qa(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Ka(t,n);else if(null!==(n=No(e,t,n,r))){nu(n,e,r,eu()),Ya(n,t,r)}}function Qa(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Ka(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ao(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=No(e,t,i,r))&&(nu(n,e,r,i=eu()),Ya(n,t,r))}}function Ja(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ka(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xa={readContext:Oo,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Za={readContext:Oo,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ra,useDebugValue:Va,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Ga.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&aa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,xa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Il.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Ki&~(1<<32-at(Ki)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Oo,useCallback:Ba,useContext:Oo,useEffect:Ma,useImperativeHandle:za,useInsertionEffect:ja,useLayoutEffect:Fa,useMemo:Wa,useReducer:Sa,useRef:Da,useState:function(){return Sa(ba)},useDebugValue:Va,useDeferredValue:function(e){return Ha(_a(),la.memoizedState,e)},useTransition:function(){return[Sa(ba)[0],_a().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Ca,useId:$a,unstable_isNewReconciler:!1},ts={readContext:Oo,useCallback:Ba,useContext:Oo,useEffect:Ma,useImperativeHandle:za,useInsertionEffect:ja,useLayoutEffect:Fa,useMemo:Wa,useReducer:wa,useRef:Da,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=_a();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[wa(ba)[0],_a().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Ca,useId:$a,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nu(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nu(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nu(t,e,r,n),Vo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Pi,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(i=Di(t)?Ri:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Oo(o):(o=Di(t)?Ri:Ti.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),ds(0,t)},n}function hs(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=b.ReactCurrentOwner,_s=!1;function bs(e,t,n,r){t.child=null===e?wo(t,null,n,r):So(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||_s?(io&&n&&eo(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Du(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Au(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return xs(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Al,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Al,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Al,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Al,Dl),Dl|=r;return bs(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var o=Di(n)?Ri:Ti.current;return o=Oi(t,o),Ro(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||_s?(io&&r&&eo(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ps(e,t,n,r,i){if(Di(n)){var o=!0;Mi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Ws(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Oo(u):u=Oi(t,u=Di(n)?Ri:Ti.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,a,r,u),Mo=!1;var p=t.memoizedState;a.state=p,Wo(t,r,a,i),l=t.memoizedState,s!==r||p!==l||Ii.current||Mo?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Mo||os(t,n,s,r,p,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,d=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oo(l):l=Oi(t,l=Di(n)?Ri:Ti.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||p!==l)&&ss(t,a,r,l),Mo=!1,p=t.memoizedState,a.state=p,Wo(t,r,a,i);var h=t.memoizedState;s!==d||p!==h||Ii.current||Mo?("function"===typeof f&&(rs(t,n,f,r),h=t.memoizedState),(u=Mo||os(t,n,u,r,p,h,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Hs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Ko(e,t.containerInfo)}function Rs(e,t,n,r,i){return ho(),mo(i),t.flags|=256,bs(e,t,n,r),t.child}var Os,Ds,As,Ns,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mu(l,i,0,null),e=Lu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(a=Lu(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&So(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=cs(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),nu(r,e,i,-1))}return mu(),Us(e,t,s,r=cs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[Qi++]=Ki,qi[Qi++]=Yi,qi[Qi++]=Ji,Ki=e.id,Yi=e.overflow,Ji=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Au(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Au(r,s):(s=Lu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Au(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),So(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Au(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Au(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:case 17:return Di(t.type)&&Ai(),$s(t),null;case 3:return r=t.stateNode,Yo(),ki(Ii),ki(Ti),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ds(e,t),$s(t),null;case 5:Zo(t);var i=Jo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $s(t),null}if(e=Jo($o.current),po(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[pi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":K(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":$(r),Z(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pi]=t,e[fi]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":K(e,r),i=J(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&_(e,a,c,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo(Qo.current),Jo($o.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return $s(t),null;case 13:if(ki(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),ho(),t.flags|=98560,a=!1;else if(a=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[pi]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$s(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Nl&&(Nl=3):mu())),null!==t.updateQueue&&(t.flags|=4),$s(t),null);case 4:return Yo(),Ds(e,t),null===e&&Br(t.stateNode.containerInfo),$s(t),null;case 10:return To(t.type._context),$s(t),null;case 19:if(ki(ea),null===(a=t.memoizedState))return $s(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return $s(t),null}else 2*Ye()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ea.current,xi(ea,r?1&n|2:1&n),t):($s(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&($s(t),6&t.subtreeFlags&&(t.flags|=8192)):$s(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),ki(Ii),ki(Ti),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ea),null;case 4:return Yo(),null;case 10:return To(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jo($o.current);var o,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Ks=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ks||Zs(n,t);case 6:var r=cl,i=dl;cl=null,pl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Ks&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cu(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,pl(e,t,n),Ks=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));fl(a,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Cu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),_e(l,s);var c=_e(l,a);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ge(i,p):"dangerouslySetInnerHTML"===d?de(i,p):"children"===d?pe(i,p):_(i,d,p,c)}switch(l){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Cu(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Cu(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ye())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||d,ml(t,e),Ks=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(h=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(p);continue}}null!==h?(h.return=f,Xs=h):Sl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{i=p.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){Cu(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),vl(e),4&r&&hl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Cu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xs=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Js;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Js;var u=Ks;if(Js=a,(Ks=l)&&!u)for(Xs=i;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?wl(i):null!==l?(l.return=a,Xs=l):wl(i);for(;null!==o;)Xs=o,_l(o,t,n),o=o.sibling;Xs=i,Js=s,Ks=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):bl(e)}}function bl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Bt(p)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&il(t)}catch(f){Cu(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Sl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cu(t,i,l)}}var o=t.return;try{il(t)}catch(l){Cu(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Cu(t,a,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var El,Cl=Math.ceil,kl=b.ReactCurrentDispatcher,xl=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,Tl=0,Il=null,Rl=null,Ol=0,Dl=0,Al=Ci(0),Nl=0,Ll=null,Ml=0,jl=0,Fl=0,Ul=null,zl=null,Vl=0,Bl=1/0,Wl=null,Hl=!1,Gl=null,$l=null,ql=!1,Ql=null,Jl=0,Kl=0,Yl=null,Xl=-1,Zl=0;function eu(){return 0!==(6&Tl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ol?Ol&-Ol:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,r){if(50<Kl)throw Kl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(jl|=n),4===Nl&&su(e,Ol)),ru(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Ye()+500,Ui&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Il?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lu.bind(null,e)):Vi(lu.bind(null,e)),ai((function(){0===(6&Tl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=pt(e,e===Il?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Tl;Tl|=2;var a=hu();for(Il===e&&Ol===t||(Wl=null,Bl=Ye()+500,pu(e,t));;)try{yu();break}catch(l){fu(e,l)}Po(),kl.current=a,Tl=i,null!==Rl?t=0:(Il=null,Ol=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=ou(e,i))),1===t)throw n=Ll,pu(e,0),su(e,r),ru(e,Ye()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(a=ht(e))&&(r=a,t=ou(e,a))),1===t))throw n=Ll,pu(e,0),su(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,zl,Wl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,zl,Wl),t);break}Su(e,zl,Wl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,zl,Wl),r);break}Su(e,zl,Wl);break;default:throw Error(o(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=zl,zl=n,null!==t&&au(t)),e}function au(e){null===zl?zl=e:zl.push.apply(zl,e)}function su(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Tl))throw Error(o(327));wu();var t=pt(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ll,pu(e,0),su(e,t),ru(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,zl,Wl),ru(e,Ye()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Ye()+500,Ui&&Bi())}}function cu(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&wu();var t=Tl;Tl|=1;var n=Pl.transition,r=_t;try{if(Pl.transition=null,_t=1,e)return e()}finally{_t=r,Pl.transition=n,0===(6&(Tl=t))&&Bi()}}function du(){Dl=Al.current,ki(Al)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Yo(),ki(Ii),ki(Ti),ra();break;case 5:Zo(r);break;case 4:Yo();break;case 13:case 19:ki(ea);break;case 10:To(r.type._context);break;case 22:case 23:du()}n=n.return}if(Il=e,Rl=e=Au(e.current,null),Ol=Dl=t,Nl=0,Ll=null,Fl=jl=Ml=0,zl=Ul=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(r=(n=Do[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Do=null}return e}function fu(e,t){for(;;){var n=Rl;try{if(Po(),ia.current=Xa,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=sa=null,da=!1,pa=0,xl.current=null,null===n||null===n.return){Nl=1,Ll=t,Rl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,vs(h,s,l,0,t),1&h.mode&&ms(a,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ms(a,c,t),mu();break e}u=Error(o(426))}else if(io&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mo(us(u,l));break e}}a=u=us(u,l),4!==Nl&&(Nl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,fs(0,u,t));break e;case 1:l=u;var y=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$l||!$l.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}bu(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function hu(){var e=kl.current;return kl.current=Xa,null===e?Xa:e}function mu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Il||0===(268435455&Ml)&&0===(268435455&jl)||su(Il,Ol)}function gu(e,t){var n=Tl;Tl|=2;var r=hu();for(Il===e&&Ol===t||(Wl=null,pu(e,t));;)try{vu();break}catch(i){fu(e,i)}if(Po(),Tl=n,kl.current=r,null!==Rl)throw Error(o(261));return Il=null,Ol=0,Nl}function vu(){for(;null!==Rl;)_u(Rl)}function yu(){for(;null!==Rl&&!Je();)_u(Rl)}function _u(e){var t=El(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bu(e):Rl=t,xl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Nl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Nl&&(Nl=5)}function Su(e,t,n){var r=_t,i=Pl.transition;try{Pl.transition=null,_t=1,function(e,t,n,r){do{wu()}while(null!==Ql);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Il&&(Rl=Il=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Iu(tt,(function(){return wu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var s=_t;_t=1;var l=Tl;Tl|=4,xl.current=null,function(e,t){if(ei=Ht,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(l=s+i),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===i&&(l=s),f===a&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(S){Cu(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ke(),Tl=l,_t=s,Pl.transition=a}else e.current=n;if(ql&&(ql=!1,Ql=e,Jl=i),a=e.pendingLanes,0===a&&($l=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&wu(),a=e.pendingLanes,0!==(1&a)?e===Yl?Kl++:(Kl=0,Yl=e):Kl=0,Bi()}(e,t,n,r)}finally{Pl.transition=i,_t=r}return null}function wu(){if(null!==Ql){var e=bt(Jl),t=Pl.transition,n=_t;try{if(Pl.transition=null,_t=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Jl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var f=(d=Xs).sibling,h=d.return;if(ol(d),d===c){Xs=null;break}if(null!==f){f.return=h,Xs=f;break}Xs=h}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var _=e.current;for(Xs=_;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=_;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Cu(l,l.return,w)}if(l===s){Xs=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Xs=S;break e}Xs=l.return}}if(Tl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Pl.transition=t}}return!1}function Eu(e,t,n){e=zo(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=zo(t,e=hs(t,e=us(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ol&n)===n&&(4===Nl||3===Nl&&(130023424&Ol)===Ol&&500>Ye()-Vl?pu(e,0):Fl|=n),ru(e,t)}function xu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Lo(e,t))&&(vt(e,t,n),ru(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xu(e,n)}function Iu(e,t){return qe(e,t)}function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Ru(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Au(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Du(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Lu(n.children,i,a,t);case C:s=8,i|=8;break;case k:return(e=Ou(12,n,t,2|i)).elementType=k,e.lanes=a,e;case I:return(e=Ou(13,n,t,i)).elementType=I,e.lanes=a,e;case R:return(e=Ou(19,n,t,i)).elementType=R,e.lanes=a,e;case A:return Mu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case P:s=9;break e;case T:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ou(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,i,o,a,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ou(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function Vu(e){if(!e)return Pi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function Bu(e,t,n,r,i,o,a,s,l){return(e=zu(n,r,!0,e,0,o,0,s,l)).context=Vu(null),n=e.current,(o=Uo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(nu(e,i,a,o),Vo(e,i,a)),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Is(t),ho();break;case 5:Xo(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(xi(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);xi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);Ro(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=ns(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),Wo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return js(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,xi(Eo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Uo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Io(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Oo(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ws(e,t,r,i=ns(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Ws(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ro(t,n),as(t,r,i),ls(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hu(a);s.call(e)}}Wu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hu(a);o.call(e)}}var a=Bu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=a,e[hi]=a.current,Br(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[hi]=l.current,Br(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(a)}Ju.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Ju.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[hi]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&jt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ye()),0===(6&Tl)&&(Bl=Ye()+500,Bi()))}break;case 13:cu((function(){var t=Lo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),$u(e,1)}},wt=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nu(t,e,134217728,eu());$u(e,134217728)}},Et=function(e){if(13===e.tag){var t=tu(e),n=Lo(e,t);if(null!==n)nu(n,e,t,eu());$u(e,t)}},Ct=function(){return _t},kt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));q(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ie=cu;var ec={usingClientEntryPoint:!1,Events:[_i,bi,Si,xe,Pe,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(o(299));var n=!1,r="",i=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ju(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},8367:(e,t,n)=>{"use strict";var r=n(3766);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},3766:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(306)},1241:(e,t,n)=>{"use strict";var r=n(9643),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},226:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var S=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,S(a)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",S(e))for(var u=0;u<e.length;u++){var c=o+T(s=e[u],u);l+=I(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,c=o+T(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},A={transition:null},N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:A,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},9643:(e,t,n)=>{"use strict";e.exports=n(226)},6507:(e,t,n)=>{"use strict";e.exports=n(1241)},6640:(e,t,n)=>{"use strict";var r=n(5440);function i(e,t,n,i,o){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var l="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+l,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function l(e,t){var n=new Error(t);return n.name=e,n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var c=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this.localDescription=null,this.remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw l("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"===typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};c.prototype.onicecandidate=null,c.prototype.onaddstream=null,c.prototype.ontrack=null,c.prototype.onremovestream=null,c.prototype.onsignalingstatechange=null,c.prototype.oniceconnectionstatechange=null,c.prototype.onicegatheringstatechange=null,c.prototype.onnegotiationneeded=null,c.prototype.ondatachannel=null,c.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"===typeof this["on"+e]&&this["on"+e](t))},c.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},c.prototype.getConfiguration=function(){return this._config},c.prototype.getLocalStreams=function(){return this.localStreams},c.prototype.getRemoteStreams=function(){return this.remoteStreams},c.prototype._createTransceiver=function(e){var t=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&t)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();n.iceTransport=r.iceTransport,n.dtlsTransport=r.dtlsTransport}return this.transceivers.push(n),n},c.prototype.addTrack=function(t,n){if(this._isClosed)throw l("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw l("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},c.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},c.prototype.removeTrack=function(t){if(this._isClosed)throw l("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw l("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},c.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},c.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},c.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},c.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},c.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,l=!s||0===Object.keys(s).length;if(l)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1;var u=r.writeCandidate(s);a.candidate=Object.assign(a.candidate,r.parseCandidate(u)),a.candidate.candidate=u}var c=r.getMediaSections(i.localDescription.sdp);c[a.candidate.sdpMLineIndex]+=l?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i.localDescription.sdp=r.getDescription(i.localDescription.sdp)+c.join("");var d=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),l||i._dispatchEvent("icecandidate",a),d&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},c.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},c.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},c.prototype._transceive=function(e,n,i){var a=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},c.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(l("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(l("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(i.remoteDescription.sdp),n=t.shift();var s=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=i.transceivers[t],l=a.iceGatherer,u=a.iceTransport,c=a.dtlsTransport,d=a.localCapabilities,p=a.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length)&&!a.isDatachannel){var f=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);s&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===u.state&&u.start(l,f,s?"controlling":"controlled"),"new"===c.state&&c.start(h));var m=o(d,p);i._transceive(a,m.codecs.length>0,!1)}}))}return i.localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},c.prototype.setRemoteDescription=function(i){var o=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(l("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,o.signalingState)||o._isClosed)return Promise.reject(l("InvalidStateError","Can not set remote "+i.type+" in state "+o.signalingState));var c={};o.remoteStreams.forEach((function(e){c[e.id]=e}));var d=[],p=r.splitSections(i.sdp),f=p.shift(),h=r.matchPrefix(f,"a=ice-lite").length>0,m=r.matchPrefix(f,"a=group:BUNDLE ").length>0;o.usingBundle=m;var g=r.matchPrefix(f,"a=ice-options:")[0];return o.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,p.forEach((function(a,l){var u=r.splitLines(a),p=r.getKind(a),g=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,v=u[0].substr(2).split(" ")[2],y=r.getDirection(a,f),_=r.parseMsid(a),b=r.getMid(a)||r.generateIdentifier();if("application"!==p||"DTLS/SCTP"!==v){var S,w,E,C,k,x,P,T,I,R,O,D=r.parseRtpParameters(a);g||(R=r.getIceParameters(a,f),(O=r.getDtlsParameters(a,f)).role="client"),P=r.parseRtpEncodingParameters(a);var A=r.parseRtcpParameters(a),N=r.matchPrefix(a,"a=end-of-candidates",f).length>0,L=r.matchPrefix(a,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!g&&m&&l>0&&o.transceivers[l]&&(o._disposeIceAndDtlsTransports(l),o.transceivers[l].iceGatherer=o.transceivers[0].iceGatherer,o.transceivers[l].iceTransport=o.transceivers[0].iceTransport,o.transceivers[l].dtlsTransport=o.transceivers[0].dtlsTransport,o.transceivers[l].rtpSender&&o.transceivers[l].rtpSender.setTransport(o.transceivers[0].dtlsTransport),o.transceivers[l].rtpReceiver&&o.transceivers[l].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)),"offer"!==i.type||g)"answer"!==i.type||g||(w=(S=o.transceivers[l]).iceGatherer,E=S.iceTransport,C=S.dtlsTransport,k=S.rtpReceiver,x=S.sendEncodingParameters,T=S.localCapabilities,o.transceivers[l].recvEncodingParameters=P,o.transceivers[l].remoteCapabilities=D,o.transceivers[l].rtcpParameters=A,L.length&&"new"===E.state&&(!h&&!N||m&&0!==l?L.forEach((function(e){s(S.iceTransport,e)})):E.setRemoteCandidates(L)),m&&0!==l||("new"===E.state&&E.start(w,R,"controlling"),"new"===C.state&&C.start(O)),o._transceive(S,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!k||"sendrecv"!==y&&"sendonly"!==y?delete S.rtpReceiver:(I=k.track,_?(c[_.stream]||(c[_.stream]=new e.MediaStream),n(I,c[_.stream]),d.push([I,k,c[_.stream]])):(c.default||(c.default=new e.MediaStream),n(I,c.default),d.push([I,k,c.default]))));else{(S=o.transceivers[l]||o._createTransceiver(p)).mid=b,S.iceGatherer||(S.iceGatherer=o._createIceGatherer(l,m)),L.length&&"new"===S.iceTransport.state&&(!N||m&&0!==l?L.forEach((function(e){s(S.iceTransport,e)})):S.iceTransport.setRemoteCandidates(L)),T=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(T.codecs=T.codecs.filter((function(e){return"rtx"!==e.name}))),x=S.sendEncodingParameters||[{ssrc:1001*(2*l+2)}];var M,j=!1;if("sendrecv"===y||"sendonly"===y){if(j=!S.rtpReceiver,k=S.rtpReceiver||new e.RTCRtpReceiver(S.dtlsTransport,p),j)I=k.track,_&&"-"===_.stream||(_?(c[_.stream]||(c[_.stream]=new e.MediaStream,Object.defineProperty(c[_.stream],"id",{get:function(){return _.stream}})),Object.defineProperty(I,"id",{get:function(){return _.track}}),M=c[_.stream]):(c.default||(c.default=new e.MediaStream),M=c.default)),M&&(n(I,M),S.associatedRemoteMediaStreams.push(M)),d.push([I,k,M])}else S.rtpReceiver&&S.rtpReceiver.track&&(S.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===S.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),S.associatedRemoteMediaStreams=[]);S.localCapabilities=T,S.remoteCapabilities=D,S.rtpReceiver=k,S.rtcpParameters=A,S.sendEncodingParameters=x,S.recvEncodingParameters=P,o._transceive(o.transceivers[l],!1,j)}}else o.transceivers[l]={mid:b,isDatachannel:!0}})),void 0===o._dtlsRole&&(o._dtlsRole="offer"===i.type?"active":"passive"),o.remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?o._updateSignalingState("have-remote-offer"):o._updateSignalingState("stable"),Object.keys(c).forEach((function(t){var n=c[t];if(n.getTracks().length){if(-1===o.remoteStreams.indexOf(n)){o.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){o._dispatchEvent("addstream",r)}))}d.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&u(o,t,r,[n])}))}})),d.forEach((function(e){e[2]||u(o,e[0],e[1],[])})),e.setTimeout((function(){o&&o.transceivers&&o.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},c.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},c.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},c.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},c.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},c.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(l("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter((function(e){return"audio"===e.kind})).length,a=n.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));o>0||a>0;)o>0&&(n._createTransceiver("audio"),o--),a>0&&(n._createTransceiver("video"),a--);var u=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,o){var a=i.track,s=i.kind,l=i.mid||r.generateIdentifier();i.mid=l,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var c=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!c[0].rtx&&(c[0].rtx={ssrc:c[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=u,i.sendEncodingParameters=c})),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){u+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,u+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var c=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(c)},c.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(l("InvalidStateError","Can not call createAnswer after close"));var a=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n");var s=r.getMediaSections(n.remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>s))if(e.isDatachannel)a+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+e.mid+"\r\n";else{var l;if(e.stream)"audio"===e.kind?l=e.stream.getAudioTracks()[0]:"video"===e.kind&&(l=e.stream.getVideoTracks()[0]),l&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},c.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,o){if(!n.remoteDescription)return o(l("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===e.sdpMid){a=u;break}var c=n.transceivers[a];if(!c)return o(l("OperationError","Can not add ICE candidate"));if(c.isDatachannel)return i();var d=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return i();if(d.component&&1!==d.component)return i();if((0===a||a>0&&c.iceTransport!==n.transceivers[0].iceTransport)&&!s(c.iceTransport,d))return o(l("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=r.getMediaSections(n.remoteDescription.sdp))[a]+="a="+(d.type?p:"end-of-candidates")+"\r\n",n.remoteDescription.sdp=t.join("")}else for(var f=0;f<n.transceivers.length&&(n.transceivers[f].isDatachannel||(n.transceivers[f].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n.remoteDescription.sdp))[f]+="a=end-of-candidates\r\n",n.remoteDescription.sdp=r.getDescription(n.remoteDescription.sdp)+t.join(""),!n.usingBundle));f++);i()}))},c.prototype.getStats=function(){var e=[];this.transceivers.forEach((function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(n){t[n]&&e.push(t[n].getStats())}))}));return new Promise((function(t){var n=new Map;Promise.all(e).then((function(e){e.forEach((function(e){Object.keys(e).forEach((function(t){var r;e[t].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[t]).type]||r.type,n.set(t,e[t])}))})),t(n)}))}))};var d=["createOffer","createAnswer"];return d.forEach((function(e){var t=c.prototype[e];c.prototype[e]=function(){var e=arguments;return"function"===typeof e[0]||"function"===typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"===typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"===typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=c.prototype[e];c.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]||"function"===typeof e[2]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)}),(function(t){"function"===typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=c.prototype[e];c.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),c}},3498:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,A(w);else{var t=r(c);null!==t&&N(S,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(x),x=-1),h=!0;var o=f;try{for(b(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!I());){var a=p.callback;if("function"===typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(u)&&i(u),b(n)}else i(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&N(S,d.startTime-n),l=!1}return l}finally{p=null,f=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,k=null,x=-1,P=5,T=-1;function I(){return!(t.unstable_now()-T<P)}function R(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?E():(C=!1,k=null)}}else C=!1}if("function"===typeof _)E=function(){_(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=R,E=function(){D.postMessage(null)}}else E=function(){v(R,0)};function A(e){k=e,C||(C=!0,E())}function N(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(x),x=-1):g=!0,N(S,o-a))):(e.sortIndex=s,n(u,e),m||h||(m=!0,A(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},1261:(e,t,n)=>{"use strict";e.exports=n(3498)},5440:e=>{"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=t.parseRtpMap(a),l=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=l.length?t.parseFmtp(l[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),l=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===l&&(n=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&l&&r.push({ssrc:l});var c=t.matchPrefix(e,"b=");return c.length&&(c=0===c[0].indexOf("b=TIAS:")?parseInt(c[0].substr(7),10):0===c[0].indexOf("b=AS:")?1e3*parseInt(c[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=c}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};if(t.matchPrefix(e,"a=sctpmap:").length>0){var a=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,i){var o=t.writeRtpDescription(e.kind,n);if(o+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),o},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t},480:e=>{"use strict";var t=function(){};e.exports=t},333:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(9643),t=n(8367),r=n(333),i=n.n(r),o=n(6507);const a=["xxl","xl","lg","md","sm","xs"],s="xs",l=e.createContext({prefixes:{},breakpoints:a,minBreakpoint:s}),{Consumer:u,Provider:c}=l;function d(t,n){const{prefixes:r}=(0,e.useContext)(l);return t||r[n]||n}function p(){const{breakpoints:t}=(0,e.useContext)(l);return t}function f(){const{minBreakpoint:t}=(0,e.useContext)(l);return t}const h=e.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:a="div",className:s,...l}=e;const u=d(n,"container"),c="string"===typeof r?`-${r}`:"-fluid";return(0,o.jsx)(a,{ref:t,...l,className:i()(s,r?`${u}${c}`:u)})}));h.displayName="Container";const m=h,g=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="div",...s}=e;const l=d(n,"row"),u=p(),c=f(),h=`${l}-cols`,m=[];return u.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==c?`-${e}`:"";null!=n&&m.push(`${h}${r}-${n}`)})),(0,o.jsx)(a,{ref:t,...s,className:i()(r,l,...m)})}));g.displayName="Row";const v=g;const y=e.forwardRef(((e,t)=>{const[{className:n,...r},{as:a="div",bsPrefix:s,spans:l}]=function(e){let{as:t,bsPrefix:n,className:r,...o}=e;n=d(n,"col");const a=p(),s=f(),l=[],u=[];return a.forEach((e=>{const t=o[e];let r,i,a;delete o[e],"object"===typeof t&&null!=t?({span:r,offset:i,order:a}=t):r=t;const c=e!==s?`-${e}`:"";r&&l.push(!0===r?`${n}${c}`:`${n}${c}-${r}`),null!=a&&u.push(`order${c}-${a}`),null!=i&&u.push(`offset${c}-${i}`)})),[{...o,className:i()(r,...l,...u)},{as:t,bsPrefix:n,spans:l}]}(e);return(0,o.jsx)(a,{...r,ref:t,className:i()(n,!l.length&&s)})}));y.displayName="Col";const _=y;function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(null,arguments)}function S(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n(2508);function w(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function E(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function C(t,n){return Object.keys(n).reduce((function(r,i){var o,a=r,s=a[w(i)],l=a[i],u=S(a,[w(i),i].map(E)),c=n[i],d=function(t,n,r){var i=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),a=o[0],s=o[1],l=void 0!==t,u=i.current;return i.current=l,!l&&u&&a!==n&&s(n),[l?t:a,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(l,s,t[c]),p=d[0],f=d[1];return b({},u,((o={})[i]=p,o[c]=f,o))}),t)}function k(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function x(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function P(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}k.__suppressDeprecationWarning=!0,x.__suppressDeprecationWarning=!0,P.__suppressDeprecationWarning=!0;const T=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t}),[t]),n};function I(t){const n=T(t);return(0,e.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const R=(O="h4",e.forwardRef(((e,t)=>(0,o.jsx)("div",{...e,ref:t,className:i()(e.className,O)}))));var O;R.displayName="DivStyledAsH4";const D=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=R,...s}=e;return r=d(r,"alert-heading"),(0,o.jsx)(a,{ref:t,className:i()(n,r),...s})}));D.displayName="AlertHeading";const A=D;"undefined"!==typeof n.g&&n.g.navigator&&n.g.navigator.product,new WeakMap;const N=["as","disabled"];function L(e){let{tagName:t,disabled:n,href:r,target:i,rel:o,role:a,onClick:s,tabIndex:l=0,type:u}=e;t||(t=null!=r||null!=i||null!=o?"a":"button");const c={tagName:t};if("button"===t)return[{type:u||"button",disabled:n},c];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},c]}const M=e.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,N);const[a,{tagName:s}]=L(Object.assign({tagName:n,disabled:r},i));return(0,o.jsx)(s,Object.assign({},i,a,{ref:t}))}));M.displayName="Button";const j=["onKeyDown"];const F=e.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,j);const[i]=L(Object.assign({tagName:"a"},r)),a=I((e=>{i.onKeyDown(e),null==n||n(e)}));return(s=r.href)&&"#"!==s.trim()&&"button"!==r.role?(0,o.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,o.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:a}));var s}));F.displayName="Anchor";const U=F,z=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=U,...s}=e;return r=d(r,"alert-link"),(0,o.jsx)(a,{ref:t,className:i()(n,r),...s})}));z.displayName="AlertLink";const V=z;function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}var W=n(3766);const H=!1,G=e.createContext(null);var $="unmounted",q="exited",Q="entering",J="entered",K="exiting",Y=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=q,r.appearStatus=Q):i=J:i=e.unmountOnExit||e.mountOnEnter?$:q,r.state={status:i},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,B(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===$?{status:q}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Q&&n!==J&&(t=Q):n!==Q&&n!==J||(t=K)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Q){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:W.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===q&&this.setState({status:$})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[W.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||H?this.safeSetState({status:J},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Q},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:J},(function(){t.props.onEntered(o,a)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:W.findDOMNode(this);t&&!H?(this.props.onExit(r),this.safeSetState({status:K},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:q},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:q},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:W.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var t=this.state.status;if(t===$)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,S(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(G.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function X(){}Y.contextType=G,Y.propTypes={},Y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:X,onEntering:X,onEntered:X,onExit:X,onExiting:X,onExited:X},Y.UNMOUNTED=$,Y.EXITED=q,Y.ENTERING=Q,Y.ENTERED=J,Y.EXITING=K;const Z=Y;function ee(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var te=/([A-Z])/g;var ne=/^ms-/;function re(e){return function(e){return e.replace(te,"-$1").toLowerCase()}(e).replace(ne,"-ms-")}var ie=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const oe=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(re(t))||function(e,t){return ee(e).getComputedStyle(e,t)}(e).getPropertyValue(re(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!ie.test(e))}(i)?n+=re(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(re(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},ae=!("undefined"===typeof window||!window.document||!window.document.createElement);var se=!1,le=!1;try{var ue={get passive(){return se=!0},get once(){return le=se=!0}};ae&&(window.addEventListener("test",ue,ue),window.removeEventListener("test",ue,!0))}catch(pt){}const ce=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!le){var i=r.once,o=r.capture,a=n;!le&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,se?r:o)}e.addEventListener(t,n,r)};const de=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const pe=function(e,t,n,r){return ce(e,t,n,r),function(){de(e,t,n,r)}};function fe(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=pe(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function he(e,t,n,r){null==n&&(n=function(e){var t=oe(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=fe(e,n,r),o=pe(e,"transitionend",t);return function(){i(),o()}}function me(e,t){const n=oe(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function ge(e,t){const n=me(e,"transitionDuration"),r=me(e,"transitionDelay"),i=he(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const ve=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const ye=function(t,n){return(0,e.useMemo)((()=>function(e,t){const n=ve(e),r=ve(t);return e=>{n&&n(e),r&&r(e)}}(t,n)),[t,n])};const _e=e.forwardRef(((t,n)=>{let{onEnter:r,onEntering:i,onEntered:a,onExit:s,onExiting:l,onExited:u,addEndListener:c,children:d,childRef:p,...f}=t;const h=(0,e.useRef)(null),m=ye(h,p),g=e=>{var t;m((t=e)&&"setState"in t?W.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&h.current&&e(h.current,t)},y=(0,e.useCallback)(v(r),[r]),_=(0,e.useCallback)(v(i),[i]),b=(0,e.useCallback)(v(a),[a]),S=(0,e.useCallback)(v(s),[s]),w=(0,e.useCallback)(v(l),[l]),E=(0,e.useCallback)(v(u),[u]),C=(0,e.useCallback)(v(c),[c]);return(0,o.jsx)(Z,{ref:n,...f,onEnter:y,onEntered:b,onEntering:_,onExit:S,onExited:E,onExiting:w,addEndListener:C,nodeRef:h,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:g}):e.cloneElement(d,{ref:g})})})),be={[Q]:"show",[J]:"show"},Se=e.forwardRef(((t,n)=>{let{className:r,children:a,transitionClasses:s={},onEnter:l,...u}=t;const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...u},d=(0,e.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==l||l(e,t)}),[l]);return(0,o.jsx)(_e,{ref:n,addEndListener:ge,...c,onEnter:d,childRef:a.ref,children:(t,n)=>e.cloneElement(a,{...n,className:i()("fade",r,a.props.className,be[t],s[t])})})}));Se.displayName="Fade";const we=Se;var Ee=n(3837),Ce=n.n(Ee);const ke={"aria-label":Ce().string,onClick:Ce().func,variant:Ce().oneOf(["white"])},xe=e.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":a="Close",...s}=e;return(0,o.jsx)("button",{ref:t,type:"button",className:i()("btn-close",r&&`btn-close-${r}`,n),"aria-label":a,...s})}));xe.displayName="CloseButton",xe.propTypes=ke;const Pe=xe,Te=e.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:a="Close alert",closeVariant:s,className:l,children:u,variant:c="primary",onClose:p,dismissible:f,transition:h=we,...m}=C(e,{show:"onClose"}),g=d(n,"alert"),v=I((e=>{p&&p(!1,e)})),y=!0===h?we:h,_=(0,o.jsxs)("div",{role:"alert",...y?void 0:m,ref:t,className:i()(l,g,c&&`${g}-${c}`,f&&`${g}-dismissible`),children:[f&&(0,o.jsx)(Pe,{onClick:v,"aria-label":a,variant:s}),u]});return y?(0,o.jsx)(y,{unmountOnExit:!0,...m,ref:void 0,in:r,children:_}):r?_:null}));Te.displayName="Alert";const Ie=Object.assign(Te,{Link:V,Heading:A}),Re={type:Ce().string,tooltip:Ce().bool,as:Ce().elementType},Oe=e.forwardRef(((e,t)=>{let{as:n="div",className:r,type:a="valid",tooltip:s=!1,...l}=e;return(0,o.jsx)(n,{...l,ref:t,className:i()(r,`${a}-${s?"tooltip":"feedback"}`)})}));Oe.displayName="Feedback",Oe.propTypes=Re;const De=Oe,Ae=e.createContext({}),Ne=e.forwardRef(((t,n)=>{let{id:r,bsPrefix:a,className:s,type:l="checkbox",isValid:u=!1,isInvalid:c=!1,as:p="input",...f}=t;const{controlId:h}=(0,e.useContext)(Ae);return a=d(a,"form-check-input"),(0,o.jsx)(p,{...f,ref:n,type:l,id:r||h,className:i()(s,a,u&&"is-valid",c&&"is-invalid")})}));Ne.displayName="FormCheckInput";const Le=Ne,Me=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:a,htmlFor:s,...l}=t;const{controlId:u}=(0,e.useContext)(Ae);return r=d(r,"form-check-label"),(0,o.jsx)("label",{...l,ref:n,htmlFor:s||u,className:i()(a,r)})}));Me.displayName="FormCheckLabel";const je=Me;const Fe=e.forwardRef(((t,n)=>{let{id:r,bsPrefix:a,bsSwitchPrefix:s,inline:l=!1,reverse:u=!1,disabled:c=!1,isValid:p=!1,isInvalid:f=!1,feedbackTooltip:h=!1,feedback:m,feedbackType:g,className:v,style:y,title:_="",type:b="checkbox",label:S,children:w,as:E="input",...C}=t;a=d(a,"form-check"),s=d(s,"form-switch");const{controlId:k}=(0,e.useContext)(Ae),x=(0,e.useMemo)((()=>({controlId:r||k})),[k,r]),P=!w&&null!=S&&!1!==S||function(t,n){return e.Children.toArray(t).some((t=>e.isValidElement(t)&&t.type===n))}(w,je),T=(0,o.jsx)(Le,{...C,type:"switch"===b?"checkbox":b,ref:n,isValid:p,isInvalid:f,disabled:c,as:E});return(0,o.jsx)(Ae.Provider,{value:x,children:(0,o.jsx)("div",{style:y,className:i()(v,P&&a,l&&`${a}-inline`,u&&`${a}-reverse`,"switch"===b&&s),children:w||(0,o.jsxs)(o.Fragment,{children:[T,P&&(0,o.jsx)(je,{title:_,children:S}),m&&(0,o.jsx)(De,{type:g,tooltip:h,children:m})]})})})}));Fe.displayName="FormCheck";const Ue=Object.assign(Fe,{Input:Le,Label:je});n(480);const ze=e.forwardRef(((t,n)=>{let{bsPrefix:r,type:a,size:s,htmlSize:l,id:u,className:c,isValid:p=!1,isInvalid:f=!1,plaintext:h,readOnly:m,as:g="input",...v}=t;const{controlId:y}=(0,e.useContext)(Ae);return r=d(r,"form-control"),(0,o.jsx)(g,{...v,type:a,size:l,ref:n,readOnly:m,id:u||y,className:i()(c,h?`${r}-plaintext`:r,s&&`${r}-${s}`,"color"===a&&`${r}-color`,p&&"is-valid",f&&"is-invalid")})}));ze.displayName="FormControl";const Ve=Object.assign(ze,{Feedback:De}),Be=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...s}=e;return r=d(r,"form-floating"),(0,o.jsx)(a,{ref:t,className:i()(n,r),...s})}));Be.displayName="FormFloating";const We=Be,He=e.forwardRef(((t,n)=>{let{controlId:r,as:i="div",...a}=t;const s=(0,e.useMemo)((()=>({controlId:r})),[r]);return(0,o.jsx)(Ae.Provider,{value:s,children:(0,o.jsx)(i,{...a,ref:n})})}));He.displayName="FormGroup";const Ge=He,$e=e.forwardRef(((t,n)=>{let{as:r="label",bsPrefix:a,column:s=!1,visuallyHidden:l=!1,className:u,htmlFor:c,...p}=t;const{controlId:f}=(0,e.useContext)(Ae);a=d(a,"form-label");let h="col-form-label";"string"===typeof s&&(h=`${h} ${h}-${s}`);const m=i()(u,a,l&&"visually-hidden",s&&h);return c=c||f,s?(0,o.jsx)(_,{ref:n,as:"label",className:m,htmlFor:c,...p}):(0,o.jsx)(r,{ref:n,className:m,htmlFor:c,...p})}));$e.displayName="FormLabel";const qe=$e,Qe=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:a,id:s,...l}=t;const{controlId:u}=(0,e.useContext)(Ae);return r=d(r,"form-range"),(0,o.jsx)("input",{...l,type:"range",ref:n,className:i()(a,r),id:s||u})}));Qe.displayName="FormRange";const Je=Qe,Ke=e.forwardRef(((t,n)=>{let{bsPrefix:r,size:a,htmlSize:s,className:l,isValid:u=!1,isInvalid:c=!1,id:p,...f}=t;const{controlId:h}=(0,e.useContext)(Ae);return r=d(r,"form-select"),(0,o.jsx)("select",{...f,size:s,ref:n,className:i()(l,r,a&&`${r}-${a}`,u&&"is-valid",c&&"is-invalid"),id:p||h})}));Ke.displayName="FormSelect";const Ye=Ke,Xe=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="small",muted:s,...l}=e;return n=d(n,"form-text"),(0,o.jsx)(a,{...l,ref:t,className:i()(r,n,s&&"text-muted")})}));Xe.displayName="FormText";const Ze=Xe,et=e.forwardRef(((e,t)=>(0,o.jsx)(Ue,{...e,ref:t,type:"switch"})));et.displayName="Switch";const tt=Object.assign(et,{Input:Ue.Input,Label:Ue.Label}),nt=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:a,controlId:s,label:l,...u}=e;return n=d(n,"form-floating"),(0,o.jsxs)(Ge,{ref:t,className:i()(r,n),controlId:s,...u,children:[a,(0,o.jsx)("label",{htmlFor:s,children:l})]})}));nt.displayName="FloatingLabel";const rt=nt,it={_ref:Ce().any,validated:Ce().bool,as:Ce().elementType},ot=e.forwardRef(((e,t)=>{let{className:n,validated:r,as:a="form",...s}=e;return(0,o.jsx)(a,{...s,ref:t,className:i()(n,r&&"was-validated")})}));ot.displayName="Form",ot.propTypes=it;const at=Object.assign(ot,{Group:Ge,Control:Ve,Floating:We,Check:Ue,Switch:tt,Label:qe,Text:Ze,Range:Je,Select:Ye,FloatingLabel:rt}),st=e.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:a="primary",size:s,active:l=!1,disabled:u=!1,className:c,...p}=e;const f=d(r,"btn"),[h,{tagName:m}]=L({tagName:n,disabled:u,...p}),g=m;return(0,o.jsx)(g,{...h,...p,ref:t,disabled:u,className:i()(c,f,l&&"active",a&&`${f}-${a}`,s&&`${f}-${s}`,p.href&&u&&"disabled")})}));st.displayName="Button";const lt=st,ut=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(!1),[a,s]=(0,e.useState)(!1),[l,u]=(0,e.useState)("");return(0,o.jsx)(m,{className:"dialer-container",children:(0,o.jsx)(v,{className:"justify-content-center",children:(0,o.jsx)(_,{md:6,children:(0,o.jsxs)("div",{className:"card p-4 shadow",children:[(0,o.jsx)("h2",{className:"text-center mb-4",children:"Virtual Number Caller"}),l&&(0,o.jsx)(Ie,{variant:"danger",children:l}),(0,o.jsxs)(at,{children:[(0,o.jsxs)(at.Group,{controlId:"formPhoneNumber",children:[(0,o.jsx)(at.Label,{children:"Phone Number"}),(0,o.jsx)(at.Control,{type:"tel",placeholder:"Enter phone number",value:t,onChange:e=>n(e.target.value)})]}),(0,o.jsxs)("div",{className:"mt-4 text-center",children:[(0,o.jsx)(lt,{variant:"primary",className:"mx-2",onClick:async()=>{i(!0),u("");try{const e=await fetch("/api/call/50-calls",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();console.log(t.message)}catch(e){console.error("Error making calls:",e),u("Error making calls.")}finally{i(!1)}},disabled:r,children:r?"Calling...":"Call 50 Numbers"}),(0,o.jsx)(lt,{variant:"primary",className:"mx-2",onClick:async()=>{if(t){i(!0),u("");try{const e=await fetch("/api/call",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:t})}),n=await e.json();console.log(n.message)}catch(e){console.error("Error making call:",e),u("Error making call.")}finally{i(!1)}}else u("Please enter a phone number.")},disabled:r,children:r?"Calling...":"Call This Number"}),(0,o.jsx)(lt,{variant:"secondary",className:"mx-2",onClick:()=>{r?(s(!a),u("")):u("You must be on a call to start recording.")},disabled:!r,children:a?"Stop Recording":"Record Call"})]}),r&&(0,o.jsx)("div",{className:"call-status mt-3",children:(0,o.jsxs)("h5",{children:["Status: ",a?"Recording...":"In Call"]})})]})]})})})})},ct=e=>{let{onHangUp:t}=e;return(0,o.jsxs)("div",{className:"call-screen",children:[(0,o.jsx)("h2",{children:"Calling..."}),(0,o.jsx)("button",{onClick:t,children:"Hang Up"})]})};n(6114);const dt=()=>{const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(null);return(0,o.jsx)("div",{className:"app",children:t?(0,o.jsx)(ct,{onHangUp:()=>{r.disconnectAll(),n(!1)}}):(0,o.jsx)(ut,{onCall:e=>{if(!r){const e=new Device("YOUR_TWILIO_ACCESS_TOKEN");e.on("ready",(()=>{console.log("Twilio device is ready")})),i(e)}r.connect({To:e}),n(!0)}})})};t.createRoot(document.getElementById("root")).render((0,o.jsx)(e.StrictMode,{children:(0,o.jsx)(dt,{})}))})()})();
//# sourceMappingURL=main.9436fc8a.js.map