{"ast":null,"code":"\"use strict\";\n\n/**\n * @packageDocumentation\n * @module Voice\n * @internalapi\n */\n// @ts-nocheck\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.promisifyEvents = exports.flatMap = exports.queryToJson = exports.isUnifiedPlanDefault = exports.isSafari = exports.isLegacyEdge = exports.isFirefox = exports.isChrome = exports.isElectron = exports.difference = exports.average = exports.Exception = void 0;\n/**\n * Exception class.\n * @class\n * @name Exception\n * @exports Exception as Twilio.Exception\n * @memberOf Twilio\n * @param {string} message The exception message\n */\nfunction TwilioException(message) {\n  if (!(this instanceof TwilioException)) {\n    return new TwilioException(message);\n  }\n  this.message = message;\n}\n/**\n * Returns the exception message.\n *\n * @return {string} The exception message.\n */\nTwilioException.prototype.toString = function () {\n  return \"Twilio.Exception: \" + this.message;\n};\nfunction average(values) {\n  return values && values.length ? values.reduce(function (t, v) {\n    return t + v;\n  }) / values.length : 0;\n}\nexports.average = average;\nfunction difference(lefts, rights, getKey) {\n  getKey = getKey || function (a) {\n    return a;\n  };\n  var rightKeys = new Set(rights.map(getKey));\n  return lefts.filter(function (left) {\n    return !rightKeys.has(getKey(left));\n  });\n}\nexports.difference = difference;\nfunction isElectron(navigator) {\n  return !!navigator.userAgent.match('Electron');\n}\nexports.isElectron = isElectron;\nfunction isChrome(window, navigator) {\n  var isCriOS = !!navigator.userAgent.match('CriOS');\n  var isHeadlessChrome = !!navigator.userAgent.match('HeadlessChrome');\n  var isGoogle = typeof window.chrome !== 'undefined' && navigator.vendor === 'Google Inc.' && navigator.userAgent.indexOf('OPR') === -1 && navigator.userAgent.indexOf('Edge') === -1;\n  return isCriOS || isElectron(navigator) || isGoogle || isHeadlessChrome;\n}\nexports.isChrome = isChrome;\nfunction isFirefox(navigator) {\n  navigator = navigator || (typeof window === 'undefined' ? global.navigator : window.navigator);\n  return !!navigator && typeof navigator.userAgent === 'string' && /firefox|fxios/i.test(navigator.userAgent);\n}\nexports.isFirefox = isFirefox;\nfunction isLegacyEdge(navigator) {\n  navigator = navigator || (typeof window === 'undefined' ? global.navigator : window.navigator);\n  return !!navigator && typeof navigator.userAgent === 'string' && /edge\\/\\d+/i.test(navigator.userAgent);\n}\nexports.isLegacyEdge = isLegacyEdge;\nfunction isSafari(navigator) {\n  return !!navigator.vendor && navigator.vendor.indexOf('Apple') !== -1 && navigator.userAgent && navigator.userAgent.indexOf('CriOS') === -1 && navigator.userAgent.indexOf('FxiOS') === -1;\n}\nexports.isSafari = isSafari;\nfunction isUnifiedPlanDefault(window, navigator, PeerConnection, RtpTransceiver) {\n  if (typeof window === 'undefined' || typeof navigator === 'undefined' || typeof PeerConnection === 'undefined' || typeof RtpTransceiver === 'undefined' || typeof PeerConnection.prototype === 'undefined' || typeof RtpTransceiver.prototype === 'undefined') {\n    return false;\n  }\n  if (isChrome(window, navigator) && PeerConnection.prototype.addTransceiver) {\n    var pc = new PeerConnection();\n    var isUnifiedPlan = true;\n    try {\n      pc.addTransceiver('audio');\n    } catch (e) {\n      isUnifiedPlan = false;\n    }\n    pc.close();\n    return isUnifiedPlan;\n  } else if (isFirefox(navigator)) {\n    return true;\n  } else if (isSafari(navigator)) {\n    return 'currentDirection' in RtpTransceiver.prototype;\n  }\n  // Edge currently does not support unified plan.\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/17733189/\n  // https://wpdev.uservoice.com/forums/257854-microsoft-edge-developer/suggestions/34451998-sdp-unified-plan\n  return false;\n}\nexports.isUnifiedPlanDefault = isUnifiedPlanDefault;\nfunction queryToJson(params) {\n  if (!params) {\n    return '';\n  }\n  return params.split('&').reduce(function (output, pair) {\n    var parts = pair.split('=');\n    var key = parts[0];\n    var value = decodeURIComponent((parts[1] || '').replace(/\\+/g, '%20'));\n    if (key) {\n      output[key] = value;\n    }\n    return output;\n  }, {});\n}\nexports.queryToJson = queryToJson;\n/**\n * Map a list to an array of arrays, and return the flattened result.\n * @param {Array<*>|Set<*>|Map<*>} list\n * @param {function(*): Array<*>} [mapFn]\n * @returns Array<*>\n */\nfunction flatMap(list, mapFn) {\n  var listArray = list instanceof Map || list instanceof Set ? Array.from(list.values()) : list;\n  mapFn = mapFn || function (item) {\n    return item;\n  };\n  return listArray.reduce(function (flattened, item) {\n    var mapped = mapFn(item);\n    return flattened.concat(mapped);\n  }, []);\n}\nexports.flatMap = flatMap;\n/**\n * Converts an EventEmitter's events into a promise and automatically\n * cleans up handlers once the promise is resolved or rejected.\n */\nfunction promisifyEvents(emitter, resolveEventName, rejectEventName) {\n  return new Promise(function (resolve, reject) {\n    function resolveHandler() {\n      emitter.removeListener(rejectEventName, rejectHandler);\n      resolve();\n    }\n    function rejectHandler() {\n      emitter.removeListener(resolveEventName, resolveHandler);\n      reject();\n    }\n    emitter.once(resolveEventName, resolveHandler);\n    emitter.once(rejectEventName, rejectHandler);\n  });\n}\nexports.promisifyEvents = promisifyEvents;\nvar Exception = TwilioException;\nexports.Exception = Exception;","map":{"version":3,"names":["TwilioException","message","prototype","toString","average","values","length","reduce","t","v","exports","difference","lefts","rights","getKey","a","rightKeys","Set","map","filter","left","has","isElectron","navigator","userAgent","match","isChrome","window","isCriOS","isHeadlessChrome","isGoogle","chrome","vendor","indexOf","isFirefox","global","test","isLegacyEdge","isSafari","isUnifiedPlanDefault","PeerConnection","RtpTransceiver","addTransceiver","pc","isUnifiedPlan","e","close","queryToJson","params","split","output","pair","parts","key","value","decodeURIComponent","replace","flatMap","list","mapFn","listArray","Map","Array","from","item","flattened","mapped","concat","promisifyEvents","emitter","resolveEventName","rejectEventName","Promise","resolve","reject","resolveHandler","removeListener","rejectHandler","once","Exception"],"sources":["C:\\Users\\91629\\Desktop\\Delote\\calling software\\node_modules\\@twilio\\voice-sdk\\lib\\twilio\\util.ts"],"sourcesContent":["/**\n * @packageDocumentation\n * @module Voice\n * @internalapi\n */\n// @ts-nocheck\n\n/**\n * Exception class.\n * @class\n * @name Exception\n * @exports Exception as Twilio.Exception\n * @memberOf Twilio\n * @param {string} message The exception message\n */\nfunction TwilioException(message) {\n  if (!(this instanceof TwilioException)) {\n    return new TwilioException(message);\n  }\n  this.message = message;\n}\n\n/**\n * Returns the exception message.\n *\n * @return {string} The exception message.\n */\nTwilioException.prototype.toString = function() {\n  return `Twilio.Exception: ${this.message}`;\n};\n\nfunction average(values) {\n  return values && values.length ? values.reduce((t, v) => t + v) / values.length : 0;\n}\n\nfunction difference(lefts, rights, getKey?) {\n  getKey = getKey || (a => a);\n  const rightKeys = new Set(rights.map(getKey));\n  return lefts.filter(left => !rightKeys.has(getKey(left)));\n}\n\nfunction isElectron(navigator) {\n  return !!navigator.userAgent.match('Electron');\n}\n\nfunction isChrome(window, navigator) {\n  const isCriOS = !!navigator.userAgent.match('CriOS');\n  const isHeadlessChrome = !!navigator.userAgent.match('HeadlessChrome');\n  const isGoogle = typeof window.chrome !== 'undefined'\n    && navigator.vendor === 'Google Inc.'\n    && navigator.userAgent.indexOf('OPR') === -1\n    && navigator.userAgent.indexOf('Edge') === -1;\n\n  return isCriOS || isElectron(navigator) || isGoogle || isHeadlessChrome;\n}\n\nfunction isFirefox(navigator?) {\n  navigator = navigator || (typeof window === 'undefined'\n    ? global.navigator : window.navigator);\n\n  return !!(navigator) && typeof navigator.userAgent === 'string'\n    && /firefox|fxios/i.test(navigator.userAgent);\n}\n\nfunction isLegacyEdge(navigator?) {\n  navigator = navigator || (typeof window === 'undefined'\n    ? global.navigator : window.navigator);\n\n  return !!(navigator) && typeof navigator.userAgent === 'string'\n    && /edge\\/\\d+/i.test(navigator.userAgent);\n}\n\nfunction isSafari(navigator) {\n  return !!(navigator.vendor) && navigator.vendor.indexOf('Apple') !== -1\n    && navigator.userAgent\n    && navigator.userAgent.indexOf('CriOS') === -1\n    && navigator.userAgent.indexOf('FxiOS') === -1;\n}\n\nfunction isUnifiedPlanDefault(window, navigator, PeerConnection, RtpTransceiver) {\n  if (typeof window === 'undefined'\n    || typeof navigator === 'undefined'\n    || typeof PeerConnection === 'undefined'\n    || typeof RtpTransceiver === 'undefined'\n    || typeof PeerConnection.prototype === 'undefined'\n    || typeof RtpTransceiver.prototype === 'undefined') {\n    return false;\n  }\n\n  if (isChrome(window, navigator) && PeerConnection.prototype.addTransceiver) {\n    const pc = new PeerConnection();\n    let isUnifiedPlan = true;\n    try {\n      pc.addTransceiver('audio');\n    } catch (e) {\n      isUnifiedPlan = false;\n    }\n    pc.close();\n    return isUnifiedPlan;\n  } else if (isFirefox(navigator)) {\n    return true;\n  } else if (isSafari(navigator)) {\n    return 'currentDirection' in RtpTransceiver.prototype;\n  }\n\n  // Edge currently does not support unified plan.\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/17733189/\n  // https://wpdev.uservoice.com/forums/257854-microsoft-edge-developer/suggestions/34451998-sdp-unified-plan\n\n  return false;\n}\n\nfunction queryToJson(params) {\n  if (!params) {\n    return '';\n  }\n\n  return params.split('&').reduce((output, pair) => {\n    const parts = pair.split('=');\n    const key = parts[0];\n    const value = decodeURIComponent((parts[1] || '').replace(/\\+/g, '%20'));\n\n    if (key) { output[key] = value; }\n    return output;\n  }, { });\n}\n\n/**\n * Map a list to an array of arrays, and return the flattened result.\n * @param {Array<*>|Set<*>|Map<*>} list\n * @param {function(*): Array<*>} [mapFn]\n * @returns Array<*>\n */\nfunction flatMap(list, mapFn) {\n  const listArray = list instanceof Map || list instanceof Set\n    ? Array.from(list.values())\n    : list;\n\n  mapFn = mapFn || (item => item);\n\n  return listArray.reduce((flattened, item) => {\n    const mapped = mapFn(item);\n    return flattened.concat(mapped);\n  }, []);\n}\n\n/**\n * Converts an EventEmitter's events into a promise and automatically\n * cleans up handlers once the promise is resolved or rejected.\n */\nfunction promisifyEvents(emitter, resolveEventName, rejectEventName) {\n  return new Promise((resolve, reject) => {\n    function resolveHandler() {\n      emitter.removeListener(rejectEventName, rejectHandler);\n      resolve();\n    }\n    function rejectHandler() {\n      emitter.removeListener(resolveEventName, resolveHandler);\n      reject();\n    }\n    emitter.once(resolveEventName, resolveHandler);\n    emitter.once(rejectEventName, rejectHandler);\n  });\n}\n\nconst Exception = TwilioException;\n\nexport {\n  Exception,\n  average,\n  difference,\n  isElectron,\n  isChrome,\n  isFirefox,\n  isLegacyEdge,\n  isSafari,\n  isUnifiedPlanDefault,\n  queryToJson,\n  flatMap,\n  promisifyEvents,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}